webpackJsonp([0,5],{"+0Yu":function(e,t,n){"use strict";var r=n("3j3K"),i=n("Fzro"),o=n("rCTf"),a=(n.n(o),n("0lrd")),s=(n.n(a),n("+pb+")),c=(n.n(s),n("EnA3")),l=(n.n(c),n("6Yye")),u=(n.n(l),n("eErF")),d=(n.n(u),n("x35b"));n.d(t,"a",function(){return b});var f=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},h=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},v=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},b=function(){function e(e){this._http=e,this._apiURL=d.API.url,this._headers=new i.b,this._headers.append("Content-Type","application/json; charset=utf-8"),this._headers.append("Authorization",JSON.parse(localStorage.getItem("currentUser")).token),this._options=new i.c({headers:this._headers})}return e.prototype.getClassesByPrimarySchool=function(e){return this._http.get(this._apiURL+"/class/primary/"+e,this._options).map(function(e){return e.json().result?e.json().data:(console.log(e.json().info),null)}).catch(this._handleError)},e.prototype.getClassesByKindergarten=function(e){return this._http.get(this._apiURL+"/class/kindergarten/"+e,this._options).map(function(e){return e.json().result?e.json().data:(console.log(e.json().info),null)}).catch(this._handleError)},e.prototype.getStudentsByClass=function(e){return p(this,void 0,void 0,function(){var t;return v(this,function(n){switch(n.label){case 0:return[4,this._http.get(this._apiURL+"/student/class/"+e,this._options).toPromise()];case 1:return t=n.sent(),t.json().result?[2,t.json().data]:(console.log(t.json().info),[2,null])}})})},e.prototype.getTeachersByClass=function(e){return p(this,void 0,void 0,function(){var t;return v(this,function(n){switch(n.label){case 0:return[4,this._http.get(this._apiURL+"/teacher/class/"+e,this._options).toPromise()];case 1:return t=n.sent(),t.json().result?[2,t.json().data]:(console.log(t.json().info),[2,null])}})})},e.prototype.getClassProfile=function(e){return p(this,void 0,void 0,function(){var t;return v(this,function(n){switch(n.label){case 0:return[4,this._http.get(this._apiURL+"/class/profile/"+e,this._options).toPromise()];case 1:return t=n.sent(),[2,t.json().result?t.json().data:0]}})})},e.prototype.getClassesByUser=function(e){return p(this,void 0,void 0,function(){var t;return v(this,function(n){switch(n.label){case 0:return[4,this._http.get(this._apiURL+"/class/student/"+e,this._options).toPromise()];case 1:return t=n.sent(),[2,t.json().result?t.json().data:0]}})})},e.prototype.getClassesByTeacher=function(e){return p(this,void 0,void 0,function(){var t;return v(this,function(n){switch(n.label){case 0:return[4,this._http.get(this._apiURL+"/class/teacher/"+e,this._options).toPromise()];case 1:return t=n.sent(),[2,t.json().result?t.json().data:0]}})})},e.prototype.getStudentsWithoutClass=function(){return p(this,void 0,void 0,function(){var e;return v(this,function(t){switch(t.label){case 0:return[4,this._http.get(this._apiURL+"/user/student-without-class",this._options).toPromise()];case 1:return e=t.sent(),[2,e.json().result?e.json().data:0]}})})},e.prototype.createClass=function(e){return p(this,void 0,void 0,function(){var t,r;return v(this,function(i){switch(i.label){case 0:return t=JSON.stringify({SchoolYear:new Date(Date.now()).getFullYear()+"/"+(new Date(Date.now()).getFullYear()+1),Year:e.SchoolYear,ClassDesc:e.ClassDesc,SchoolFK:e.SchoolFK}),[4,this._http.post(this._apiURL+"/class/profile",t,this._options).toPromise()];case 1:return r=i.sent(),r.json().result?(n.i(a.toast)("Classe criada com sucesso",4e3,"green"),[2,null]):(n.i(a.toast)(r.json().info,4e3,"red"),[2,null])}})})},e.prototype.addUserToClass=function(e,t){return p(this,void 0,void 0,function(){var r,i;return v(this,function(o){switch(o.label){case 0:return r=JSON.stringify({ClassID:e,UserID:t}),[4,this._http.post(this._apiURL+"/class/user",r,this._options).toPromise()];case 1:return i=o.sent(),i.json().result?(n.i(a.toast)("Utilizador adicionado com sucesso",4e3,"lime"),[2,null]):(n.i(a.toast)(i.json().info,4e3,"red"),[2,null])}})})},e.prototype._handleError=function(e){return console.error(e),o.Observable.throw(e.json().error||"Server error")},e}();b=f([n.i(r.c)(),h("design:paramtypes",["function"==typeof(y=void 0!==i.d&&i.d)&&y||Object])],b);var y},"+hnk":function(e,t){e.exports='<div *ngIf="_studentGuard.canActivate(); else elseblock">\r\n    <div class="row">\r\n        <div class="card-panel white col s12 l10 offset-l1">\r\n\r\n            <ul class="collapsible" data-collapsible="accordion">\r\n                <li *ngFor="let eval of evaluations; let i=index">\r\n                    <div class="col s12 collapsible-header row">\r\n                        <h6 class="col s2 valign-wrapper"><b>{{eval?.EvaluationDate | date:\'dd/MM/y\'}}</b></h6>\r\n                        <h5 class="col s3">{{eval?.Subject}}</h5>\r\n                        <h6 class="col s5 valign-wrapper">Prof. {{eval?.Teacher}}</h6>\r\n                        <h5 class="col s2">{{eval?.Grade}}</h5>\r\n                    </div>\r\n                    <div class="col s12 collapsible-body row">\r\n                        <div class="col s10 offset-s1 purportDescr"></div>\r\n                        <div class="col s12"><br></div>\r\n                    </div>\r\n                </li>\r\n            </ul>\r\n\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<ng-template #elseblock>\r\n    <div class="row">\r\n        <div class="col s12 l10 offset-l1">\r\n\r\n            <div *ngIf="_adminGuard.canActivate() || _secretaryGuard.canActivate()" style="position: relative; height: 70px;">\r\n                <div class="fixed-action-btn horizontal" style="position: absolute; display: inline-block; top: 24px; right: 0%">\r\n                    <a class="btn-floating btn-large lime z-depth-4"><i class="large material-icons">menu</i></a>\r\n                    <ul>\r\n                        <li><a class=" hide-on-small-only btn green darken-2 right">Adicionar Avaliação</a></li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n\r\n            <ul class="card-panel white hide-on-small-only" style="margin-top:30px">\r\n                <li *ngFor="let eval of evaluations; let i=index" class="row valign-wrapper">\r\n                    <h6 class="col m2"><b>{{eval?.EvaluationDate | date:\'dd/MM/y\'}}</b></h6>\r\n                    <h5 class="col m4">{{eval?.Subject}}</h5>\r\n                    <h6 class="col m5">Prof. {{eval?.Teacher}}</h6>\r\n                    <div class="col m1">\r\n                        <a *ngIf="eval?.Able" class="btn-floating grey darken-2" (click)="select(i)"><i class="material-icons">info_outline</i></a>\r\n                        <a *ngIf="!eval?.Able" class="btn-floating disabled"><i class="material-icons">info_outline</i></a>\r\n                    </div>\r\n                </li>\r\n            </ul>\r\n            <div *ngFor="let eval of evaluations; let i=index" class="card-panel white hide-on-med-and-up">\r\n                <div class="row valign-wrapper">\r\n                    <h6 class="col s6"><b>{{eval?.EvaluationDate | date:\'dd/MM/y\'}}</b></h6>\r\n                    <h5 class="col s6">{{eval?.Subject}}</h5>\r\n                </div>\r\n                <div class="row valign-wrapper">\r\n                    <h6 class="col s10">Prof. {{eval?.Teacher}}</h6>\r\n                    <div class="col s2">\r\n                        <a *ngIf="eval?.Able" class="btn-floating grey darken-2" (click)="select(i)"><i class="material-icons">info_outline</i></a>\r\n                        <a *ngIf="!eval?.Able" class="btn-floating disabled"><i class="material-icons">info_outline</i></a>\r\n                    </div>\r\n                </div>\r\n                <hr>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div id="evaluationModal" class="modal bottom-sheet" style="min-height: 400px;">\r\n        <div class="modal-content light-green accent-1" style="position: relative;">\r\n            <div style="position: absolute;top:5px;right: 10px;">\r\n                <a class="btn-floating deep-orange darken-2" (click)="close()"><i class="material-icons">close</i></a>\r\n            </div>\r\n            <div class="row">\r\n                <div class="center col s12 m3">\r\n                    <h5>{{selected?.EvaluationDate | date:\'dd/MM/y\'}}</h5>\r\n                </div>\r\n                <div class="center col s12 m4">\r\n                    <h4>{{selected?.Subject}}</h4>\r\n                </div>\r\n                <div class="center col s12 m5">\r\n                    <h5>Prof. {{selected?.Teacher}}</h5>\r\n                </div>\r\n                <div class="col s12">\r\n                    <hr>\r\n                </div>\r\n                <div class="col s12 m7">\r\n                    <h5 class="center">Objetivos</h5>\r\n                    <div class="card-panel" id="purportDescr" style="height: 200px; overflow-y:scroll"></div>\r\n                </div>\r\n                <div class="col s12 m4 offset-m1">\r\n                    <h5 class="center">Classificações</h5>\r\n                    <div class="card-panel" style="height: 200px; overflow-y:scroll">\r\n                        <table class="table">\r\n                            <tr *ngFor="let student of selected?.Students">\r\n                                <td>{{student?.Name}}</td>\r\n                                <th>{{student?.Value}}</th>\r\n                            </tr>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</ng-template>'},"/JJr":function(e,t){e.exports='<div class="row" style="position:relative">\r\n    <div class="col s3 left-align">\r\n        <img [attr.src]="school?.Logo" class="responsive-img" style="max-width:300px;max-height:300px">\r\n    </div>\r\n    <div class="hide-on-med-and-down col s9 left-align">\r\n        <h3 class="white-text" style="position:absolute;top:20%">{{school?.Name}}</h3>\r\n    </div>\r\n    <div class="hide-on-large-only col s12 left-align">\r\n        <h3 class="white-text">{{school?.Name}}</h3>\r\n    </div>\r\n    <div class="row">\r\n        <div class="col offset-s1 s10 right-align">\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class="parallax-container" style="height:400px;width:100%">\r\n    <div class="section no-pad-bot">\r\n        <div class="container">\r\n            <div class="parallax">\r\n                <img class="responsive-image" [attr.src]="school?.ProfilePicture">\r\n            </div>\r\n            <div class=" right-align">\r\n                <div style="margin-bottom:5px">\r\n                    <a *ngIf="_secretaryGuard.canActivate() || _adminGuard.canActivate()" class="btn green darken-2" [routerLink]="[\'/classes/school/\',school?.ID]">Ver Turmas</a>\r\n                    <a *ngIf="_assistantGuard.canActivate() || _adminGuard.canActivate()" class="btn green darken-2" [routerLink]="[\'/building/school\', school?.ID]">Ver Instalações</a>\r\n                    <a *ngIf="_adminGuard.canActivate()" class="btn green darken-2">Editar</a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div id="noticeCarousel" class="carousel center" style="margin-top: -80px;">\r\n    <div *ngFor="let notice of notices" class="carousel-item">\r\n        <div class="card">\r\n            <div class="card-image">\r\n                <img [attr.src]="notice.Image" class="responsive-img">\r\n                <span class="card-title">{{notice?.CreatedDate | date}}</span>\r\n            </div>\r\n            <div class="card-content">\r\n                <p>{{notice?.Title}}</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div class="center">\r\n    <button type="submit" class="btn waves-effect waves-light green darken-2">Ver mais</button>\r\n</div>\r\n\r\n<br>\r\n<div class="row">\r\n    <div class="container card col s10 offset-s1" style="padding:20px;">\r\n        <div id="schoolDescription"></div>\r\n    </div>\r\n</div>'},"/t0v":function(e,t){e.exports='<nav class="green darken-2">\r\n    <div class="nav-wrapper">\r\n        <ul class="row">\r\n            <li class="col l1"></li>\r\n            <li class="col l2 s12 center">\r\n                <a [routerLink]="[\'addUser\']">\r\n                        Registar Utilizador\r\n                    </a>\r\n            </li>\r\n            <li class="col l2 s12 center">\r\n                <a [routerLink]="[\'addStudguard\']">\r\n                    Adicionar parentesco\r\n                </a>\r\n            </li>\r\n            <li class="col l2 s12 center">\r\n                <a [routerLink]="[\'teachers\']">\r\n                    Listar Professores\r\n                </a>\r\n            </li>\r\n            <li class="col l2 s12 center">\r\n                <a [routerLink]="[\'assistants\']">\r\n                    Listar Assistentes\r\n                </a>\r\n            </li>\r\n            <li class="col l2 s12 center">\r\n                <a [routerLink]="[\'secretary\']">\r\n                    Listar Secretários\r\n                </a>\r\n            </li>\r\n            <li class="col l1"></li>\r\n        </ul>\r\n    </div>\r\n</nav>\r\n<hr>\r\n<div>\r\n    <router-outlet></router-outlet>\r\n</div>'},0:function(e,t,n){e.exports=n("x35b")},"2n8k":function(e,t,n){"use strict";var r=n("3j3K"),i=n("3jY+"),o=n("m7AI"),a=n("AMki"),s=n("xdqU");n.d(t,"a",function(){return f});var c=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},d=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},f=function(){function e(e,t,n,r){this._userService=e,this._fileService=t,this._adminGuard=n,this._changeDetetor=r,this.checked=!1,this.confirmed=!1,this.user=new s.a}return e.prototype.confirmPassword=function(e){var t=e.target.value;return null==this.user.Password||null==t?this.confirmed=!1:this.user.Password!=t?this.confirmed=!1:void(this.confirmed=!0)},e.prototype.getProfileImage=function(e){this.photo=e.target.files[0],console.log(this.curriculum)},e.prototype.getCurriculum=function(e){this.curriculum=e.target.files[0]},e.prototype.createUser=function(){return u(this,void 0,void 0,function(){var e,t,n;return d(this,function(r){switch(r.label){case 0:return e=this.user,[4,this._fileService.imageUpload(this.photo)];case 1:return e.Photo=r.sent(),t=this.user,[4,this._fileService.fileUpload(this.curriculum)];case 2:return t.Curriculum=r.sent(),[4,this._userService.createUser(this.user)];case 3:return n=r.sent(),this.user=new s.a,this._changeDetetor.detectChanges(),[2]}})})},e}();f=c([n.i(r._11)({selector:"user-form",template:n("QhLa")}),l("design:paramtypes",["function"==typeof(h=void 0!==i.a&&i.a)&&h||Object,"function"==typeof(p=void 0!==o.a&&o.a)&&p||Object,"function"==typeof(v=void 0!==a.c&&a.c)&&v||Object,"function"==typeof(b=void 0!==r.Z&&r.Z)&&b||Object])],f);var h,p,v,b},"3dFq":function(e,t){e.exports='<div class="container white" style="margin-bottom:25px">\r\n    <div class="center" style="padding-top: 20px">\r\n        <h4 class="green-text text-darken-2">Listagem de Secretários.</h4>\r\n    </div>\r\n    <div class="row">\r\n        <form class="col s12 left-align">\r\n            <div class="col s10 offset-s1">\r\n\r\n                    <div *ngFor="let secrete of secretary" class="card horizontal row">\r\n                        <div class="card-image valign-wrapper col s3">\r\n                            <img [attr.src]="secrete?.Photo" class="responsive-img" style="height: 100px">\r\n                        </div>\r\n                        <div class="card-stacked col s9">\r\n                            <div class="card-content left-align">\r\n                                <h5>{{secrete?.Name}}</h5>\r\n                            </div>\r\n                            <div class="card-action">\r\n                                <a class="left green-text text-darken-2" [routerLink]="[\'/user/details/\', secrete?.ID]">Perfil</a>\r\n                                <a class="right green-text text-darken-2" [routerLink]="[\'/notifications/sendToUser\',secrete?.ID]">Enviar Mensagem</a>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>'},"3jY+":function(e,t,n){"use strict";var r=n("3j3K"),i=n("Fzro"),o=n("rCTf"),a=(n.n(o),n("0lrd")),s=(n.n(a),n("+pb+")),c=(n.n(s),n("EnA3")),l=(n.n(c),n("6Yye")),u=(n.n(l),n("eErF")),d=(n.n(u),n("x35b"));n.d(t,"a",function(){return b});var f=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},h=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},v=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},b=function(){function e(e){this._http=e,this._apiURL=d.API.url,this._headers=new i.b,this._headers.append("Content-Type","application/json; charset=utf-8"),this._headers.append("Authorization",JSON.parse(localStorage.getItem("currentUser")).token),this._options=new i.c({headers:this._headers})}return e.prototype.getUsersCount=function(e){return p(this,void 0,void 0,function(){var t;return v(this,function(n){switch(n.label){case 0:return[4,this._http.get(this._apiURL+"/role/pages/"+e,this._options).toPromise()];case 1:return t=n.sent(),t.json().result?[2,t.json().data]:(console.log(t.json().info),[2,null])}})})},e.prototype.getUsersByPage=function(e,t){return p(this,void 0,void 0,function(){var n;return v(this,function(r){switch(r.label){case 0:return[4,this._http.get(this._apiURL+"/role/page/"+t+"/"+e,this._options).toPromise()];case 1:return n=r.sent(),n.json().result?[2,n.json().data.info]:(console.log(n.json().info),[2,null])}})})},e.prototype.getProfile=function(e){return p(this,void 0,void 0,function(){var t;return v(this,function(n){switch(n.label){case 0:return[4,this._http.get(this._apiURL+"/user/profile/"+e,this._options).toPromise()];case 1:return t=n.sent(),t.json().result?[2,t.json().data]:(console.log(t.json().info),[2,null])}})})},e.prototype.getUserDetails=function(e){return p(this,void 0,void 0,function(){var t;return v(this,function(n){switch(n.label){case 0:return[4,this._http.get(this._apiURL+"/user/detail/"+e,this._options).toPromise()];case 1:return t=n.sent(),t.json().result?[2,t.json().data]:(console.log(t.json().info),[2,null])}})})},e.prototype.createUser=function(e){return p(this,void 0,void 0,function(){var t;return v(this,function(r){switch(r.label){case 0:return[4,this._http.post(this._apiURL+"/user",JSON.stringify(e),this._options).toPromise()];case 1:return t=r.sent(),t.json().result?(n.i(a.toast)("Utilizador criado com sucesso",4e3,"lime"),[2,t.json().data]):(n.i(a.toast)(t.json().info,4e3,"red"),[2])}})})},e.prototype.putUserDetails=function(e){return p(this,void 0,void 0,function(){var t;return v(this,function(r){switch(r.label){case 0:return[4,this._http.put(this._apiURL+"/user/profile",JSON.stringify(e),this._options).toPromise()];case 1:return t=r.sent(),t.json().result?(n.i(a.toast)("Utilizador editado com sucesso",4e3,"lime"),[2,t.json().data]):(n.i(a.toast)(t.json().info,4e3,"red"),[2])}})})},e.prototype._handleError=function(e){return console.error(e),o.Observable.throw(e.json().error||"Server error")},e}();b=f([n.i(r.c)(),h("design:paramtypes",["function"==typeof(y=void 0!==i.d&&i.d)&&y||Object])],b);var y},"44vP":function(e,t){e.exports='<div class="container white" style="margin-top:25px">\r\n        <div class="center" style="padding-top: 20px;">\r\n            <h4 class="green-text text-darken-2">Enviar mensagem</h4>\r\n    </div>\r\n    <div class="row">\r\n        <form class="col s12 left-align">\r\n            <div class="col s10 offset-s1">\r\n                <div class="input-field row">\r\n                    <div class="col s2">\r\n                        Destinatário:\r\n                    </div>\r\n                    <div class="col s10">\r\n                        <div class="chip">\r\n                            <img [attr.src]="user?.Photo" class="responsive-img" style="max-height: 60px;"> {{user?.Name}}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="input-field row">\r\n                    <div class="col s12">\r\n                        Assunto:\r\n                        <input [(ngModel)]="notification.Subject" type="text" name="Subject" required/>\r\n                    </div>\r\n                </div>\r\n                <div class="col s5" style="margin-left:35px">\r\n                    <input type="checkbox" [(ngModel)]="notification.Urgency" id="Urgency" name="Urgency" />\r\n                    <label for="Urgency">Urgente?</label>\r\n                </div>\r\n                <div class="col s5" style="margin-left:35px">\r\n                    <input type="checkbox" [(ngModel)]="notification.Approval" name="Approval" id="Approval" />\r\n                    <label for="Approval">Para aprovar?</label>\r\n                </div>\r\n                <div class="row">\r\n                    <span class="col s12"><br>Descrição:</span>\r\n                    <div class="col s12">\r\n                        <br>\r\n                        <textarea id="textareaDescription" name="Description" class="input" style="height: 250px" required></textarea>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </form>\r\n        <br>\r\n        <div class="center" style="padding:20px">\r\n            <button type="submit" class="btn waves-effect waves-light green darken-2" (click)="sendMessage()"><i class="material-icons right">send</i>Submeter</button>\r\n        </div>\r\n    </div>\r\n</div>'},"4AlW":function(e,t,n){"use strict";var r=n("3j3K"),i=n("Fzro"),o=n("+pb+"),a=(n.n(o),n("EnA3")),s=(n.n(a),n("6Yye")),c=(n.n(s),n("eErF")),l=(n.n(c),n("x35b"));n.d(t,"a",function(){return p});var u=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},h=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},p=function(){function e(e){this._http=e,this._apiURL=l.API.url,this._headers=new i.b,this._headers.append("Content-Type","application/json; charset=utf-8"),this._headers.append("Authorization",JSON.parse(localStorage.getItem("currentUser")).token),this._options=new i.c({headers:this._headers})}return e.prototype.getGuardiansByUser=function(e){return f(this,void 0,void 0,function(){var t;return h(this,function(n){switch(n.label){case 0:return[4,this._http.get(this._apiURL+"/guardian/"+e,this._options).toPromise()];case 1:return t=n.sent(),t.json().result?[2,t.json().data]:(console.log(t.json().info),[2,null])}})})},e.prototype.getChildrenByUser=function(e){return f(this,void 0,void 0,function(){var t;return h(this,function(n){switch(n.label){case 0:return[4,this._http.get(this._apiURL+"/children/"+e,this._options).toPromise()];case 1:return t=n.sent(),t.json().result?[2,t.json().data]:(console.log(t.json().info),[2,null])}})})},e}();p=u([n.i(r.c)(),d("design:paramtypes",["function"==typeof(v=void 0!==i.d&&i.d)&&v||Object])],p);var v},"5RDx":function(e,t,n){"use strict";var r=n("AMki"),i=n("3j3K"),o=n("5oXY"),a=n("bUb0");n.d(t,"a",function(){return d});var s=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},u=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},d=function(){function e(e,t,n,r,i){this._service=e,this._studentGuard=t,this._router=n,this._ngZone=r,this._ref=i}return e.prototype.ngOnInit=function(){var e=this;this.notifications=0,this._ngZone.runOutsideAngular(function(){e._check(function(){e._ngZone.run(function(){})})})},e.prototype._check=function(e){return l(this,void 0,void 0,function(){var t,n=this;return u(this,function(r){switch(r.label){case 0:return null==JSON.parse(localStorage.getItem("currentUser"))?[3,2]:(t=this,[4,this._service.count()]);case 1:return t.notifications=r.sent(),window.setTimeout(function(){return n._check(e)},1e4),this._ref.detectChanges(),[3,3];case 2:e(),r.label=3;case 3:return[2]}})})},e}();d=s([n.i(i._11)({selector:"notifications",template:n("aW27")}),c("design:paramtypes",["function"==typeof(f=void 0!==a.a&&a.a)&&f||Object,"function"==typeof(h=void 0!==r.e&&r.e)&&h||Object,"function"==typeof(p=void 0!==o.b&&o.b)&&p||Object,"function"==typeof(v=void 0!==i.m&&i.m)&&v||Object,"function"==typeof(b=void 0!==i.Z&&i.Z)&&b||Object])],d);var f,h,p,v,b},"5jE5":function(e,t,n){"use strict";var r=n("3j3K"),i=n("3jY+"),o=n("m7AI"),a=n("AMki");n.d(t,"a",function(){return l});var s=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(e,t,n){this._userService=e,this._fileService=t,this._adminGuard=n}return e.prototype.ngOnInit=function(){$(document).ready(function(){$("#guardians").autocomplete({data:{},limit:20,onAutocomplete:function(e){},minLength:3}),$("#students").autocomplete({data:{},limit:20,onAutocomplete:function(e){},minLength:3})})},e}();l=s([n.i(r._11)({selector:"student-guardian-form",template:n("CvIh")}),c("design:paramtypes",["function"==typeof(u=void 0!==i.a&&i.a)&&u||Object,"function"==typeof(d=void 0!==o.a&&o.a)&&d||Object,"function"==typeof(f=void 0!==a.c&&a.c)&&f||Object])],l);var u,d,f},"5xMp":function(e,t){e.exports='\x3c!--   HEADER   --\x3e\r\n<navbar></navbar>\r\n\x3c!-- End HEADER --\x3e\r\n<div id="content">\r\n  \x3c!--    BODY    --\x3e\r\n  <router-outlet></router-outlet>\r\n  \x3c!--  End BODY  --\x3e\r\n</div>\r\n\x3c!--   FOOTER   --\x3e\r\n<footer class="page-footer white" style="position:relative;padding:0px">\r\n  <div class="container">\r\n    <div class="row" style="margin-bottom:0px;">\r\n      <div class="col l6 s12">\r\n        <h5 class="grey-text text-darken-2">CQPROJ - {{today|date:\'y\'}}</h5>\r\n        <p></p>\r\n      </div>\r\n      <div class="col l6 s12 grey-text text-darken-2">\r\n        <ul>\r\n          <li style="display:inline">{{dm}} |</li>\r\n          <li style="display:inline">{{ra}} |</li>\r\n          <li style="display:inline">{{db}}</li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</footer>\r\n\x3c!-- End FOOTER --\x3e'},"6bqz":function(e,t){e.exports='<div class="container">\r\n    <div *ngIf="hasGuardian">\r\n        <div class="center green white-text flow-text">Encarregados de Educação</div><br>\r\n        <div *ngIf="_adminGuard.canActivate() || _secretaryGuard.canActivate()" style="position: relative; height: 70px;">\r\n            <div class="fixed-action-btn horizontal" style="position: absolute; display: inline-block; right: 0%">\r\n                <a class="btn-floating btn-large green z-depth-4"><i class="large material-icons">mail</i></a>\r\n                <ul>\r\n                    <li><a [routerLink]="[\'/notifications/sendToUser\',studentID]" class=" hide-on-small-only btn lime darken-2 right">Enviar mensagem a todos os Enc. Educação</a></li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div *ngFor="let parent of parents" class="card horizontal ">\r\n        <div class="card-image valign-wrapper">\r\n            <img [attr.src]="parent?.Photo" class="responsive-img" style="height: 100px">\r\n        </div>\r\n        <div class="card-stacked">\r\n            <div class="card-content left-align">\r\n                <h5>{{parent?.Name}}</h5>\r\n            </div>\r\n            <div class="card-action">\r\n                <a class="left green-text text-darken-2" [routerLink]="[\'/user/details/\', parent?.ID]">Perfil</a>\r\n                <a class="right green-text text-darken-2" [routerLink]="[\'/notifications/sendToUser\',parent?.ID]">Enviar Mensagem</a>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},"6q1w":function(e,t,n){"use strict";var r=n("3j3K"),i=n("5oXY"),o=n("zfYR"),a=n("AMki"),s=n("m7AI");n.d(t,"a",function(){return f});var c=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},d=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},f=function(){function e(e,t,n,r,i,o){this._service=e,this._fileService=t,this._route=n,this._assistantGuard=r,this._secretaryGuard=i,this._adminGuard=o}return e.prototype.ngOnInit=function(){return u(this,void 0,void 0,function(){var e,t,n,r,i,o;return d(this,function(a){switch(a.label){case 0:return e=this,[4,this._service.getSchools()];case 1:for(e.schools=a.sent(),t=function(e){n._fileService.publicDownload(e.ProfilePicture).subscribe(function(t){e.ProfilePicture=t})},n=this,r=0,i=this.schools;r<i.length;r++)o=i[r],t(o);return[2]}})})},e.prototype.show=function(e){$("#"+e).modal("open")},e.prototype.hide=function(e){$(".modal").modal("close")},e}();f=c([n.i(r._11)({selector:"schools-list",template:n("vFXl")}),l("design:paramtypes",["function"==typeof(h=void 0!==o.a&&o.a)&&h||Object,"function"==typeof(p=void 0!==s.a&&s.a)&&p||Object,"function"==typeof(v=void 0!==i.b&&i.b)&&v||Object,"function"==typeof(b=void 0!==a.b&&a.b)&&b||Object,"function"==typeof(y=void 0!==a.g&&a.g)&&y||Object,"function"==typeof(g=void 0!==a.c&&a.c)&&g||Object])],f);var h,p,v,b,y,g},"8NcV":function(e,t,n){"use strict";var r=n("3j3K"),i=n("5oXY"),o=n("gCHY"),a=n("m7AI"),s=n("3jY+"),c=n("AMki");n.d(t,"a",function(){return h});var l=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},f=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},h=function(){function e(e,t,n,r,i,o,a,s,c){this._fileService=e,this._documentService=t,this._userService=n,this._guardianGuard=r,this._studentGuard=i,this._secretaryGuard=o,this._adminGuard=a,this._router=s,this._route=c}return e.prototype.ngOnInit=function(){return d(this,void 0,void 0,function(){var e,t,n,r,i,o,a;return f(this,function(s){switch(s.label){case 0:return $(i).ready(function(){$("#pdfViewer").modal({dismissible:!1})}),$(window).on("hashchange",function(){$("#pdfViewer").modal("close")}),this.docs=[],this._route.parent.params.subscribe(function(t){return e=t.id}),[4,this._documentService.getDocumentsByClass(e)];case 1:t=s.sent(),n=0,r=t,s.label=2;case 2:return n<r.length?(i=r[n],o=i.File.split("."),[4,this._userService.getProfile(i.UserFK)]):[3,5];case 3:a=s.sent(),this.docs.push({File:o[1]+"."+o[2],Filename:i.File,Type:o[2],Teacher:a.Name,TeacherID:a.ID,SubmitedIn:i.SubmitedIn,IsVisible:i.IsVisible}),s.label=4;case 4:return n++,[3,2];case 5:return[2]}})})},e.prototype.close=function(){$("#pdfViewer").modal("close")},e.prototype.show=function(e,t){return d(this,void 0,void 0,function(){var n=this;return f(this,function(r){return"pdf"==t?($("#pdfViewer").modal("open"),this._fileService.fileDownload(e).subscribe(function(e){n.file=e})):this._fileService.fileDownload(e).subscribe(function(e){n.file=e}),[2]})})},e.prototype.download=function(e,t){return d(this,void 0,void 0,function(){var t=this;return f(this,function(n){return this._fileService.fileDownload(e).subscribe(function(e){t.file=e}),[2]})})},e}();h=l([n.i(r._11)({selector:"class-doc",template:n("JZDB")}),u("design:paramtypes",["function"==typeof(p=void 0!==a.a&&a.a)&&p||Object,"function"==typeof(v=void 0!==o.a&&o.a)&&v||Object,"function"==typeof(b=void 0!==s.a&&s.a)&&b||Object,"function"==typeof(y=void 0!==c.f&&c.f)&&y||Object,"function"==typeof(g=void 0!==c.e&&c.e)&&g||Object,"function"==typeof(m=void 0!==c.g&&c.g)&&m||Object,"function"==typeof(w=void 0!==c.c&&c.c)&&w||Object,"function"==typeof(_=void 0!==i.b&&i.b)&&_||Object,"function"==typeof(x=void 0!==i.c&&i.c)&&x||Object])],h);var p,v,b,y,g,m,w,_,x},"9kOi":function(e,t){e.exports='<div class="container white" style="margin-top:25px">\r\n    <div class="center" style="padding-top: 20px;">\r\n        <h4 class="green-text text-darken-2">Adicionar uma sala</h4>\r\n    </div>\r\n    <div class="row">\r\n        <form class="col s12 left-align">\r\n            <div class="input-field row col s10 offset-s1">\r\n                <input [(ngModel)]="room.Name" type="text" id="Name" name="Name" required/>\r\n                <label for="Name">Nome:</label>\r\n            </div>\r\n\r\n            <div class="row">\r\n                <div id="board" class="col container center">\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n    <div class="center" style="padding:20px">\r\n        <button type="submit" class="btn waves-effect waves-light green darken-2" (click)="createRoom()"><i class="material-icons right">send</i>Submeter</button>\r\n    </div>\r\n</div>'},ALHQ:function(e,t,n){"use strict";var r=n("3j3K"),i=n("Fzro"),o=n("+pb+"),a=(n.n(o),n("EnA3")),s=(n.n(a),n("6Yye")),c=(n.n(s),n("eErF")),l=(n.n(c),n("x35b"));n.d(t,"a",function(){return p});var u=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},h=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},p=function(){function e(e){this._http=e,this._apiURL=l.API.url,this._headers=new i.b,this._headers.append("Content-Type","application/json; charset=utf-8"),this._headers.append("Authorization",JSON.parse(localStorage.getItem("currentUser")).token),this._options=new i.c({headers:this._headers})}return e.prototype.getEvaluationsByClass=function(e){return f(this,void 0,void 0,function(){var t;return h(this,function(n){switch(n.label){case 0:return[4,this._http.get(this._apiURL+"/evaluations/class/"+e,this._options).toPromise()];case 1:return t=n.sent(),t.json().result?[2,t.json().data]:(console.log(t.json().info),[2,null])}})})},e.prototype.getEvaluationsByTeacher=function(e){return f(this,void 0,void 0,function(){var t;return h(this,function(n){switch(n.label){case 0:return[4,this._http.get(this._apiURL+"/evaluations/teacher/"+e,this._options).toPromise()];case 1:return t=n.sent(),t.json().result?[2,t.json().data]:(console.log(t.json().info),[2,null])}})})},e.prototype.getGrades=function(e){return f(this,void 0,void 0,function(){var t;return h(this,function(n){switch(n.label){case 0:return[4,this._http.get(this._apiURL+"/grades/evaluation/"+e,this._options).toPromise()];case 1:return t=n.sent(),t.json().result?[2,t.json().data]:(console.log(t.json().info),[2,null])}})})},e}();p=u([n.i(r.c)(),d("design:paramtypes",["function"==typeof(v=void 0!==i.d&&i.d)&&v||Object])],p);var v},AMki:function(e,t,n){"use strict";var r=n("3j3K"),i=n("5oXY");n.d(t,"a",function(){return s}),n.d(t,"e",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"g",function(){return u}),n.d(t,"b",function(){return d}),n.d(t,"f",function(){return f}),n.d(t,"c",function(){return h});var o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(e){this._router=e}return e.prototype.canActivate=function(e){try{var t=JSON.parse(localStorage.getItem("currentUser"));if(null!=t){var n=e.data.roles;if(null!=n&&this._verifyMatch(n,t.roles))return!0}return this._router.navigate(["homepage"]),!1}catch(e){return!1}},e.prototype._verifyMatch=function(e,t){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return!0;return!1},e}();s=o([n.i(r.c)(),a("design:paramtypes",["function"==typeof(p=void 0!==i.b&&i.b)&&p||Object])],s);var c=function(){function e(){}return e.prototype.canActivate=function(){try{var e=JSON.parse(localStorage.getItem("currentUser"));return null!=e&&e.roles.indexOf(1)>-1}catch(e){return!1}},e}();c=o([n.i(r.c)(),a("design:paramtypes",[])],c);var l=function(){function e(){}return e.prototype.canActivate=function(){try{var e=JSON.parse(localStorage.getItem("currentUser"));return null!=e&&e.roles.indexOf(2)>-1}catch(e){return!1}},e}();l=o([n.i(r.c)(),a("design:paramtypes",[])],l);var u=function(){function e(){}return e.prototype.canActivate=function(){try{var e=JSON.parse(localStorage.getItem("currentUser"));return null!=e&&e.roles.indexOf(3)>-1}catch(e){return!1}},e}();u=o([n.i(r.c)(),a("design:paramtypes",[])],u);var d=function(){function e(){}return e.prototype.canActivate=function(){try{var e=JSON.parse(localStorage.getItem("currentUser"));return null!=e&&e.roles.indexOf(4)>-1}catch(e){return!1}},e}();d=o([n.i(r.c)(),a("design:paramtypes",[])],d);var f=function(){function e(){}return e.prototype.canActivate=function(){try{var e=JSON.parse(localStorage.getItem("currentUser"));return null!=e&&e.roles.indexOf(5)>-1}catch(e){return!1}},e}();f=o([n.i(r.c)(),a("design:paramtypes",[])],f);var h=function(){function e(){}return e.prototype.canActivate=function(){try{var e=JSON.parse(localStorage.getItem("currentUser"));return null!=e&&e.roles.indexOf(6)>-1}catch(e){return!1}},e}();h=o([n.i(r.c)(),a("design:paramtypes",[])],h);var p},BG1q:function(e,t){e.exports='<nav class="green darken-2">\r\n        <div class="nav-wrapper container">\r\n            <label class="brand-logo" style="padding:0px"><span style="margin-left:25px">{{class?.Year}}{{class?.ClassDesc}}</span></label>\r\n            <ul class="right">\r\n                <li><h5>{{school?.Name}}</h5></li>\r\n            </ul>\r\n        </div>\r\n    </nav>\r\n<nav *ngIf="!_studentGuard.canActivate() && !_guardianGuard.canActivate()">\r\n    <div class="nav-wrapper">\r\n        <ul class="row green">\r\n            <li id="schedule" class="tablink col s3 green center-align green darken-2" (click)="chooseOption(\'schedule\')" style="padding:0px">\r\n                <a class="col s12" [routerLink]="[\'schedule\']" class="flow-text">\r\n                        Horário\r\n                </a>\r\n            </li>\r\n            <li id="evaluation" class="tablink col s3 green center-align" (click)="chooseOption(\'evaluation\')" style="padding:0px">\r\n                <a class="col s12" [routerLink]="[\'evaluation\']" class="flow-text">\r\n                        Avaliações\r\n                </a>\r\n            </li>\r\n            <li id="document" class="tablink col s3 green center-align" (click)="chooseOption(\'document\')" style="padding:0px">\r\n                <a class="col s12" [routerLink]="[\'document\']" class="flow-text">\r\n                       Documentos\r\n                </a>\r\n            </li>\r\n            <li id="student" class="tablink col s3 green center-align" (click)="chooseOption(\'student\')" style="padding:0px">\r\n                <a *ngIf="!_studentGuard.canActivate()" class="col" [routerLink]="[\'student\']" class="flow-text">\r\n                       Alunos\r\n                </a>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n</nav>\r\n<nav *ngIf="_studentGuard.canActivate() || _guardianGuard.canActivate()">\r\n    <div class="nav-wrapper">\r\n        <ul class="row green">\r\n            <li id="schedule" class="tablink col s4 green center-align green darken-2" (click)="chooseOption(\'schedule\')" style="padding:0px">\r\n                <a class="col s12" [routerLink]="[\'schedule\']" class="flow-text">\r\n                        Horário\r\n                </a>\r\n            </li>\r\n            <li id="evaluation" class="tablink col s4 green center-align" (click)="chooseOption(\'evaluation\')" style="padding:0px">\r\n                <a class="col s12" [routerLink]="[\'evaluation\']" class="flow-text">\r\n                        Avaliações\r\n                </a>\r\n            </li>\r\n            <li id="document" class="tablink col s4 green center-align" (click)="chooseOption(\'document\')" style="padding:0px">\r\n                <a class="col s12" [routerLink]="[\'document\']" class="flow-text">\r\n                       Documentos\r\n                </a>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n</nav>\r\n<div>\r\n    <router-outlet></router-outlet>\r\n</div>'},BhB8:function(e,t){e.exports='<div class="row">\r\n    <div class="col s12 l10 offset-l1">\r\n        <div class="row" style="margin-top:20px; cursor: pointer">\r\n            <a (click)="lessLesson()" class="col m1 hide-on-small-only btn green" style="height: 48px;position: relative;"><i class="material-icons" style="position: absolute; top:18%; right: 35%">keyboard_arrow_left</i></a>\r\n            <a (click)="lessLesson()" class="col s12 hide-on-med-and-up btn center-align green"><i class="material-icons">keyboard_arrow_up</i></a>\r\n            <div class="col m10 s12">\r\n                <ul id="list" class="tabs"></ul>\r\n            </div>\r\n            <a (click)="moreLesson()" class="col m1 hide-on-small-only btn green" style="height: 48px;position: relative;"><i class="material-icons" style="position: absolute; top:18%;right: 35%">keyboard_arrow_right</i></a>\r\n            <a (click)="moreLesson()" class="col s12 hide-on-med-and-up btn center-align green"><i class="material-icons">keyboard_arrow_down</i></a>\r\n        </div>\r\n        <div class="container card z-depth-4 white" style="width:100%;">\r\n            <div class="lesson row section" style="padding:24px">\r\n                <div class="col s6 m8">\r\n                    <h3>Lição nº{{selected?.Description}}</h3>\r\n                </div>\r\n                <div class="col s6 m4 right-align">\r\n                    <h5>{{selected?.Day | date:\'dd/MM/y\'}}</h5>\r\n                </div>\r\n                <div class="col s12" style="border-top:2px solid #000"><br><br></div>\r\n                <div class="col s12">\r\n                    <div *ngIf="_guardianGuard.canActivate()">\r\n                        <div class="col m5 hide-on-small-only" style="border-bottom:1px solid #F0F0F0">Nome</div>\r\n                        <div class="col m2 hide-on-small-only center-align" style="border-bottom:1px solid #F0F0F0">Presença</div>\r\n                        <div class="col m2 hide-on-small-only center-align" style="border-bottom:1px solid #F0F0F0">Material</div>\r\n                        <div class="col m3 hide-on-small-only center-align" style="border-bottom:1px solid #F0F0F0">Comportamento</div>\r\n                        <div class="col s5 hide-on-med-and-up" style="border-right:1px solid #F0F0F0">Nome</div>\r\n                        <div class="col s2 hide-on-med-and-up center-align" style="border-bottom:1px solid #F0F0F0">P.</div>\r\n                        <div class="col s2 hide-on-med-and-up center-align" style="border-bottom:1px solid #F0F0F0">M.</div>\r\n                        <div class="col s3 hide-on-med-and-up center-align" style="border-bottom:1px solid #F0F0F0">C.</div>\r\n                        <div *ngFor="let student of selected?.Student">\r\n                            <div class="col s5">\r\n                                <h5>{{student?.Student}}</h5>\r\n                            </div>\r\n                            <div class="col s2 section center-align" style="padding:12px">\r\n                                <label *ngIf="student?.Presence; else elseBlock">&#10004;</label>\r\n                                <ng-template #elseBlock>&#10008;</ng-template>\r\n                            </div>\r\n                            <div class="col s2 section center-align" style="padding:12px">\r\n                                <label *ngIf="student?.Material; else elseBlock">&#10004;</label>\r\n                                <ng-template #elseBlock>&#10008;</ng-template>\r\n                            </div>\r\n                            <div class="col s3 section center-align" style="padding:12px">\r\n                                <label [ngSwitch]="student?.Behavior">\r\n                                    <i *ngSwitchCase="1" class="material-icons" style="color: #8B0000">brightness_1</i>\r\n                                    <i *ngSwitchCase="2" class="material-icons" style="color: #FF4000">brightness_1</i>\r\n                                    <i *ngSwitchCase="3" class="material-icons" style="color: #FFD700">brightness_1</i>\r\n                                    <i *ngSwitchCase="4" class="material-icons" style="color: #9ACD32">brightness_1</i>\r\n                                    <i *ngSwitchDefault class="material-icons" style="color: #008000;">brightness_1</i>\r\n                                </label>\r\n                            </div>\r\n                            <div class="col s12" style="border-top:1px solid #F0F0F0"></div>\r\n                        </div>\r\n                    </div>\r\n                    <div *ngIf="_studentGuard.canActivate()">\r\n                        <div class="col m4 hide-on-small-only center-align" style="border-bottom:1px solid #F0F0F0">Presença</div>\r\n                        <div class="col m4 hide-on-small-only center-align" style="border-bottom:1px solid #F0F0F0">Material</div>\r\n                        <div class="col m4 hide-on-small-only center-align" style="border-bottom:1px solid #F0F0F0">Comportamento</div>\r\n                        <div class="col s4 hide-on-med-and-up center-align" style="border-bottom:1px solid #F0F0F0">P.</div>\r\n                        <div class="col s4 hide-on-med-and-up center-align" style="border-bottom:1px solid #F0F0F0">M.</div>\r\n                        <div class="col s4 hide-on-med-and-up center-align" style="border-bottom:1px solid #F0F0F0">C.</div>\r\n                        <div *ngFor="let student of selected?.Student">\r\n                            <div class="col s4 section center-align" style="padding:12px">\r\n                                <label *ngIf="student?.Presence; else elseBlock">&#10004;</label>\r\n                                <ng-template #elseBlock>&#10008;</ng-template>\r\n                            </div>\r\n                            <div class="col s4 section center-align" style="padding:12px">\r\n                                <label *ngIf="student?.Material; else elseBlock">&#10004;</label>\r\n                                <ng-template #elseBlock>&#10008;</ng-template>\r\n                            </div>\r\n                            <div class="col s4 section center-align" style="padding:12px">\r\n                                <label [ngSwitch]="student?.Behavior">\r\n                                    <i *ngSwitchCase="1" class="material-icons" style="color: #8B0000">brightness_1</i>\r\n                                    <i *ngSwitchCase="2" class="material-icons" style="color: #FF4000">brightness_1</i>\r\n                                    <i *ngSwitchCase="3" class="material-icons" style="color: #FFD700">brightness_1</i>\r\n                                    <i *ngSwitchCase="4" class="material-icons" style="color: #9ACD32">brightness_1</i>\r\n                                    <i *ngSwitchDefault class="material-icons" style="color: #008000;">brightness_1</i>\r\n                                </label>\r\n                            </div>\r\n                            <div class="col s12" style="border-top:1px solid #F0F0F0"></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="col s12"><br>\r\n                    <hr>\r\n                </div>\r\n                <ul class="collapsible" data-collapsible="accordion">\r\n                    <li>\r\n                        <div class="col s12 collapsible-header active">\r\n                            <h4>Sumário</h4>\r\n                        </div>\r\n                        <div class="col s12 collapsible-body">\r\n                            <p style="margin-left: 30px;">{{selected?.Summary}}</p>\r\n                        </div>\r\n                    </li>\r\n                    <li>\r\n                        <div class="col s12 collapsible-header">\r\n                            <h4>Trabalho de casa</h4>\r\n                        </div>\r\n                        <div class="col s12 collapsible-body">\r\n                            <p style="margin-left: 30px;">{{selected?.Homework}}</p>\r\n                        </div>\r\n                    </li>\r\n                    <li>\r\n                        <div class="col s12 collapsible-header">\r\n                            <h4>Observações</h4>\r\n                        </div>\r\n                        <div class="col s12 collapsible-body">\r\n                            <p style="margin-left: 30px;">{{selected?.Observations}}</p>\r\n                        </div>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},C9O3:function(e,t,n){"use strict";var r=n("3j3K"),i=n("5oXY"),o=n("k2CW"),a=n("E4GL"),s=n("3jY+"),c=n("AMki");n.d(t,"a",function(){return h});var l=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},f=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},h=function(){function e(e,t,n,r,i){this._lessonService=e,this._scheduleService=t,this._userService=n,this._route=r,this._teacherGuard=i}return e.prototype.ngOnInit=function(){return d(this,void 0,void 0,function(){var e,t,n;return f(this,function(r){switch(r.label){case 0:return $(document).ready(function(){$("ul.tabs").tabs({swipeable:!0}),$(".collapsible").collapsible()}),this._route.params.subscribe(function(t){return e=t.id}),t=this,[4,this._scheduleService.getSchedule(e)];case 1:return t.schedule=r.sent(),n=this,[4,this._lessonService.getLessonBySubject(this.schedule.SubjectFK,this.schedule.ClassFK)];case 2:return n.lessons=r.sent(),this.orderLessonList(),this.initLessonList(),this.showLesson(0),[2]}})})},e.prototype.initLessonList=function(){var e=this;this.index=0;var t=document.getElementById("list");this.lessons.forEach(function(n,r){var i=document.createElement("li");i.setAttribute("class",r<4?"col s12 m3 tab option":"col s12 m3 tab option hide");var o=document.createElement("a");o.innerHTML="Lição nº"+(e.lessons.length-r),o.setAttribute("class",0==r?"active green-text text-darken-2":"green-text text-darken-2"),o.onclick=function(){e.showLesson(r)},i.appendChild(o),t.appendChild(i)})},e.prototype.moreLesson=function(){var e=document.getElementsByClassName("option");this.index+3<e.length-1&&(e[this.index].className+=" hide",e[this.index+4].className=e[this.index].className.replace(" hide",""),this.index++)},e.prototype.lessLesson=function(){if(this.index>0){var e=document.getElementsByClassName("option");e[this.index+3].className+=" hide",e[this.index-1].className=e[this.index-1].className.replace(" hide",""),this.index--}},e.prototype.showLesson=function(e){this.selected={Day:this.lessons[e].Day,Homework:this.lessons[e].Homework,Description:this.lessons.length-e,Observations:this.lessons[e].Observations,ScheduleFK:this.lessons[e].ScheduleFK,Summary:this.lessons[e].Summary,ID:this.lessons[e].ID};var t=document.getElementById("students");t.className.includes("hide")||(t.className+="hide")},e.prototype.showClass=function(){return d(this,void 0,void 0,function(){var e,t,n,r,i,o;return f(this,function(a){switch(a.label){case 0:return e=document.getElementById("students"),e.className.includes("hide")?(e.className=e.className.replace("hide",""),[4,this._lessonService.getPresenceByTeacher(this.selected.ID)]):[3,6];case 1:t=a.sent(),this.students=[],n=0,r=t,a.label=2;case 2:return n<r.length?(i=r[n],[4,this._userService.getProfile(i.StudentFK)]):[3,5];case 3:o=a.sent(),this.students.push({StudentFK:i.StudentFK,Student:o.Name,Presence:i.Presence,Material:i.Material,Behavior:i.Behavior}),a.label=4;case 4:return n++,[3,2];case 5:return this.orderStudentlist(),[3,7];case 6:e.className=e.className.replace("container",""),e.className+="hide container",a.label=7;case 7:return[2]}})})},e.prototype.orderLessonList=function(){this.lessons.sort(function(e,t){return e.ID>t.ID?-1:t.ID>e.ID?1:0})},e.prototype.orderStudentlist=function(){this.students.sort(function(e,t){return e.Student>t.Student?1:t.Student>e.Student?-1:0})},e}();h=l([n.i(r._11)({selector:"lessons",template:n("KRuI")}),u("design:paramtypes",["function"==typeof(p=void 0!==o.a&&o.a)&&p||Object,"function"==typeof(v=void 0!==a.a&&a.a)&&v||Object,"function"==typeof(b=void 0!==s.a&&s.a)&&b||Object,"function"==typeof(y=void 0!==i.c&&i.c)&&y||Object,"function"==typeof(g=void 0!==c.d&&c.d)&&g||Object])],h);var p,v,b,y,g},CDVu:function(e,t,n){"use strict";var r=n("3j3K"),i=n("5oXY"),o=n("3jY+"),a=n("m7AI"),s=n("+0Yu");n.d(t,"a",function(){return f});var c=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},d=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},f=function(){function e(e,t,n,r,i){this._classService=e,this._userService=t,this._fileService=n,this._router=r,this._route=i,this.assistantsID=[],this.assistants=[]}return e.prototype.ngOnInit=function(){return u(this,void 0,void 0,function(){var e,t,n,r,i,o,n,a,s;return d(this,function(c){switch(c.label){case 0:return e=JSON.parse(localStorage.getItem("currentUser")).userID,[4,this._userService.getUsersCount(4)];case 1:t=c.sent(),n=0,c.label=2;case 2:return n<t?(r=this,o=(i=this.assistantsID).concat,[4,this._userService.getUsersByPage(n,4)]):[3,5];case 3:r.assistantsID=o.apply(i,[c.sent()]),c.label=4;case 4:return n++,[3,2];case 5:n=0,c.label=6;case 6:return n<this.assistantsID.length?[4,this._userService.getProfile(this.assistantsID[n])]:[3,10];case 7:return a=c.sent(),[4,this._fileService.imageDownloadAsync(a.Photo)];case 8:s=c.sent(),this.assistants.push({Email:a.Email,Function:a.Function,ID:a.ID,Name:a.Name,Photo:s}),c.label=9;case 9:return n++,[3,6];case 10:return[2]}})})},e}();f=c([n.i(r._11)({selector:"assistant-list",template:n("b/xj")}),l("design:paramtypes",["function"==typeof(h=void 0!==s.a&&s.a)&&h||Object,"function"==typeof(p=void 0!==o.a&&o.a)&&p||Object,"function"==typeof(v=void 0!==a.a&&a.a)&&v||Object,"function"==typeof(b=void 0!==i.b&&i.b)&&b||Object,"function"==typeof(y=void 0!==i.c&&i.c)&&y||Object])],f);var h,p,v,b,y},CDmc:function(e,t,n){"use strict";var r=n("3j3K"),i=n("5oXY"),o=n("k2CW"),a=n("E4GL"),s=n("3jY+");n.d(t,"a",function(){return f});var c=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},d=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},f=function(){function e(e,t,n,r,i){this._lessonService=e,this._scheduleService=t,this._userService=n,this._route=r,this._changeDetetor=i}return e.prototype.ngOnInit=function(){return u(this,void 0,void 0,function(){var e,t,n=this;return d(this,function(r){switch(r.label){case 0:return this._route.params.subscribe(function(e){return n.scheduleID=e.id}),this.lesson={Summary:null,Homework:null,Observations:null,ScheduleFK:this.scheduleID},e=this,[4,this._scheduleService.getSchedule(this.scheduleID)];case 1:return e.schedule=r.sent(),this.subject=this._scheduleService.getSubject(this.schedule.SubjectFK),t=this,[4,this._lessonService.getLessonBySubject(this.schedule.SubjectFK,this.schedule.ClassFK)];case 2:return t.lessons=r.sent().length+1,[4,this.showClass()];case 3:return r.sent(),[2]}})})},e.prototype.showClass=function(){return u(this,void 0,void 0,function(){var e,t,n,r,i,o;return d(this,function(a){switch(a.label){case 0:return e=document.getElementById("classStudents"),[4,this._lessonService.getPresenceByTeacher(this.lessons)];case 1:t=a.sent(),this.students=[],n=0,r=t,a.label=2;case 2:return n<r.length?(i=r[n],[4,this._userService.getProfile(i.StudentFK)]):[3,5];case 3:o=a.sent(),this.students.push({StudentFK:i.StudentFK,Student:o.Name,Presence:!1,Material:!1,Behavior:4,LessonFK:null}),a.label=4;case 4:return n++,[3,2];case 5:return[2]}})})},e.prototype.chooseBehavior=function(e,t){this.students[e].Behavior=t},e.prototype.createLesson=function(){return u(this,void 0,void 0,function(){var e,t,n,r;return d(this,function(i){switch(i.label){case 0:return[4,this._lessonService.createLesson(this.lesson)];case 1:e=i.sent(),t=0,n=this.students,i.label=2;case 2:return t<n.length?(r=n[t],r.LessonFK=e,[4,this._lessonService.createPostFaults(r)]):[3,5];case 3:i.sent(),i.label=4;case 4:return t++,[3,2];case 5:return this.lesson={Summary:null,Homework:null,Observations:null,ScheduleFK:this.scheduleID},this._changeDetetor.detectChanges(),[2]}})})},e}();f=c([n.i(r._11)({selector:"lesson-form",template:n("x+3+")}),l("design:paramtypes",["function"==typeof(h=void 0!==o.a&&o.a)&&h||Object,"function"==typeof(p=void 0!==a.a&&a.a)&&p||Object,"function"==typeof(v=void 0!==s.a&&s.a)&&v||Object,"function"==typeof(b=void 0!==i.c&&i.c)&&b||Object,"function"==typeof(y=void 0!==r.Z&&r.Z)&&y||Object])],f);var h,p,v,b,y},CDuO:function(e,t,n){"use strict";var r=n("3j3K"),i=n("5oXY"),o=n("zfYR"),a=n("m7AI"),s=n("hB+E"),c=n("AMki");n.d(t,"a",function(){return h});var l=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},f=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},h=function(){function e(e,t,n,r,i,o,a){this._schoolService=e,this._route=t,this._fileService=n,this._assistantGuard=r,this._secretaryGuard=i,this._noticeService=o,this._adminGuard=a,this.notices=[]}return e.prototype.ngOnInit=function(){return d(this,void 0,void 0,function(){var e,t,n,r,i,o,a,s,c,l=this;return f(this,function(u){switch(u.label){case 0:return $(document).ready(function(){$(".parallax").parallax(),$("ul.tabs").tabs({swipeable:!0})}),this._route.params.subscribe(function(t){return e=t.id}),t=this,[4,this._schoolService.getSchool(e)];case 1:return t.school=u.sent(),this._fileService.publicDownload(this.school.Logo).subscribe(function(e){l.school.Logo=e}),this._fileService.publicDownload(this.school.ProfilePicture).subscribe(function(e){l.school.ProfilePicture=e}),document.getElementById("schoolDescription").innerHTML=this.school.About,[4,this._noticeService.getNewsBySchool(e,0)];case 2:for(n=u.sent(),r=0;r<4;r++)this.notices.push(n[r]);for(i=function(e){o._fileService.publicDownload(e.Image).subscribe(function(t){e.Image=t,console.log(e.Image)})},o=this,a=0,s=this.notices;a<s.length;a++)c=s[a],i(c);return $(document).ready(function(){$("#noticeCarousel").carousel()}),[2]}})})},e}();h=l([n.i(r._11)({template:n("/JJr")}),u("design:paramtypes",["function"==typeof(p=void 0!==o.a&&o.a)&&p||Object,"function"==typeof(v=void 0!==i.c&&i.c)&&v||Object,"function"==typeof(b=void 0!==a.a&&a.a)&&b||Object,"function"==typeof(y=void 0!==c.b&&c.b)&&y||Object,"function"==typeof(g=void 0!==c.g&&c.g)&&g||Object,"function"==typeof(m=void 0!==s.a&&s.a)&&m||Object,"function"==typeof(w=void 0!==c.c&&c.c)&&w||Object])],h);var p,v,b,y,g,m,w},CqgX:function(e,t){e.exports='<div class="row">\r\n    <div class="col s10 offset-s1">\r\n        <div id="noticeCarousel" class="carousel">\r\n            <a *ngFor="let notice of notices" class="carousel-item white" style="width:75%;height: 100%">\r\n                <img [attr.src]="notice.Image" style="height:85%">\r\n                <div class="row white">\r\n                    <div class="col s12 center-align">\r\n                        <h5 class="green-text text-darken-2 col s6">{{notice?.Title}} </h5>\r\n                        <p class="green-text text-darken-2 col s6">{{notice?.CreatedDate | date}}</p>\r\n                    </div>\r\n                </div>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div class="row" style="margin-top:50px">\r\n    <div class="col s8 offset-s2">\r\n        <h3 class="white-text" style="margin-left:20px">Missão <i class="fa fa-bullseye"></i></h3>\r\n    </div>\r\n    <div class="col s8 offset-s2">\r\n        <p class="white-text" style="margin:20px;font-size:1.5rem;text-align:justify;text-justify:inter-word">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque aliquam turpis et ipsum imperdiet, et tempus\r\n            tortor malesuada. Ut purus enim, tincidunt sit amet sollicitudin quis, vestibulum et odio. Lorem ipsum dolor\r\n            sit amet, consectetur adipiscing elit. Etiam condimentum quis augue quis imperdiet. Nunc viverra laoreet purus,\r\n            et molestie sapien egestas non. Nulla posuere a tellus a condimentum. Sed nec est nulla.</p>\r\n    </div>\r\n</div>\r\n<div class="row">\r\n    <div class="col s10 offset-s1 center-align">\r\n        <div class=" row col s10 offset-s1"><h3 class="flow-text white-text" style="font-size:3rem">Centros Escolares <i class="material-icons white-text" style="font-size:3rem">home</i></h3></div>\r\n        <schools-list></schools-list>\r\n    </div>\r\n</div>'},CvIh:function(e,t){e.exports='<div class="container white" style="margin-bottom:25px">\r\n    <div class="center" style="padding-top: 10px;">\r\n        <h4 class="green-text text-darken-2">Associar um estudante a um encarregado de educação.</h4>\r\n    </div>\r\n    <div class="row">\r\n        <form class="col s12 left-align">\r\n            <div class="col s10 offset-s1">\r\n                <div class="row">\r\n                    <div class="input-field col s12">\r\n                        <input type="text" id="guardians" class="autocomplete">\r\n                        <label for="autocomplete-input">Email do Encarregado de Educação</label>\r\n                    </div>\r\n                </div>\r\n                <div class="row">\r\n                    <div class="input-field col s12">\r\n                        <input type="text" id="students" class="autocomplete">\r\n                        <label for="autocomplete-input">Email dos Estudantes</label>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n    <div class="center" style="padding:20px">\r\n        <button type="submit" class="btn waves-effect waves-light green darken-2" ><i class="material-icons right">send</i>Submeter</button>\r\n    </div>\r\n</div>'},DbZf:function(e,t,n){"use strict";var r=n("3j3K"),i=n("5oXY"),o=n("AMki"),a=n("XKfx"),s=n("zfYR");n.d(t,"a",function(){return f});var c=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},d=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},f=function(){function e(e,t,n,r,i){this._adminGuard=e,this._schoolService=t,this._floorService=n,this._route=r,this._router=i}return e.prototype.ngOnInit=function(){return u(this,void 0,void 0,function(){var e,t,n;return d(this,function(r){switch(r.label){case 0:return this._route.params.subscribe(function(t){return e=t.id}),t=this,[4,this._schoolService.getSchool(e)];case 1:return t.school=r.sent(),n=this,[4,this._floorService.getFloorsBySchool(e)];case 2:return n.floors=r.sent(),this.nCols=12/this.floors.length,this._router.navigate(["/building/school/",e,"floor",this.floors[0].ID]),[2]}})})},e}();f=c([n.i(r._11)({template:n("Nlyo")}),l("design:paramtypes",["function"==typeof(h=void 0!==o.c&&o.c)&&h||Object,"function"==typeof(p=void 0!==s.a&&s.a)&&p||Object,"function"==typeof(v=void 0!==a.a&&a.a)&&v||Object,"function"==typeof(b=void 0!==i.c&&i.c)&&b||Object,"function"==typeof(y=void 0!==i.b&&i.b)&&y||Object])],f);var h,p,v,b,y},E4GL:function(e,t,n){"use strict";var r=n("3j3K"),i=n("Fzro"),o=n("rCTf"),a=(n.n(o),n("+pb+")),s=(n.n(a),n("EnA3")),c=(n.n(s),n("6Yye")),l=(n.n(c),n("eErF")),u=(n.n(l),n("x35b"));n.d(t,"a",function(){return v});var d=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},f=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},p=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},v=function(){function e(e){this._http=e,this._apiURL=u.API.url,this._headers=new i.b,this._headers.append("Content-Type","application/json; charset=utf-8"),this._headers.append("Authorization",JSON.parse(localStorage.getItem("currentUser")).token),this._options=new i.c({headers:this._headers})}return e.prototype.getScheduleByClass=function(e){return h(this,void 0,void 0,function(){var t;return p(this,function(n){switch(n.label){case 0:return[4,this._http.get(this._apiURL+"/schedule/class/"+e,this._options).toPromise()];case 1:return t=n.sent(),t.json().result?[2,t.json().data]:(console.log(t.json().info),[2,null])}})})},e.prototype.getSchedule=function(e){return h(this,void 0,void 0,function(){var t;return p(this,function(n){switch(n.label){case 0:return[4,this._http.get(this._apiURL+"/schedule/profile/"+e,this._options).toPromise()];case 1:return t=n.sent(),t.json().result?[2,t.json().data]:(console.log(t.json().info),[2,null])}})})},e.prototype.getSubject=function(e){return h(this,void 0,void 0,function(){var t;return p(this,function(n){switch(n.label){case 0:return[4,this._http.get(this._apiURL+"/subject/"+e,this._options).toPromise()];case 1:return t=n.sent(),t.json().result?[2,t.json().data]:(console.log(t.json().info),[2,null])}})})},e.prototype._handleError=function(e){return console.error(e),o.Observable.throw(e.json().error||"Server error")},e}();v=d([n.i(r.c)(),f("design:paramtypes",["function"==typeof(b=void 0!==i.d&&i.d)&&b||Object])],v);var b},F01R:function(e,t){e.exports='<div class="container row" style="margin-top:10px">\r\n    <div *ngIf="hasClass" class="col s12 center green white-text flow-text">Turmas</div>\r\n    <div *ngFor="let class of classes" class="col s4">\r\n        <a [routerLink]="[\'/primary-class/\', class?.ID]">\r\n            <div class="card-panel grey-text text-darken-2 center-align">\r\n                <h6>{{class?.School}}</h6>\r\n                <h5>{{class?.Class}}</h5>\r\n            </div>\r\n        </a>\r\n    </div>\r\n</div>'},GpKq:function(e,t,n){"use strict";var r=n("3j3K"),i=n("5oXY"),o=n("XKfx"),a=n("eWVg"),s=n("zfYR"),c=n("m7AI");n.d(t,"a",function(){return h});var l=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},f=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},h=function(){function e(e,t,n,r,i,o,a){var s=this;this._roomService=e,this._floorService=t,this._schoolService=n,this._fileService=r,this._router=i,this._route=o,this._renderer=a,o.params.subscribe(function(e){s.init(e.id)})}return e.prototype.init=function(e){return d(this,void 0,void 0,function(){var t,n,r,i;return f(this,function(o){switch(o.label){case 0:return[4,this._floorService.getFloor(e)];case 1:return t=o.sent(),[4,this._roomService.getRoomByFloor(t.ID)];case 2:return n=o.sent(),r=this,i={Name:t.Name},[4,this._fileService.imageDownloadAsync(t.Image)];case 3:return r.floor=(i.Image=o.sent(),i.ID=t.ID,i.Rooms=n,i.SchoolFK=t.SchoolFK,i),console.log(this.floor),this.createFloor(),[2]}})})},e.prototype.createFloor=function(){var e=this;document.getElementById("board").innerHTML='<canvas id="canvas'+this.floor.ID+'" class="card white" width="945" height="700"></canvas><br/>';var t=document.getElementById("canvas"+this.floor.ID),n=t.getContext("2d"),r=new Image;r.src=this.floor.Image.changingThisBreaksApplicationSecurity,r.onload=function(){if(n.drawImage(r,1,1,945,700),null!=e.floor.Rooms)for(var t=0;t<e.floor.Rooms.length;t++)n.beginPath(),n.arc(e.floor.Rooms[t].XCoord+10,e.floor.Rooms[t].YCoord+10,15,0,2*Math.PI),n.stroke(),e.floor.Rooms[t].HasSensor?n.fillStyle="#FF0000":n.fillStyle="#000000",n.fillRect(e.floor.Rooms[t].XCoord,e.floor.Rooms[t].YCoord,20,20),n.stroke()},this._renderer.listenGlobal(t,"click",function(n){for(var r=e.getMousePos(t,n),i=0;i<e.floor.Rooms.length;i++)e.isInside(r,i)&&e.floor.Rooms[i].HasSensor&&e.navigateTo(i)})},e.prototype.getMousePos=function(e,t){var n=e.getBoundingClientRect();return{x:t.clientX-n.left,y:t.clientY-n.top}},e.prototype.isInside=function(e,t){return e.x>this.floor.Rooms[t].XCoord&&e.x<this.floor.Rooms[t].XCoord+20&&e.y>this.floor.Rooms[t].YCoord&&e.y<this.floor.Rooms[t].YCoord+20},e.prototype.navigateTo=function(e){if(this.floor.Rooms[e].HasSensor){for(var t="/",n=0,r=this._route.parent.url._value;n<r.length;n++){t+=r[n].path+"/"}this._router.navigate([t.substring(0,t.length-1),"room",this.floor.Rooms[e].ID])}},e}();h=l([n.i(r._11)({selector:"floor-map",template:n("iD3i")}),u("design:paramtypes",["function"==typeof(p=void 0!==a.a&&a.a)&&p||Object,"function"==typeof(v=void 0!==o.a&&o.a)&&v||Object,"function"==typeof(b=void 0!==s.a&&s.a)&&b||Object,"function"==typeof(y=void 0!==c.a&&c.a)&&y||Object,"function"==typeof(g=void 0!==i.b&&i.b)&&g||Object,"function"==typeof(m=void 0!==i.c&&i.c)&&m||Object,"function"==typeof(w=void 0!==r.N&&r.N)&&w||Object])],h);var p,v,b,y,g,m,w},Iksp:function(e,t,n){"use strict";var r=n("Qbdm"),i=n("3j3K"),o=n("NVOs"),a=n("Fzro"),s=n("5oXY"),c=n("2Je8"),l=n("ZSR1"),u=(n.n(l),n("I8yv")),d=(n.n(u),n("YWx4")),f=n("aCky"),h=n("Rdup"),p=n("blBH"),v=n("usCd"),b=n("6q1w"),y=n("5RDx"),g=n("N7f9"),m=n("DbZf"),w=n("GpKq"),_=n("PMGZ"),x=n("CDuO"),j=n("iAn8"),S=n("Rwrf"),k=n("p1mf"),O=n("xKGn"),R=n("8NcV"),I=n("qCld"),D=n("C9O3"),P=n("s1wy"),F=n("XQzH"),A=n("TmZ8"),N=n("hwHI"),C=n("v0dC"),E=n("hWNJ"),L=n("R+Mg"),T=n("2n8k"),U=n("mFJ1"),K=n("wVb6"),G=n("uwVz"),M=n("5jE5"),B=n("CDmc"),z=n("bxnh"),Y=n("gxMC"),J=n("jidq"),H=n("yTnh"),$=n("rQce"),V=n("iEJt"),X=n("bAjZ"),W=n("CDVu"),q=n("QH+1"),Z=n("y0iN"),Q=n("zfYR"),ee=n("tKuJ"),te=n("AMki"),ne=n("3jY+"),re=n("bUb0"),ie=n("XKfx"),oe=n("m7AI"),ae=n("+0Yu"),se=n("eWVg"),ce=n("E4GL"),le=n("k2CW"),ue=n("WReN"),de=n("VNzG"),fe=n("gCHY"),he=n("ALHQ"),pe=n("hB+E"),ve=n("4AlW");n.d(t,"a",function(){return ye});var be=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},ye=function(){function e(){}return e}();ye=be([n.i(i.b)({imports:[r.a,o.a,a.a,c.a,s.a.forRoot([{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:p.a,canActivate:[te.a],data:{roles:[1,2,3,4,5,6]}},{path:"homepage",component:f.a},{path:"schools",component:b.a},{path:"school/:id",component:x.a},{path:"form-school",component:A.a,canActivate:[te.a],data:{roles:[6]}},{path:"notifications",component:g.a,canActivate:[te.a],data:{roles:[1,2,3,4,5,6]},children:[{path:"",redirectTo:"received",pathMatch:"full"},{path:"received",component:K.a,canActivate:[te.a],data:{roles:[1,2,3,4,5,6]}},{path:"sent",component:G.a,canActivate:[te.a],data:{roles:[1,2,3,4,5,6]}},{path:"sendToUser/:id",component:z.a}]},{path:"users",component:F.a,canActivate:[te.a],data:{roles:[3,6]},children:[{path:"",redirectTo:"user",pathMatch:"full"},{path:"addUser",component:T.a},{path:"addStudguard",component:M.a},{path:"teachers",component:V.a},{path:"assistants",component:W.a},{path:"secretary",component:q.a}]},{path:"building/school/:id",component:m.a,canActivate:[te.a],data:{roles:[4,6]},children:[{path:"room/:id",component:_.a},{path:"floor/:id",component:w.a},{path:"form-floor",component:N.a,canActivate:[te.a],data:{roles:[6]}},{path:"floor/:id/addroom",component:C.a,canActivate:[te.a],data:{roles:[6]}},{path:"floor/:id/addsensor",component:E.a,canActivate:[te.a],data:{roles:[6]}}]},{path:"user/details/:id",component:U.a,canActivate:[te.a],data:{roles:[1,2,3,4,5,6]}},{path:"classes/school/:id",component:O.a,canActivate:[te.a],data:{roles:[3,6]}},{path:"school/addclass/:id",component:L.a,canActivate:[te.a],data:{roles:[3,6]}},{path:"primary-class/:id",component:j.a,canActivate:[te.a],data:{roles:[1,2,3,5,6]},children:[{path:"",redirectTo:"schedule",pathMatch:"full"},{path:"student",component:S.a,canActivate:[te.a],data:{roles:[2,3,6]}},{path:"schedule",component:k.a},{path:"evaluation",component:I.a},{path:"document",component:R.a},{path:"teacher-lessons/:id",component:D.a,canActivate:[te.a],data:{roles:[2,3,6]}},{path:"student-lessons/:id",component:P.a,canActivate:[te.a],data:{roles:[1,5]}},{path:"form-lesson/:id",component:B.a,canActivate:[te.a],data:{roles:[2]}},{path:"form-addstudent",component:$.a,canActivate:[te.a],data:{roles:[3,6]}}]},{path:"**",component:v.a}],{useHash:!0})],exports:[s.a],declarations:[d.a,h.a,p.a,v.a,b.a,A.a,y.a,g.a,m.a,w.a,N.a,_.a,x.a,j.a,S.a,O.a,R.a,k.a,I.a,D.a,P.a,F.a,C.a,E.a,L.a,P.a,U.a,K.a,G.a,f.a,T.a,M.a,B.a,z.a,Y.a,J.a,$.a,V.a,X.a,H.a,Z.a,W.a,q.a],providers:[te.a,te.b,te.c,te.d,te.e,te.f,te.g,ee.a,ne.a,re.a,Q.a,ie.a,oe.a,ae.a,ce.a,se.a,le.a,ue.a,de.a,fe.a,he.a,pe.a,ve.a],bootstrap:[d.a]})],ye)},J6Ql:function(e,t){e.exports=""},JZDB:function(e,t){e.exports='<div class="row">\r\n    <div class="col s12 l10 offset-l1">\r\n\r\n        <div *ngIf="_adminGuard.canActivate() || _secretaryGuard.canActivate()" style="position: relative; height: 70px;">\r\n            <div class="fixed-action-btn horizontal" style="position: absolute; display: inline-block; top: 24px; right: 0%">\r\n                <a class="btn-floating btn-large lime z-depth-4"><i class="large material-icons">menu</i></a>\r\n                <ul>\r\n                    <li><a class=" hide-on-small-only btn green darken-2 right">Adicionar Documento</a></li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="card" style="margin-top:30px">\r\n            <table class="responsive-table striped">\r\n                <thead class="hide-on-med-and-down">\r\n                    <tr>\r\n                        <th *ngIf="!_studentGuard.canActivate() && !_guardianGuard.canActivate()">\r\n                            Visível aos alunos\r\n                        </th>\r\n                        <th colspan="2">\r\n                            Ficheiro\r\n                        </th>\r\n                        <th colspan="2">\r\n                            Disponibilizado por\r\n                        </th>\r\n\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor="let doc of docs">\r\n                        <td *ngIf="!_studentGuard.canActivate() && !_guardianGuard.canActivate()">\r\n                            <label *ngIf="doc?.IsVisible; else elseBlock1"><i class="material-icons">remove_red_eye</i></label>\r\n                            <ng-template #elseBlock1><b><i class="material-icons">remove_red_eye</i></b></ng-template>\r\n                        </td>\r\n                        <td [ngSwitch]="doc?.Type">\r\n                            <ng-template [ngSwitchCase]="\'pdf\'">\r\n                                <a><i class="fa fa-file-pdf-o" style="font-size:25px;color:darkred;"></i></a>\r\n                            </ng-template>\r\n                            <ng-template [ngSwitchCase]="\'zip\'">\r\n                                <a><i class="fa fa-file-archive-o" style="font-size:25px;color:darkmagenta;"></i></a>\r\n                            </ng-template>\r\n                            <ng-template [ngSwitchCase]="\'rar\'">\r\n                                <a><i class="fa fa-file-archive-o" style="font-size:25px;color:darkmagenta;"></i></a>\r\n                            </ng-template>\r\n                            <ng-template [ngSwitchCase]="\'doc\'">\r\n                                <a><i class="fa fa-file-word-o" style="font-size:25px;color:darkblue;"></i></a>\r\n                            </ng-template>\r\n                            <ng-template [ngSwitchCase]="\'docx\'">\r\n                                <a><i class="fa fa-file-word-o" style="font-size:25px;color:darkblue;"></i></a>\r\n                            </ng-template>\r\n                            <ng-template [ngSwitchCase]="\'odt\'">\r\n                                <a><i class="fa fa-file-word-o" style="font-size:25px;color:darkblue;"></i></a>\r\n                            </ng-template>\r\n                            <ng-template [ngSwitchCase]="\'xls\'">\r\n                                <a><i class="fa fa-file-excel-o" style="font-size:25px;color:darkgreen;"></i></a>\r\n                            </ng-template>\r\n                            <ng-template [ngSwitchCase]="\'xlsx\'">\r\n                                <a><i class="fa fa-file-excel-o" style="font-size:25px;color:darkgreen;"></i></a>\r\n                            </ng-template>\r\n                            <ng-template [ngSwitchCase]="\'ods\'">\r\n                                <a><i class="fa fa-file-excel-o" style="font-size:25px;color:darkgreen;"></i></a>\r\n                            </ng-template>\r\n                            <ng-template [ngSwitchCase]="\'ppt\'">\r\n                                <a><i class="fa fa-file-powerpoint-o" style="font-size:25px;color:darkorange;"></i></a>\r\n                            </ng-template>\r\n                            <ng-template [ngSwitchCase]="\'pptx\'">\r\n                                <a><i class="fa fa-file-powerpoint-o" style="font-size:25px;color:darkorange;"></i></a>\r\n                            </ng-template>\r\n                            <ng-template [ngSwitchCase]="\'odp\'">\r\n                                <a><i class="fa fa-file-powerpoint-o" style="font-size:25px;color:darkorange;"></i></a>\r\n                            </ng-template>\r\n                            <ng-template [ngSwitchCase]="\'avi\'">\r\n                                <a><i class="fa fa-file-video-o" style="font-size:25px;"></i></a>\r\n                            </ng-template>\r\n                            <ng-template [ngSwitchCase]="\'mpeg\'">\r\n                                <a><i class="fa fa-file-video-o" style="font-size:25px;"></i></a>\r\n                            </ng-template>\r\n                            <ng-template [ngSwitchCase]="\'mp4\'">\r\n                                <a><i class="fa fa-file-video-o" style="font-size:25px;"></i></a>\r\n                            </ng-template>\r\n                            <ng-template [ngSwitchCase]="\'mpega\'">\r\n                                <a><i class="fa fa-file-audio-o" style="font-size:25px;"></i></a>\r\n                            </ng-template>\r\n                            <ng-template [ngSwitchCase]="\'mp3\'">\r\n                                <a><i class="fa fa-file-audio-o" style="font-size:25px;"></i></a>\r\n                            </ng-template>\r\n                            <ng-template [ngSwitchCase]="\'wav\'">\r\n                                <a><i class="fa fa-file-audio-o" style="font-size:25px;"></i></a>\r\n                            </ng-template>\r\n                            <ng-template ngSwitchDefault>\r\n                                <a><i class="fa fa-file-file-o" style="font-size:25px;"></i></a>\r\n                            </ng-template>\r\n                        </td>\r\n                        <td>\r\n                            <a class="hide-on-med-and-down" (click)="show(doc?.Filename, doc?.Type)" style="cursor:pointer">{{doc?.File}}</a>\r\n                            <a class="hide-on-large-only" (click)="download(doc?.Filename, doc?.Type)" style="cursor:pointer">{{doc?.File}}</a>\r\n                        </td>\r\n                        <td><label style="font-weight: 0.8rem">({{doc?.SubmitedIn | date:\'dd/MM/y\'}})</label></td>\r\n                        <td>Prof. {{doc?.Teacher}}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div id="pdfViewer" class="modal bottom-sheet hide-on-med-and-down" style="min-height: 600px;">\r\n    <div class="modal-content light-green accent-1" style="min-height: 100%;position: relative">\r\n        <div style="position: absolute;top:5px;right: 10px;">\r\n            <a class="btn-floating deep-orange darken-2" (click)="close()"><i class="material-icons">close</i></a>\r\n        </div>\r\n        <iframe style="width: 100%; min-height: 530px; margin-top: 10px;" [attr.src]="file" type="application/pdf"></iframe>\r\n    </div>\r\n</div>'},KRuI:function(e,t){e.exports='<div class="row">\r\n    <div class="col s12 l10 offset-l1">\r\n\r\n        <div *ngIf="_teacherGuard.canActivate()" style="position: relative; height: 70px;">\r\n            <div class="fixed-action-btn horizontal" style="position: absolute; display: inline-block; top: 24px; right: 0%">\r\n                <a class="btn-floating btn-large lime z-depth-4"><i class="large material-icons">menu</i></a>\r\n                <ul>\r\n                    <li><a class="hide-on-small-only btn green darken-2 right">Editar Lição</a></li>\r\n                    <li><a [routerLink]="[\'/primary-class/\', schedule?.ClassFK,\'form-lesson\', schedule?.ID]" class=" hide-on-small-only btn green darken-2 right">Adicionar Lição</a></li>\r\n                    <li><a class="hide-on-med-and-up btn-floating green darken-2"><i class="material-icons">edit</i></a></li>\r\n                    <li><a [routerLink]="[\'/primary-class/\', schedule?.ClassFK,\'form-lesson\', schedule?.ID]" class="hide-on-med-and-up btn-floating green darken-2"><i class="material-icons">add</i></a></li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="row" style="margin-top:20px; cursor: pointer">\r\n            <a (click)="lessLesson()" class="col m1 hide-on-small-only btn green" style="height: 48px;position: relative;"><i class="material-icons" style="position: absolute; top:18%; right: 35%">keyboard_arrow_left</i></a>\r\n            <a (click)="lessLesson()" class="col s12 hide-on-med-and-up btn center-align green"><i class="material-icons">keyboard_arrow_up</i></a>\r\n            <div class="col m10 s12">\r\n                <ul id="list" class="tabs"></ul>\r\n            </div>\r\n            <a (click)="moreLesson()" class="col m1 hide-on-small-only btn green" style="height: 48px;position: relative;"><i class="material-icons" style="position: absolute; top:18%;right: 35%">keyboard_arrow_right</i></a>\r\n            <a (click)="moreLesson()" class="col s12 hide-on-med-and-up btn center-align green"><i class="material-icons">keyboard_arrow_down</i></a>\r\n        </div>\r\n\r\n        <div class="card z-depth-4 white" style="width:100%;">\r\n            <div class="row" id="lessonInfo" style="padding:24px">\r\n                <div class="col s6 m8">\r\n                    <h3>Lição nº{{selected?.Description}}</h3>\r\n                </div>\r\n                <div class="col s6 m4 right-align">\r\n                    <h5>{{selected?.Day | date:\'dd/MM/y\'}}</h5>\r\n                </div>\r\n                <div class="col s12" style="border-top:2px solid #000">\r\n                    <br>\r\n                    <ul class="collapsible" data-collapsible="accordion">\r\n                        <li>\r\n                            <div class="collapsible-header active">\r\n                                <h4>Sumário</h4>\r\n                            </div>\r\n                            <div class="collapsible-body">\r\n                                <p style="margin-left: 30px;">{{selected?.Summary}}</p>\r\n                            </div>\r\n                        </li>\r\n                        <li>\r\n                            <div class="collapsible-header">\r\n                                <h4>Trabalho de casa</h4>\r\n                            </div>\r\n                            <div class="collapsible-body">\r\n                                <p style="margin-left: 30px;">{{selected?.Homework}}</p>\r\n                            </div>\r\n                        </li>\r\n                        <li>\r\n                            <div class="collapsible-header">\r\n                                <h4>Observações</h4>\r\n                            </div>\r\n                            <div class="collapsible-body">\r\n                                <p style="margin-left: 30px;">{{selected?.Observations}}</p>\r\n                            </div>\r\n                        </li>\r\n                    </ul><br><br>\r\n                    <a (click)="showClass()" class="btn green" style="width: 100%">Turma</a>\r\n                    <div id="students" class="container hide">\r\n                        <br>\r\n                        <table>\r\n                            <thead>\r\n                                <tr>\r\n                                    <th class="hide-on-small-only">Nome</th>\r\n                                    <th class="hide-on-small-only center-align">Presença</th>\r\n                                    <th class="hide-on-small-only center-align">Material</th>\r\n                                    <th class="hide-on-small-only center-align">Comportamento</th>\r\n                                    <th *ngIf="_teacherGuard.canActivate()" class="hide-on-small-only center-align"></th>\r\n                                    <th class="hide-on-med-and-up">Nome</th>\r\n                                    <th class="hide-on-med-and-up center-align">P.</th>\r\n                                    <th class="hide-on-med-and-up center-align">M.</th>\r\n                                    <th class="hide-on-med-and-up center-align">C.</th>\r\n                                    <th *ngIf="_teacherGuard.canActivate()" class="hide-on-med-and-up center-align"></th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr *ngFor="let student of students">\r\n                                    <td>{{student?.Student}}</td>\r\n                                    <td class="center-align">\r\n                                        <label *ngIf="student?.Presence; else elseBlock">&#10004;</label>\r\n                                        <ng-template #elseBlock>&#10008;</ng-template>\r\n                                    </td>\r\n                                    <td class="center-align">\r\n                                        <label *ngIf="student?.Material; else elseBlock">&#10004;</label>\r\n                                        <ng-template #elseBlock>&#10008;</ng-template>\r\n                                    </td>\r\n                                    <td class="center-align">\r\n                                        <label [ngSwitch]="student?.Behavior">\r\n                                                    <i *ngSwitchCase="1" class="fa fa-circle" style="color: #8B0000"></i>\r\n                                                    <i *ngSwitchCase="2" class="fa fa-circle" style="color: #FF4000"></i>\r\n                                                    <i *ngSwitchCase="3" class="fa fa-circle" style="color: #FFD700"></i>\r\n                                                    <i *ngSwitchCase="4" class="fa fa-circle" style="color: #9ACD32"></i>\r\n                                                    <i *ngSwitchDefault class="fa fa-circle" style="color: #008000;"></i>\r\n                                                </label>\r\n                                    </td>\r\n                                    <td *ngIf="_teacherGuard.canActivate()" class="center-align">\r\n                                        <a class="btn-flat waves-effect waves-teal"><i class="material-icons">edit</i></a>\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},MOVZ:function(e,t){function n(e){throw new Error("Cannot find module '"+e+"'.")}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="MOVZ"},N7f9:function(e,t,n){"use strict";var r=n("3j3K"),i=n("5oXY"),o=n("bUb0"),a=n("3jY+");n.d(t,"a",function(){return l});var s=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(e,t,n){this._service=e,this._router=t,this._userService=n,this.receivedPage=0,this.sentPage=0}return e.prototype.ngOnInit=function(){$(document).ready(function(){for(var e=window.location.href,t=document.getElementsByClassName("tablink"),n=0;n<t.length;n++)t[n].className=t[n].className.replace(" green darken-2",""),e.includes(t[n].id)&&(t[n].className+=" green darken-2");$(window).on("hashchange",function(){for(var e=window.location.href,n=0;n<t.length;n++)t[n].className=t[n].className.replace(" green darken-2",""),e.includes(t[n].id)&&(t[n].className+=" green darken-2")})})},e.prototype.chooseOption=function(e){for(var t=document.getElementsByClassName("tablink"),n=0;n<t.length;n++)t[n].className=t[n].className.replace(" green darken-2","");document.getElementById(e).className+=" green darken-2"},e}();l=s([n.i(r._11)({selector:"notification-menu",template:n("ao0E")}),c("design:paramtypes",["function"==typeof(u=void 0!==o.a&&o.a)&&u||Object,"function"==typeof(d=void 0!==i.b&&i.b)&&d||Object,"function"==typeof(f=void 0!==a.a&&a.a)&&f||Object])],l);var u,d,f},NMDB:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){function e(){}return e}()},Nlyo:function(e,t){e.exports='<nav class="green darken-2">\r\n    <div class="nav-wrapper container">\r\n        <label class="brand-logo" style="padding:0px"><span style="margin-left:25px">{{school?.Name}}</span></label>\r\n        <ul class="right">\r\n            <li><a class="btn lime" [routerLink]="[\'form-floor\']">Adicionar piso</a></li>\r\n        </ul>\r\n    </div>\r\n</nav>\r\n\r\n<nav>\r\n    <div class="nav-wrapper">\r\n        <ul class="row green darken-2">\r\n            <li *ngFor="let floor of floors; let i=index" class="flow-text center-align" [ngClass]="nCols != 0 ? \'col s\'+nCols : null"\r\n                [routerLink]="[\'floor\', floor?.ID]" style="text-decoration:none;padding:0px;cursor:pointer">\r\n                <div [attr.id]="\'option\'+i" class="tablink green">\r\n                    {{floor?.Name}}\r\n                </div>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n</nav>\r\n\r\n\r\n<div>\r\n    <router-outlet></router-outlet>\r\n</div>'},Ns3F:function(e,t){e.exports='<div class="container">\r\n    <div *ngIf="hasChild" class="center green white-text flow-text">Educandos</div>\r\n    <div *ngFor="let student of students" style="margin-top: 10px;">\r\n        <div class="card horizontal">\r\n            <div class="card-image valign-wrapper">\r\n                <img [attr.src]="student?.Photo" class="responsive-img" style="height: 100px">\r\n            </div>\r\n            <div class="card-stacked">\r\n                <div class="card-content left-align">\r\n                    <h5>{{student?.Name}}</h5>\r\n                </div>\r\n                <div class="card-action">\r\n                    <a class="left green-text text-darken-2" [routerLink]="[\'/user/details/\', student?.UserID]">Perfil</a>\r\n                    <a class="right green-text text-darken-2" [routerLink]="[\'/primary-class/\', student?.ClassID]">Aulas</a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},PMGZ:function(e,t,n){"use strict";var r=n("3j3K"),i=n("5oXY"),o=n("eWVg"),a=n("VNzG"),s=n("AMki");n.d(t,"a",function(){return f});var c=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},d=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},f=function(){function e(e,t,n,r,i,o){this._roomService=e,this._sensorService=t,this._router=n,this._route=r,this._assistantGuard=i,this._renderer=o}return e.prototype.ngOnInit=function(){return u(this,void 0,void 0,function(){var e,t,n=this;return d(this,function(r){switch(r.label){case 0:return this._route.params.subscribe(function(t){return e=t.id}),$(document).ready(function(){$("#bteditRemoveSensor").dropdown({hover:!0,belowOrigin:!0})}),t=this,[4,this._roomService.getRoom(e)];case 1:return t.room=r.sent(),this._sensorService.getSensorsByRoom(e).subscribe(function(e){n.sensors=e,n.info(0),console.log(e)}),[2]}})})},e.prototype.info=function(e){var t=this;this.hide(),this.selectedSensor=this.sensors[e],console.log(this.selectedSensor),this._sensorService.getSensorsValue(this.selectedSensor.ID).subscribe(function(e){t.record=e,console.log(e)}),this._sensorService.getSensorsResume(this.selectedSensor.ID).subscribe(function(e){t.average=e,console.log(e)}),this.show()},e.prototype.history=function(){var e=this;this._sensorService.getSensorsHistory(this.selectedSensor.ID).subscribe(function(t){e.historic=t})},e.prototype.show=function(){var e=document.getElementById("info");e.className=e.className.replace(" hide","")},e.prototype.hide=function(){for(var e=document.getElementsByClassName("accordion"),t=0;t<e.length;t++)e[t].className+=" hide"},e.prototype.accordion=function(e){var t=document.getElementById(e);t.className.includes("hide")?(this.history(),t.className=t.className.replace(" hide","")):t.className+=" hide"},e}();f=c([n.i(r._11)({template:n("V5LK")}),l("design:paramtypes",["function"==typeof(h=void 0!==o.a&&o.a)&&h||Object,"function"==typeof(p=void 0!==a.a&&a.a)&&p||Object,"function"==typeof(v=void 0!==i.b&&i.b)&&v||Object,"function"==typeof(b=void 0!==i.c&&i.c)&&b||Object,"function"==typeof(y=void 0!==s.b&&s.b)&&y||Object,"function"==typeof(g=void 0!==r.N&&r.N)&&g||Object])],f);var h,p,v,b,y,g},"QH+1":function(e,t,n){"use strict";var r=n("3j3K"),i=n("5oXY"),o=n("3jY+"),a=n("m7AI"),s=n("+0Yu");n.d(t,"a",function(){return f});var c=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},d=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},f=function(){function e(e,t,n,r,i){this._classService=e,this._userService=t,this._fileService=n,this._router=r,this._route=i,this.secretariesID=[],this.secretary=[]}return e.prototype.ngOnInit=function(){return u(this,void 0,void 0,function(){var e,t,n,r,i,o,n,a,s;return d(this,function(c){switch(c.label){case 0:return e=JSON.parse(localStorage.getItem("currentUser")).userID,[4,this._userService.getUsersCount(3)];case 1:t=c.sent(),n=0,c.label=2;case 2:return n<t?(r=this,o=(i=this.secretariesID).concat,[4,this._userService.getUsersByPage(n,3)]):[3,5];case 3:r.secretariesID=o.apply(i,[c.sent()]),c.label=4;case 4:return n++,[3,2];case 5:n=0,c.label=6;case 6:return n<this.secretariesID.length?[4,this._userService.getProfile(this.secretariesID[n])]:[3,10];case 7:return a=c.sent(),[4,this._fileService.imageDownloadAsync(a.Photo)];case 8:s=c.sent(),this.secretary.push({Email:a.Email,Function:a.Function,ID:a.ID,Name:a.Name,Photo:s}),c.label=9;case 9:return n++,[3,6];case 10:return[2]}})})},e}();f=c([n.i(r._11)({selector:"secretary-list",template:n("3dFq")}),l("design:paramtypes",["function"==typeof(h=void 0!==s.a&&s.a)&&h||Object,"function"==typeof(p=void 0!==o.a&&o.a)&&p||Object,"function"==typeof(v=void 0!==a.a&&a.a)&&v||Object,"function"==typeof(b=void 0!==i.b&&i.b)&&b||Object,"function"==typeof(y=void 0!==i.c&&i.c)&&y||Object])],f);var h,p,v,b,y},QhLa:function(e,t){e.exports='<div class="container white" style="margin-bottom:25px">\r\n    <div class="center" style="padding-top: 20px">\r\n        <h4 class="green-text text-darken-2">Adicionar um Utilizador</h4>\r\n    </div>\r\n    <div class="row">\r\n        <form class="col s12 left-align">\r\n            <div class="col s10 offset-s1">\r\n                <div class="row">\r\n                    <select [(ngModel)]="user.RoleID" name="RoleID" (change)="checked=true" class="browser-default" style="cursor:pointer">\r\n                           <option value="1">Estudante</option>\r\n                           <option value="2">Teacher</option>\r\n                            <option *ngIf="_adminGuard.canActivate()" value="3">Secretário</option>\r\n                            <option value="4">Auxiliar</option>\r\n                            <option value="5">Encarregado de Educação</option>\r\n                        </select>\r\n                    <label>Selecionar uma escola</label>\r\n                </div>\r\n                <div *ngIf="checked">\r\n                    <div class="row">\r\n                        <div class="col s6">\r\n                            \x3c!--*************************Name*****************************************--\x3e\r\n                            <div>\r\n                                <i class="fa fa-user"></i>\r\n                                <input class="input" type="text" [(ngModel)]="user.Name" name="Name" placeholder="Nome" required/>\r\n                            </div>\r\n                            \x3c!--*************************Password*****************************************--\x3e\r\n                            <div>\r\n                                <i class="fa fa-key"></i>\r\n                                <input class="input" type="password" name="Password" [(ngModel)]="user.Password" placeholder="Password" required/>\r\n                            </div>\r\n                            <div>\r\n                                <i class="fa fa-key"></i>\r\n                                <input class="input" type="password" name="confirmPassword" (keyup)="confirmPassword($event)" placeholder="Confirmar Password"\r\n                                    required/>\r\n                            </div>\r\n                            \x3c!--*************************Email*****************************************--\x3e\r\n                            <div>\r\n                                <i class="fa fa-envelope"></i>\r\n                                <input class="input" type="text" [(ngModel)]="user.Email" name="Email" placeholder="Email" required/>\r\n                            </div>\r\n                            \x3c!--*************************DateOfBirth*****************************************--\x3e\r\n                            <div *ngIf="user.RoleID!=5 && user.RoleID!=6">\r\n                                <i class="fa fa-birthday-cake"></i>\r\n                                <input type="date" name="DateOfBirth" [(ngModel)]="user.DateOfBirth" placeholder="Data de Nascimento" />\r\n                            </div>\r\n                            \x3c!--*************************Function*****************************************--\x3e\r\n                            <div>\r\n                                <i class="fa fa-wrench"></i>\r\n                                <input class="input" type="text" [(ngModel)]="user.Function" name="Function" placeholder="Função" />\r\n                            </div>\r\n                        </div>\r\n                        <div class="col s6">\r\n                            \x3c!--*************************Address*****************************************--\x3e\r\n                            <div *ngIf="user.RoleID!=6">\r\n                                <i class="fa fa-home"></i>\r\n                                <input class="input" type="text" [(ngModel)]="user.Address" name="Address" placeholder="Morada" />\r\n                            </div>\r\n                            \x3c!--*************************CitizenCard*****************************************--\x3e\r\n                            <div>\r\n                                <i class="fa fa-id-card"></i>\r\n                                <input class="input" type="text" name="CitizenCard" [(ngModel)]="user.CitizenCard" placeholder="Cartão do Cidadão" />\r\n                            </div>\r\n                            \x3c!--*************************FiscalNumber*****************************************--\x3e\r\n                            <div>\r\n                                <i class="fa fa-id-card-o"></i>\r\n                                <input class="input" type="text" name="FiscalNumber" [(ngModel)]="user.FiscalNumber" placeholder="Número de Contribuinte"\r\n                                />\r\n                            </div>\r\n                            \x3c!--*************************Curriculum*****************************************--\x3e\r\n                            <div *ngIf="user.RoleID!=1 && user.RoleID!=5 && user.RoleID!=6">\r\n                                <div class="file-field input-field">\r\n                                    <div class="btn green darken-2 col">\r\n                                        <span>Currículo:</span>\r\n                                        <input (change)="getCurriculum($event)" type="file" required/>\r\n                                    </div>\r\n                                    <div class="file-path-wrapper">\r\n                                        <input class="file-path validate" type="text" placeholder="Nenhum ficheiro selecionado">\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            \x3c!--*************************Phone Number*****************************************--\x3e\r\n                            <div *ngIf="user.RoleID!=1">\r\n                                <i class="fa fa-mobile"></i>\r\n                                <input class="w3-input" type="text" name="PhoneNumber" [(ngModel)]="user.PhoneNumber" placeholder="Número de Telefone / Telemóvel"\r\n                                />\r\n                            </div>\r\n                            \x3c!--*************************Photo*****************************************--\x3e\r\n                            <div *ngIf="user.RoleID!=5">\r\n                                <div class="file-field input-field">\r\n                                    <div class="btn green darken-2">\r\n                                        <span>Imagem de Perfil:</span>\r\n                                        <input (change)="getProfileImage($event)" type="file" required/>\r\n                                    </div>\r\n                                    <div class="file-path-wrapper">\r\n                                        <input class="file-path validate" type="text" placeholder="Nenhum ficheiro selecionado">\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </form>\r\n        <div *ngIf="confirmed" class="center" style="padding:20px">\r\n            <button type="submit" class="btn waves-effect waves-light green darken-2" (click)="createUser()"><i class="material-icons right">send</i>Submeter</button>\r\n        </div>\r\n        <div *ngIf="!confirmed" class="center" style="padding:20px">\r\n            <button type="submit" disabled class="btn waves-effect waves-light green darken-2" (click)="createUser()"><i class="material-icons right">send</i>Submeter</button>\r\n        </div>\r\n    </div>\r\n</div>'},"R+Mg":function(e,t,n){"use strict";var r=n("3j3K"),i=n("5oXY"),o=n("+0Yu"),a=n("zfYR"),s=n("wlW2");n.d(t,"a",function(){return f});var c=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},d=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},f=function(){function e(e,t,n,r){this._classService=e,this._schoolService=t,this._route=n,this.changeDetected=r,this.class=new s.a}return e.prototype.ngOnInit=function(){return u(this,void 0,void 0,function(){var e,t;return d(this,function(n){switch(n.label){case 0:return this._route.params.subscribe(function(t){return e=t.id}),this.class.SchoolFK=e,t=this,[4,this._schoolService.getSchool(e)];case 1:return t.school=n.sent(),[2]}})})},e.prototype.createClass=function(){return u(this,void 0,void 0,function(){var e;return d(this,function(t){switch(t.label){case 0:return[4,this._classService.createClass(this.class)];case 1:return e=t.sent(),this.class=new s.a,this.changeDetected.detectChanges(),[2]}})})},e}();f=c([n.i(r._11)({selector:"class-form",template:n("bE8N")}),l("design:paramtypes",["function"==typeof(h=void 0!==o.a&&o.a)&&h||Object,"function"==typeof(p=void 0!==a.a&&a.a)&&p||Object,"function"==typeof(v=void 0!==i.c&&i.c)&&v||Object,"function"==typeof(b=void 0!==r.Z&&r.Z)&&b||Object])],f);var h,p,v,b},Rdup:function(e,t,n){"use strict";var r=n("AMki"),i=n("0lrd"),o=(n.n(i),n("3j3K")),a=n("5oXY"),s=n("tKuJ");n.d(t,"a",function(){return f});var c=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},d=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},f=function(){function e(e,t,n,r,i,o){this._service=e,this._router=t,this._ngZone=n,this._changeDetect=r,this._secretaryGuard=i,this._adminGuard=o,this.authorized=!1}return e.prototype.ngOnInit=function(){return u(this,void 0,void 0,function(){return d(this,function(e){switch(e.label){case 0:return $(document).ready(function(){$(".button-collapse").sideNav()}),null==JSON.parse(localStorage.getItem("currentUser"))?[3,2]:[4,this._service.verifyToken()];case 1:e.sent()?(this.user=JSON.parse(localStorage.getItem("currentUser")),this.authorized=!0):(this.mail=JSON.parse(localStorage.getItem("currentUser")).email,this.pass=JSON.parse(localStorage.getItem("currentUser")).password,this.login()),e.label=2;case 2:return[2]}})})},e.prototype.login=function(){var e=this;null!=this.mail&&null!=this.pass&&this._service.login(this.mail,this.pass).subscribe(function(t){e.user=t,null!=t&&(localStorage.setItem("currentUser",JSON.stringify(e.user)),e.authorized=!0,e._router.navigate(["home"]),n.i(i.toast)("Bem Vindo",4e3,"lime"))},function(e){})},e.prototype.logout=function(){this.user=null,localStorage.removeItem("currentUser"),this.authorized=!1,n.i(i.toast)("Saída efetuada com sucesso",4e3,"lime"),location.reload()},e.prototype.closeNavMobile=function(){$(document).ready(function(){$(".button-collapse").sideNav("hide")})},e}();f=c([n.i(o._11)({selector:"navbar",template:n("VxPi")}),l("design:paramtypes",["function"==typeof(h=void 0!==s.a&&s.a)&&h||Object,"function"==typeof(p=void 0!==a.b&&a.b)&&p||Object,"function"==typeof(v=void 0!==o.m&&o.m)&&v||Object,"function"==typeof(b=void 0!==o.Z&&o.Z)&&b||Object,"function"==typeof(y=void 0!==r.g&&r.g)&&y||Object,"function"==typeof(g=void 0!==r.c&&r.c)&&g||Object])],f);var h,p,v,b,y,g},Rwrf:function(e,t,n){"use strict";var r=n("AMki"),i=n("3j3K"),o=n("5oXY"),a=n("3jY+"),s=n("m7AI"),c=n("+0Yu");n.d(t,"a",function(){return h});var l=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},f=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},h=function(){function e(e,t,n,r,i,o,a){this._classService=e,this._userService=t,this._fileService=n,this._adminGuard=r,this._secretaryGuard=i,this._router=o,this._route=a,this.students=[]}return e.prototype.ngOnInit=function(){return d(this,void 0,void 0,function(){var e,t,n,r,i,o,a,s,c,l=this;return f(this,function(u){switch(u.label){case 0:return this._route.parent.params.subscribe(function(e){return l.classID=+e.id}),[4,this._classService.getStudentsByClass(this.classID)];case 1:e=u.sent(),console.log(e),t=0,u.label=2;case 2:return t<e.length?(n=this.students,r=t,[4,this._userService.getProfile(e[t])]):[3,5];case 3:n[r]=u.sent(),console.log(this.students[t]),u.label=4;case 4:return t++,[3,2];case 5:for(i=function(e){o._fileService.imageDownload(e.Photo).subscribe(function(t){e.Photo=t})},o=this,a=0,s=this.students;a<s.length;a++)c=s[a],i(c);return this.students.sort(function(e,t){return e.Name>t.Name?1:t.Name>e.Name?-1:0}),[2]}})})},e}();h=l([n.i(i._11)({selector:"primary-students",template:n("tkhS")}),u("design:paramtypes",["function"==typeof(p=void 0!==c.a&&c.a)&&p||Object,"function"==typeof(v=void 0!==a.a&&a.a)&&v||Object,"function"==typeof(b=void 0!==s.a&&s.a)&&b||Object,"function"==typeof(y=void 0!==r.c&&r.c)&&y||Object,"function"==typeof(g=void 0!==r.g&&r.g)&&g||Object,"function"==typeof(m=void 0!==o.b&&o.b)&&m||Object,"function"==typeof(w=void 0!==o.c&&o.c)&&w||Object])],h);var p,v,b,y,g,m,w},Sdlu:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){function e(){}return e}()},TmZ8:function(e,t,n){"use strict";var r=n("3j3K"),i=n("5oXY"),o=n("zfYR"),a=n("Sdlu"),s=n("AMki"),c=n("m7AI"),l=n("WReN");n.d(t,"a",function(){return p});var u=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},h=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},p=function(){function e(e,t,n,r,i,o){this._schoolService=e,this._fileService=t,this._secretaryGuard=n,this._timeService=r,this._changeDetetor=i,this._route=o,this.school=new a.a,this.timesPrimary=[],this.timesKindergarten=[],this.primaryIndex=0,this.kindergartenIndex=0}return e.prototype.ngOnInit=function(){var e=this;tinymce.init({selector:"#textarea",statusbar:!1,menubar:!1,toolbar:"fontselect fontsizeselect forecolor | bold italic underline | alignleft aligncenter alignright alignjustify | bullist | hr | subscript superscript | link | print preview",plugins:["link","colorpicker","textcolor","print","lists","preview","hr"],skin_url:"assets/skins/lightgray",setup:function(t){e.editor=t,t.on("keyup",function(){e.school.About=t.getContent()})}})},e.prototype.show=function(e){document.getElementById(e).style.display="block"},e.prototype.hide=function(e){document.getElementById(e).style.display="none"},e.prototype.getLogoImage=function(e){this.logo=e.target.files[0]},e.prototype.getProfileImage=function(e){this.profile=e.target.files[0]},e.prototype.newTime=function(){this.timesPrimary.push({Order:this.primaryIndex,StartTime:null,EndTime:null,IsKindergarten:!1,SchoolFK:null}),this.primaryIndex++},e.prototype.newTimeKindergarten=function(){this.timesKindergarten.push({Order:this.kindergartenIndex,StartTime:null,EndTime:null,IsKindergarten:!0,SchoolFK:null}),this.kindergartenIndex++},e.prototype.createSchool=function(){return f(this,void 0,void 0,function(){var e,t,n,r,i,o,s,c,l,o,s;return h(this,function(u){switch(u.label){case 0:return e=this.school,[4,this._fileService.publicImageUpload(this.logo)];case 1:return e.Logo=u.sent(),t=this.school,[4,this._fileService.publicImageUpload(this.profile)];case 2:return t.ProfilePicture=u.sent(),[4,this._schoolService.createSchool(this.school)];case 3:if(null==(n=u.sent()))return[2,null];for(r=0,i=this.timesKindergarten;r<i.length;r++)o=i[r],o.SchoolFK=n,s=this._timeService.createTimes(o),console.log(s);for(c=0,l=this.timesPrimary;c<l.length;c++)o=l[c],o.SchoolFK=n,s=this._timeService.createTimes(o),console.log(s);return this.school=new a.a,tinymce.activeEditor.setContent(""),this._changeDetetor.detectChanges(),[2]}})})},e}();p=u([n.i(r._11)({selector:"school-form",template:n("V/oD")}),d("design:paramtypes",["function"==typeof(v=void 0!==o.a&&o.a)&&v||Object,"function"==typeof(b=void 0!==c.a&&c.a)&&b||Object,"function"==typeof(y=void 0!==s.g&&s.g)&&y||Object,"function"==typeof(g=void 0!==l.a&&l.a)&&g||Object,"function"==typeof(m=void 0!==r.Z&&r.Z)&&m||Object,"function"==typeof(w=void 0!==i.c&&i.c)&&w||Object])],p);var v,b,y,g,m,w},UyBt:function(e,t){e.exports='<div id="sentMessages" class="informationNotif" style="margin-top:5px">\r\n    <div class="col l10 container offset-l1">\r\n        <div *ngFor="let notification of sentNotifications, let i=index" class="row grey lighten-1" (click)="showNotifDetails(i,notification.ID)"\r\n            style="cursor:pointer">\r\n            <div class="col m6 s12" style="margin-top:5px">\r\n                <span style="margin-left: 10px;" class="black-text">{{notification?.Subject}}</span>\r\n            </div>\r\n            <div class="col m3 s12" style="margin-top:5px">\r\n                <span class="black-text"> {{notification?.Hour}}</span>\r\n            </div>\r\n            <div class="col m3 s12">\r\n                <div class="col s12">\r\n                    <i class="black-text" class="fa fa-calendar"></i>\r\n                    <span class="black-text">  {{notification?.Hour | date}}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div id="notifSent" class="modal">\r\n    <div class="modal-content" style="padding:0px">\r\n            <header style="position: relative">\r\n                    <a class="btn-floating deep-orange darken-2" (click)="closeNotifDetails()" style="position:absolute; right: 10px;">\r\n                        <i class="material-icons white-text" style="cursor:pointer">close</i>\r\n                    </a>\r\n                </header>\r\n        <div class="container" style="margin:20px; padding-top: 10px;">\r\n            <div>\r\n                <div class="row">\r\n                    <div class="col s4"><b>Asunto:</b></div>\r\n                    <div class="col s8"><b>{{selected?.Subject}}</b></div>\r\n                </div>\r\n                <div class="row">\r\n                    <div class="col s4"><b>Data:</b></div>\r\n                    <div class="col s8"> {{selected?.Hour | date}}</div>\r\n                </div>\r\n                <div class="row">\r\n                    <div class="col s12">\r\n                        <div class="row">\r\n                            <div class="col s6"><b>Destinatario:</b></div>\r\n                            <div class="col s6"><b>Aluno Associado:</b></div>\r\n                        </div>\r\n                        <div *ngFor="let validation of sentValidations" class="row" style="margin:0px">\r\n                            <div class="col s6">{{validation.Receiver}}</div>\r\n                            <div class="col s6">{{validation?.Student}}</div>\r\n                            <div style="border-bottom:1px solid #eee"></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="row">\r\n                    <div class="col s12"><b>Descrição:</b></div>\r\n                    <div class="col s12" id="notSentDescription"></div>\r\n                </div>\r\n                <div class="row">\r\n                    <div class="col s4"><b>Urgencia:</b></div>\r\n                    <div class="col s8">\r\n                        <span *ngIf="selected?.Urgency"><i class="fa fa-check-circle-o" style="font-size:1.5rem"></i></span>\r\n                        <span *ngIf="!selected?.Urgency"><i class="fa fa-times-circle-o" style="font-size:1.5rem"></i></span>\r\n                    </div>\r\n                </div>\r\n                <div class="row">\r\n                    <div class="col s4"><b>Para aprovação:</b></div>\r\n                    <div class="col s8">\r\n                        <span *ngIf="selected?.Approval"><i class="fa fa-check-circle-o" style="font-size:1.5rem"></i></span>\r\n                        <span *ngIf="!selected?.Approval"><i class="fa fa-times-circle-o" style="font-size:1.5rem"></i></span>\r\n                    </div>\r\n                </div>\r\n                <div *ngIf="selected?.Approval" class="row">\r\n                    <div class="col s4"><b>Aprovados:</b></div>\r\n                    <div class="col s8">\r\n                        <span *ngFor="let validation of sentValidations">\r\n                            <span *ngIf="validation?.Accepted && validation.Student!=null">{{validation?.Student}}<label>; </label></span>\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n                <div *ngIf="selected?.Approval" class="row">\r\n                    <div class="col s4"><b>Rejeitados:</b></div>\r\n                    <div class="col s8">\r\n                        <span *ngFor="let validation of sentValidations">\r\n                    <span *ngIf="!validation?.Accepted && validation.Student!=null">{{validation?.Student}}<label>; </label></span>\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\x3c!-- \r\n<div class="fixed-action-btn" (click)="writeMessage()">\r\n    <a class="btn-floating btn-large waves-effect waves-light green darken-2"><i class="material-icons">edit</i></a>\r\n</div>\r\n\r\nModal Structure \r\n<div id="writeMessage" class="modal">\r\n    <div class="modal-content">\r\n        <div class="right-align">\r\n            <a (click)="closeWriteMessage()">\r\n                <i class="material-icons green-text text-darken-2" style="cursor:pointer">close</i>\r\n            </a>\r\n        </div>\r\n        <notification-form></notification-form>\r\n    </div>\r\n</div>--\x3e'},"V/oD":function(e,t){e.exports='<div class="container white" style="margin-bottom:25px">\r\n    <div class="center" style="padding-top: 20px;">\r\n        <h4 class="green-text text-darken-2">Adicionar uma Escola</h4>\r\n    </div>\r\n    <div class="row">\r\n        <form class="col s12 left-align">\r\n            <div class="col s10 offset-s1">\r\n                <div class="input-field row">\r\n                    <input [(ngModel)]="school.Name" id="Name" type="text" name="Name" required/>\r\n                    <label for="Name">Nome</label>\r\n                </div>\r\n                <div class="file-field input-field row">\r\n                    <div class="btn green darken-2 col s3">\r\n                        <span>Logotipo:</span>\r\n                        <input (change)="getLogoImage($event)" type="file" required/>\r\n                    </div>\r\n                    <div class="file-path-wrapper">\r\n                        <input class="file-path validate" type="text" placeholder="Nenhum ficheiro selecionado">\r\n                    </div>\r\n                </div>\r\n                <div class="file-field input-field row">\r\n                    <div class="btn green darken-2 col s3">\r\n                        <span>Imagem de Perfil:</span>\r\n                        <input (change)="getProfileImage($event)" type="file" required/>\r\n                    </div>\r\n                    <div class="file-path-wrapper">\r\n                        <input class="file-path validate" type="text" placeholder="Nenhum ficheiro selecionado">\r\n                    </div>\r\n                </div>\r\n                <div class="input-field row">\r\n                    <input [(ngModel)]="school.Acronym" id="Acronym" type="text" name="Acronym" required/>\r\n                    <label for="Acronym">Acrónimo</label>\r\n                </div>\r\n                <div class="row">\r\n                    <span class="col s12 grey-text">Alguma informação relativa à escola:</span>\r\n                    <div class="col s12">\r\n                        <textarea id="textarea" name="About" class="input" style="resize:none" rows="5" cols="8" required></textarea>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                <div class="row flow-text center">Horários</div>\r\n                <div class="row">\r\n                    <div id="primaryTime" class="col s6 center" style="border-right:1px solid #000">\r\n                        Horários da escola primária\r\n                        <div *ngFor="let time of timesPrimary, let i=index" class="row">\r\n                            <div class="col s4">\r\n                                <label>Tempo Inicial</label>\r\n                                <input [(ngModel)]="time.StartTime" type="time" name="time_{{i}}" required/>\r\n                            </div>\r\n                            <div class="col s1"></div>\r\n                            <div class="col s4">\r\n                                <label>Tempo Final</label>\r\n                                <input [(ngModel)]="time.EndTime" type="time" name="time_{{i}}" required/>\r\n                            </div>\r\n                        </div>\r\n                        <div class="row" style="margin-top:5px">\r\n                            <div class="newTime"></div>\r\n                            <button class="btn green darken-2 left-align" (click)="newTime()">Adicionar novo tempo</button>\r\n                        </div>\r\n                    </div>\r\n                    <div id="kindergartenTime" class="col s5 center" style="border-left:1px solid #000">\r\n                        Horários do jardim de infância\r\n                        <div *ngFor="let time of timesKindergarten, let i=index" class="row">\r\n                            <div class="col s4">\r\n                                <label>Tempo Inicial</label>\r\n                                <input [(ngModel)]="time.StartTime" type="time" name="timeKindergarten_{{i}}" required/>\r\n                            </div>\r\n                            <div class="col s1"></div>\r\n                            <div class="col s4">\r\n                                <label>Tempo Final</label>\r\n                                <input [(ngModel)]="time.EndTime" type="time" name="timeKindergarten_{{i}}" required/>\r\n                            </div>\r\n                        </div>\r\n                        <div class="row" style="margin-top:5px">\r\n                            <div class="newTime"></div>\r\n                            <button class="btn green darken-2 right-align" (click)="newTimeKindergarten()">Adicionar novo tempo</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n    <div class="center" style="padding:20px">\r\n        <button type="submit" class="btn waves-effect waves-light green darken-2" (click)="createSchool()"><i class="material-icons right">send</i>Submeter</button>\r\n    </div>\r\n</div>'},V5LK:function(e,t){e.exports='<hr>\r\n<div class="row">\r\n    <div class="col s10 offset-s1">\r\n        <div class="col s12 left-align" style="width: 15%;">\r\n            <a *ngFor="let sensor of sensors; let i=index" class="btn lime col s12" (click)="info(i)" style="margin-top: 5px;">\r\n                <h6>{{sensor?.Name}}</h6>\r\n            </a>\r\n        </div>\r\n\r\n        <div id="info" class="col accordion card z-depth-4" style="width: 85%;">\r\n            <div class="container row">\r\n                <h2 class="col s11">{{selectedSensor?.Name}}</h2>\r\n                <div id="bteditRemoveSensor" data-activates=\'editRemoveSensor\' class="hide-on-med-and-down col s1 dropdown-button card-panel btn green white-text">\r\n                    <i class="fa fa-cogs"></i>\r\n                    <ul id="editRemoveSensor" class="dropdown-content card z-depth-4">\r\n                        <li><a class="green-text">Editar</a></li>\r\n                        <li><a class="green-text">Remover</a></li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n\r\n            <div class="hide-on-med-and-down">\r\n                <div class="col" style="width: 25%;">\r\n                    <div *ngIf="record?.Temperature" class="lime card-panel">\r\n                        <i class="fa fa-thermometer green-text" style="font-size:2.5rem"></i>\r\n                        <h4 class="gray-text">{{record?.Temperature}} ºC</h4>\r\n                        <h5 class="white-text">{{average?.TemperatureAVG}} ºC</h5>\r\n                    </div>\r\n                </div>\r\n                <div class="col" style="width: 25%;">\r\n                    <div *ngIf="record?.Humidity" class="lime card-panel">\r\n                        <i class="fa fa-tint green-text center-align" style="font-size:2.5rem"></i>\r\n                        <h4 class="gray-text">{{record?.Humidity * 100 | number:\'2.0\'}} %</h4>\r\n                        <h5 class="white-text">{{average?.HumidityAVG * 100 | number:\'2.0\'}} %</h5>\r\n                    </div>\r\n                </div>\r\n                <div class="col" style="width: 25%;">\r\n                    <div *ngIf="record?.Luminosity" class="lime card-panel">\r\n                        <i class="\tfa fa-sun-o green-text center-align" style="font-size:2.5rem"></i>\r\n                        <h4 class="gray-text">{{record?.Luminosity}} lm</h4>\r\n                        <h5 class="white-text">{{average?.LuminosityAVG}} lm</h5>\r\n                    </div>\r\n                </div>\r\n                <div class="col" style="width: 25%;">\r\n                    <div *ngIf="record?.Energy" class="lime card-panel">\r\n                        <i class="fa fa-flash green-text center-align" style="font-size:2.5rem"></i>\r\n                        <h4 class="gray-text">{{record?.Energy}} kWh</h4>\r\n                        <h5 class="white-text">{{average?.EnergyAVG}} kWh</h5>\r\n                    </div>\r\n                </div>\r\n                <div class="row">\r\n                    <a (click)="accordion(\'history\')" class="col hide-on-med-and-down btn green">\r\n                        <h6>Histórico</h6>\r\n                    </a>\r\n                </div>\r\n            </div>\r\n            <div class="hide-on-large-only">\r\n                <div *ngIf="record?.Temperature" class="lime card-panel row">\r\n                    <i class="col s2 fa fa-thermometer green-text center-align"></i>\r\n                    <label class="col s5 gray-text">{{record?.Temperature}} ºC</label>\r\n                    <label class="col s5 white-text">{{average?.TemperatureAVG}} ºC</label>\r\n                </div>\r\n                <div *ngIf="record?.Humidity" class="lime card-panel row">\r\n                    <i class="col s2 fa fa-tint green-text center-align"></i>\r\n                    <label class="col s5 gray-text">{{record?.Humidity * 100 | number:\'2.0\'}} %</label>\r\n                    <label class="col s5 white-text">{{average?.HumidityAVG * 100 | number:\'2.0\'}} %</label>\r\n                </div>\r\n                <div *ngIf="record?.Luminosity" class="lime card-panel row">\r\n                    <i class="col s2 fa fa-sun-o green-text center-align"></i>\r\n                    <label class="col s5 gray-text">{{record?.Luminosity}} lm</label>\r\n                    <label class="col s5 white-text">{{average?.LuminosityAVG}} lm</label>\r\n                </div>\r\n                <div *ngIf="record?.Energy" class="lime card-panel row">\r\n                    <i class="col s2 fa fa-flash green-text center-align"></i>\r\n                    <label class="col s5 gray-text">{{record?.Energy}} kWh</label>\r\n                    <label class="col s5 white-text">{{average?.EnergyAVG}} kWh</label>\r\n                </div>\r\n            </div>\r\n\r\n            <div id="history" class="accordion container hide">\r\n                <br>\r\n                <table>\r\n                    <tr>\r\n                        <th>Data</th>\r\n                        <th><i class="col s2 fa fa-thermometer green-text center-align"></i></th>\r\n                        <th><i class="col s2 fa fa-tint green-text center-align"></i></th>\r\n                        <th><i class="col s2 fa fa-sun-o green-text center-align"></i></th>\r\n                        <th><i class="col s2 fa fa-flash green-text center-align"></i></th>\r\n                    </tr>\r\n                    <tr *ngFor="let hist of historic">\r\n                        <td>{{hist?.Hour | date: \'EEE, dd MMM y - HH:mm:ss\'}}</td>\r\n                        <td><label *ngIf="hist?.Temperature">{{hist?.Temperature | number:\'2.0\'}} ºC</label></td>\r\n                        <td><label *ngIf="hist?.Humidity">{{hist?.Humidity* 100 | number:\'2.0\'}} %</label></td>\r\n                        <td><label *ngIf="hist?.Luminosity">{{hist?.Luminosity}} lm</label></td>\r\n                        <td><label *ngIf="hist?.Energy">{{hist?.Energy}} kWh</label></td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},VGu0:function(e,t){e.exports='<div class="container white" style="margin-top:25px">\r\n    <div class="center" style="padding-top: 20px">\r\n        <h4 class="green-text text-darken-2">Adicionar um piso</h4>\r\n    </div>\r\n    <div class="row">\r\n        <form class="col s12 left-align">\r\n            <div class="col s10 offset-s1">\r\n                <div class="input-field row">\r\n                        <input [(ngModel)]="floor.Name" type="text" name="Name" required/>\r\n                        <label for="Name">Nome:</label>\r\n                </div>\r\n                <div class="file-field input-field row">\r\n                    <div class="btn green darken-2 col s3">\r\n                        <span>Planta do Piso:</span>\r\n                        <input (change)="getImage($event)" type="file" required/>\r\n                    </div>\r\n                    <div class="file-path-wrapper">\r\n                        <input class="file-path validate" type="text" placeholder="Nenhum ficheiro selecionado"/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n    <div class="center" style="padding:20px">\r\n        <button type="submit" class="btn waves-effect waves-light green darken-2" (click)="createFloor()"><i class="material-icons right">send</i>Submeter</button>\r\n    </div>\r\n</div>'},VNzG:function(e,t,n){"use strict";var r=n("3j3K"),i=n("Fzro"),o=n("rCTf"),a=(n.n(o),n("0lrd")),s=(n.n(a),n("+pb+")),c=(n.n(s),n("EnA3")),l=(n.n(c),n("6Yye")),u=(n.n(l),n("eErF")),d=(n.n(u),n("eWVg")),f=n("x35b");n.d(t,"a",function(){return y});var h=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},v=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},b=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},y=function(){function e(e,t){this._http=e,this._roomService=t,this._apiURL=f.API.url,this._headers=new i.b,this._headers.append("Content-Type","application/json; charset=utf-8"),this._headers.append("Authorization",JSON.parse(localStorage.getItem("currentUser")).token),this._options=new i.c({headers:this._headers})}return e.prototype.getSensorsByRoom=function(e){return this._http.get(this._apiURL+"/sensor/room/"+e,this._options).map(function(e){return e.json().result?e.json().data:(console.log(e.json().info),null)}).catch(this._handleError)},e.prototype.getSensorsValue=function(e){return this._http.get(this._apiURL+"/sensor/last/"+e,this._options).map(function(e){return e.json().result?e.json().data:(console.log(e.json().info),null)}).catch(this._handleError)},e.prototype.getSensorsHistory=function(e){return this._http.get(this._apiURL+"/sensor/history/"+e,this._options).map(function(e){return e.json().result?e.json().data:(console.log(e.json().info),null)}).catch(this._handleError)},e.prototype.getSensorsResume=function(e){return this._http.get(this._apiURL+"/sensor/resume/"+e,this._options).map(function(e){return e.json().result?e.json().data:(console.log(e.json().info),null)}).catch(this._handleError)},e.prototype.createSensor=function(e){return v(this,void 0,void 0,function(){var t,r,i;return b(this,function(o){switch(o.label){case 0:return t=JSON.stringify({Name:e.Name,RoomFK:e.RoomFK}),[4,this._http.post(this._apiURL+"/sensor",t,this._options).toPromise()];case 1:return r=o.sent(),i=this,[4,this._roomService.getRoom(e.RoomFK)];case 2:return i.room=o.sent(),this.room.HasSensor=!0,this._roomService.editRoom(this.room),[2,n.i(a.toast)("Sensor criado com sucesso",4e3,"lime")]}})})},e.prototype._handleError=function(e){return console.error(e),o.Observable.throw(e.json().error||"Server error")},e}();y=h([n.i(r.c)(),p("design:paramtypes",["function"==typeof(g=void 0!==i.d&&i.d)&&g||Object,"function"==typeof(m=void 0!==d.a&&d.a)&&m||Object])],y);var g,m},VxPi:function(e,t){e.exports='<nav class="white" style="max-height: 66px;margin-bottom:10px" role="navigation">\r\n  <div class="nav-wrapper container">\r\n    <a id="logo-container" [routerLink]="[\'home\']" class="brand-logo" style="color:#444">\r\n      <i class="material-icons hide-on-small-only" style="font-size:2.5rem">home</i><b>CQPROJ</b>\r\n    </a>\r\n\r\n    <ul *ngIf="!authorized" class="right hide-on-med-and-down">\r\n      <form>\r\n        <li>\r\n          <div class="input-field" style="margin-right:5px; width:200px">\r\n            <input id="mail" type="text" [(ngModel)]="mail" name="mail" class="validate black-text" required />\r\n            <label for="mail" class="grey-text text-darken-2">Email</label>\r\n          </div>\r\n        </li>\r\n        <li>\r\n          <div class="input-field" style="margin-left:5px; width:200px">\r\n            <input id="pass" type="password" [(ngModel)]="pass" name="pass" class="validate black-text" required />\r\n            <label for="pass" class="grey-text text-darken-2">Password</label>\r\n          </div>\r\n        </li>\r\n        <li *ngIf="pass && mail">\r\n          <a (click)="login()" id="btUserLogin" class="btn waves-effect waves-light grey darken-2">Entrar</a>\r\n        </li>\r\n        <li *ngIf="!pass || !mail">\r\n          <a (click)="login()" disabled id="btUserLogin" class="btn waves-effect waves-light">Entrar</a>\r\n        </li>\r\n      </form>\r\n    </ul>\r\n\r\n    <a href="#" class="button-collapse grey-text text-darken-2" data-activates="nav-mobile"><i class="material-icons">menu</i></a>\r\n\r\n    <div id="nav-mobile" class="side-nav hide-on-large-only" *ngIf="!authorized" style="transform:translate()">\r\n      <div class="row">\r\n        <a id="logo-container" [routerLink]="[\'home\']" class="brand-logo" style="color:#444">\r\n          <b>CQPROJ</b>\r\n      </a>\r\n      </div>\r\n      <form>\r\n        <div class="row" style="margin-top:40px">\r\n          <div class="col s1 m1"></div>\r\n          <div class="input-field col s10 m10">\r\n            <input id="mail" type="text" [(ngModel)]="mail" name="mail" class="validate black-text" required />\r\n            <label for="mail" class="grey-text text-darken-2">Email</label>\r\n          </div>\r\n          <div class="col s1 m1"></div>\r\n        </div>\r\n        <div class="row">\r\n          <div class="col s1 m1"></div>\r\n          <div class="input-field col s10 m10">\r\n            <input id="pass" type="password" [(ngModel)]="pass" name="pass" class="validate black-text" required />\r\n            <label for="pass" class="grey-text text-darken-2">Password</label>\r\n          </div>\r\n          <div class="col s1 m1"></div>\r\n        </div>\r\n        <div class="row">\r\n          <div class="col s2 m2"></div>\r\n          <div class="col s3 m3" *ngIf="pass && mail">\r\n            <a (click)="login()" id="btUserLogin" class="btn waves-effect waves-light grey darken-2">Entrar</a>\r\n          </div>\r\n          <div class="col s3 m3" *ngIf="!pass || !mail">\r\n            <a (click)="login()" disabled id="btUserLogin" class="btn waves-effect waves-light">Entrar</a>\r\n          </div>\r\n          <div class="col s2 m2"></div>\r\n          <div class="col s3 m3">\r\n            <a (click)="closeNavMobile()" class="waves-effect waves-light grey darken-2 btn">Voltar</a>\r\n          </div>\r\n          <div class="col s2 m2"></div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n\r\n    <ul *ngIf="authorized" class="right">\r\n        <li *ngIf="_adminGuard.canActivate() || _secretaryGuard.canActivate()">\r\n            <a [routerLink]="[\'/users\']" class="grey-text text-darken-2">\r\n              <i class="material-icons left" style="margin-right:5px">group_add</i>Utilizadores\r\n            </a>\r\n          </li>\r\n      <li>\r\n        <a [routerLink]="[\'/user/details/\', user.userID]" class="grey-text text-darken-2">\r\n          <i class="material-icons left" style="margin-right:5px">account_circle</i>{{user?.name}}\r\n        </a>\r\n      </li>\r\n      <li>\r\n        <notifications></notifications>\r\n      </li>\r\n      <li>\r\n        <a (click)="logout()" class="grey-text text-darken-2">\r\n            <i class="material-icons right" style="margin-left:5px">exit_to_app</i>Sair</a>\r\n      </li>\r\n    </ul>\r\n\r\n    <div id="nav-mobile" class="side-nav hide-on-large-only" *ngIf="authorized" style="transform:translate()">\r\n      <div class="row">\r\n        <a id="logo-container" [routerLink]="[\'home\']" class="brand-logo" style="color:#444">\r\n            <b>CQPROJ</b>\r\n        </a>\r\n      </div>\r\n      <ul>\r\n        <li>\r\n          <a [routerLink]="[\'/user/details/\', user.userID]" class="grey-text text-darken-2">\r\n              <i class="material-icons left" style="margin-right:5px">account_circle</i>{{user?.name}}\r\n            </a>\r\n        </li>\r\n        <li>\r\n          <notifications></notifications>\r\n        </li>\r\n        <li>\r\n          <a (click)="logout()" class="grey-text text-darken-2">\r\n                <i class="material-icons right" style="margin-left:5px">exit_to_app</i>Sair</a>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</nav>'},WReN:function(e,t,n){"use strict";var r=n("3j3K"),i=n("Fzro"),o=n("rCTf"),a=(n.n(o),n("+pb+")),s=(n.n(a),n("EnA3")),c=(n.n(s),n("6Yye")),l=(n.n(c),n("eErF")),u=(n.n(l),n("x35b"));n.d(t,"a",function(){return v});var d=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},f=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},p=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},v=function(){function e(e){this._http=e,this._apiURL=u.API.url,this._headers=new i.b,this._headers.append("Content-Type","application/json; charset=utf-8"),this._headers.append("Authorization",JSON.parse(localStorage.getItem("currentUser")).token),this._options=new i.c({headers:this._headers})}return e.prototype.getTimeByPrimary=function(e){return h(this,void 0,void 0,function(){var t;return p(this,function(n){switch(n.label){case 0:return[4,this._http.get(this._apiURL+"/time/primary/"+e,this._options).toPromise()];case 1:return t=n.sent(),t.json().result?[2,t.json().data]:(console.log(t.json().info),[2,null])}})})},e.prototype.getTimeByKindergarten=function(e){return h(this,void 0,void 0,function(){var t;return p(this,function(n){switch(n.label){case 0:return[4,this._http.get(this._apiURL+"/time/kindergarten/"+e,this._options).toPromise()];case 1:return t=n.sent(),t.json().result?[2,t.json().data]:(console.log(t.json().info),[2,null])}})})},e.prototype.getSingleTime=function(e){return h(this,void 0,void 0,function(){var t;return p(this,function(n){switch(n.label){case 0:return[4,this._http.get(this._apiURL+"/time/single/"+e,this._options).toPromise()];case 1:return t=n.sent(),t.json().result?[2,t.json().data]:(console.log(t.json().info),[2,null])}})})},e.prototype.createTimes=function(e){return h(this,void 0,void 0,function(){var t;return p(this,function(n){switch(n.label){case 0:return console.log(e.StartTime),[4,this._http.post(this._apiURL+"/time",e,this._options).toPromise()];case 1:return t=n.sent(),t.json().result?[2,t.json().data]:(console.log(t.json().info),[2,null])}})})},e.prototype._handleError=function(e){return console.error(e),o.Observable.throw(e.json().error||"Server error")},e}();v=d([n.i(r.c)(),f("design:paramtypes",["function"==typeof(b=void 0!==i.d&&i.d)&&b||Object])],v);var b},WYsJ:function(e,t){e.exports='<nav class="green darken-2">\r\n    <div class="nav-wrapper container">\r\n        <label class="brand-logo" style="padding:0px"><span style="margin-left:25px">{{school?.Name}}</span></label>\r\n        <ul class="right">\r\n            <li><a class="btn lime" [routerLink]="[\'/school/addclass\', school?.ID]">Adicionar turma</a></li>\r\n        </ul>\r\n    </div>\r\n</nav>\r\n<div class="row">\r\n    <div class="col s12" style="padding: 0px;">\r\n        <ul class="tabs">\r\n            <li class="tab col s6">\r\n                <a href="#showClassesOfPrimary" style="text-decoration:none">\r\n                    <div id="option1" class="tablink">\r\n                        1º Ciclo\r\n                    </div>\r\n                </a>\r\n            </li>\r\n            <li class="tab col s6">\r\n                <a href="#showClassesOfKindergarten" style="text-decoration:none">\r\n                    <div id="option2" class="tablink">\r\n                        Jardim de Infância\r\n                    </div>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <br>\r\n    </div>\r\n    <div id="showClassesOfPrimary" class="col s12">\r\n        <div class="row">\r\n            <div *ngIf="primary_classes==null" class="col offset-s2 s8">\r\n                <div class="col s12 card-panel white-text center" style="background-color:transparent">\r\n                    <h1>Sem turmas</h1>\r\n                </div>\r\n            </div>\r\n            <div *ngIf="primary_classes!=null" class="col offset-s2 s8">\r\n                <div *ngFor="let class of primary_classes" class="col s4">\r\n                    <a class="col s12 btn green darken-2" style="margin-top:5px" [routerLink]="[\'/primary-class/\', class?.ID]">\r\n                        <b>{{class?.Year}} {{class?.ClassDesc}}</b>\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div id="showClassesOfKindergarten" class="col s12 center-align">\r\n        <div class="row">\r\n            <div *ngIf="kindergarten_classes==null" class="col s8 offset-s2">\r\n                <div class="col s12 card-panel white-text" style="background-color:transparent">\r\n                    <h1>Sem turmas</h1>\r\n                </div>\r\n            </div>\r\n            <div *ngIf="kindergarten_classes!=null" class="col offset-s2 s8">\r\n                <div *ngFor="let class of kindergarten_classes">\r\n                    <a class="col s12 btn green darken-2" style="margin-top:5px">\r\n                <b>{{class?.Year}} {{class?.ClassDesc}}</b>\r\n            </a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},WkgY:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){function e(){}return e}()},XKfx:function(e,t,n){"use strict";var r=n("3j3K"),i=n("Fzro"),o=n("eErF"),a=(n.n(o),n("0lrd")),s=(n.n(a),n("x35b"));n.d(t,"a",function(){return f});var c=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},d=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},f=function(){function e(e){this._http=e,this._apiURL=s.API.url,this._headers=new i.b,this._headers.append("Content-Type","application/json; charset=utf-8"),this._headers.append("Authorization",JSON.parse(localStorage.getItem("currentUser")).token),this._options=new i.c({headers:this._headers})}return e.prototype.getFloorsBySchool=function(e){return u(this,void 0,void 0,function(){var t;return d(this,function(n){switch(n.label){case 0:return[4,this._http.get(this._apiURL+"/floor/school/"+e,this._options).toPromise()];case 1:return t=n.sent(),t.json().result?[2,t.json().data]:(console.log(t.json().info),[2,null])}})})},e.prototype.getFloor=function(e){return u(this,void 0,void 0,function(){var t;return d(this,function(n){switch(n.label){case 0:return[4,this._http.get(this._apiURL+"/floor/single/"+e,this._options).toPromise()];case 1:return t=n.sent(),t.json().result?[2,t.json().data]:(console.log(t.json().info),[2,null])}})})},e.prototype.createFloor=function(e){return u(this,void 0,void 0,function(){var t,r;return d(this,function(i){switch(i.label){case 0:return t=JSON.stringify({Name:e.Name,Image:e.Image,SchoolFK:e.SchoolFK}),[4,this._http.post(this._apiURL+"/floor",t,this._options).toPromise()];case 1:return r=i.sent(),[2,n.i(a.toast)("Escola criada com sucesso",4e3,"lime")]}})})},e}();f=c([n.i(r.c)(),l("design:paramtypes",["function"==typeof(h=void 0!==i.d&&i.d)&&h||Object])],f);var h},XQzH:function(e,t,n){"use strict";var r=n("3j3K"),i=n("AMki");n.d(t,"a",function(){return s});var o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(e,t){this._adminGuard=e,this._secretaryGuard=t}return e.prototype.ngOnInit=function(){},e}();s=o([n.i(r._11)({selector:"main-form",template:n("/t0v")}),a("design:paramtypes",["function"==typeof(c=void 0!==i.c&&i.c)&&c||Object,"function"==typeof(l=void 0!==i.g&&i.g)&&l||Object])],s);var c,l},YWx4:function(e,t,n){"use strict";var r=n("3j3K");n.d(t,"a",function(){return o});var i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=function(){function e(){this.dm="Diogo Mendes",this.ra="Ricardo António",this.db="David Bernardo",this.today=Date.now()}return e}();o=i([n.i(r._11)({selector:"app-root",template:n("5xMp")})],o)},aCky:function(e,t,n){"use strict";var r=n("3j3K"),i=n("m7AI"),o=n("hB+E");n.d(t,"a",function(){return u});var a=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},u=function(){function e(e,t){this._noticeService=e,this._fileService=t}return e.prototype.ngOnInit=function(){return c(this,void 0,void 0,function(){var e,t,n,r,i,o;return l(this,function(a){switch(a.label){case 0:return e=this,[4,this._noticeService.getNews()];case 1:for(e.notices=a.sent(),t=function(e){n._fileService.publicDownload(e.Image).subscribe(function(t){e.Image=t,console.log(e.Image)})},n=this,r=0,i=this.notices;r<i.length;r++)o=i[r],t(o);return $(document).ready(function(){$("#noticeCarousel").carousel()}),[2]}})})},e}();u=a([n.i(r._11)({selector:"homepage",template:n("CqgX")}),s("design:paramtypes",["function"==typeof(d=void 0!==o.a&&o.a)&&d||Object,"function"==typeof(f=void 0!==i.a&&i.a)&&f||Object])],u);var d,f},aW27:function(e,t){e.exports='<div *ngIf="!_studentGuard.canActivate()">\r\n    <a *ngIf="notifications==0" [routerLink]="[\'/notifications\']" class="grey-text text-darken-2"><i class="material-icons left" style="margin-right:2px">notifications</i><span class="">Sem novas notificações</span></a>\r\n    <a *ngIf="notifications!=0" [routerLink]="[\'/notifications\']" class="grey-text text-darken-2">Notificações<i class="material-icons left" style="margin-right:2px">notifications_active</i><span data-badge-caption="" class="new badge btn-floating pulse green darken-2">{{notifications}}</span></a>\r\n</div>'},ao0E:function(e,t){e.exports='<nav>\r\n    <div class="nav-wrapper">\r\n        <ul class="row green">\r\n            <li id="received" class="tablink col s6 green center-align green darken-2" (click)="chooseOption(\'received\')" style="padding:0px">\r\n                <a class="col s12" [routerLink]="[\'received\']" class="flow-text">\r\n                            Notificações Recebidas\r\n                    </a>\r\n            </li>\r\n            <li id="sent" class="tablink col s6 green center-align" (click)="chooseOption(\'sent\')" style="padding:0px">\r\n                <a class="col s12" [routerLink]="[\'sent\']" class="flow-text">\r\n                            Notificações Enviadas\r\n                    </a>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n</nav>\r\n<router-outlet></router-outlet>\r\n\r\n'},"b/xj":function(e,t){e.exports='<div class="container white" style="margin-bottom:25px">\r\n    <div class="center" style="padding-top: 20px">\r\n        <h4 class="green-text text-darken-2">Listagem de Auxiliares de Educação.</h4>\r\n    </div>\r\n    <div class="row">\r\n        <form class="col s12 left-align">\r\n            <div class="col s10 offset-s1">\r\n\r\n                    <div *ngFor="let assistant of assistants" class="card horizontal row">\r\n                        <div class="card-image valign-wrapper col s3">\r\n                            <img [attr.src]="assistant?.Photo" class="responsive-img" style="height: 100px">\r\n                        </div>\r\n                        <div class="card-stacked col s9">\r\n                            <div class="card-content left-align">\r\n                                <h5>{{assistant?.Name}}</h5>\r\n                            </div>\r\n                            <div class="card-action">\r\n                                <a class="left green-text text-darken-2" [routerLink]="[\'/user/details/\', assistant?.ID]">Perfil</a>\r\n                                <a class="right green-text text-darken-2" [routerLink]="[\'/notifications/sendToUser\',assistant?.ID]">Enviar Mensagem</a>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>'},bAjZ:function(e,t,n){"use strict";var r=n("AMki"),i=n("3j3K"),o=n("5oXY"),a=n("3jY+"),s=n("m7AI"),c=n("+0Yu"),l=n("4AlW");n.d(t,"a",function(){return p});var u=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},h=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},p=function(){function e(e,t,n,r,i,o,a,s){this._classService=e,this._userService=t,this._fileService=n,this._parentingService=r,this._router=i,this._route=o,this._adminGuard=a,this._secretaryGuard=s,this.parents=[]}return e.prototype.ngOnInit=function(){return f(this,void 0,void 0,function(){var e,t,n,r,i=this;return h(this,function(o){switch(o.label){case 0:return this._route.params.subscribe(function(e){return i.studentID=+e.id}),[4,this._parentingService.getGuardiansByUser(this.studentID)];case 1:if(e=o.sent(),this.hasGuardian=null!=e,!this.hasGuardian)return[3,6];t=function(){var t;return h(this,function(o){switch(o.label){case 0:return[4,n._userService.getProfile(e[r])];case 1:return t=o.sent(),n._fileService.imageDownload(t.Photo).subscribe(function(e){i.parents.push({Name:t.Name,ID:t.ID,Email:t.Email,Photo:e})},function(e){i.parents.push({Name:t.Name,ID:t.ID,Email:t.Email})}),[2]}})},n=this,r=0,o.label=2;case 2:return r<e.length?[5,t()]:[3,5];case 3:o.sent(),o.label=4;case 4:return r++,[3,2];case 5:this.parents.sort(function(e,t){return e.ID>t.ID?1:t.ID>e.ID?-1:0}),o.label=6;case 6:return[2]}})})},e}();p=u([n.i(i._11)({selector:"parent-list",template:n("6bqz")}),d("design:paramtypes",["function"==typeof(v=void 0!==c.a&&c.a)&&v||Object,"function"==typeof(b=void 0!==a.a&&a.a)&&b||Object,"function"==typeof(y=void 0!==s.a&&s.a)&&y||Object,"function"==typeof(g=void 0!==l.a&&l.a)&&g||Object,"function"==typeof(m=void 0!==o.b&&o.b)&&m||Object,"function"==typeof(w=void 0!==o.c&&o.c)&&w||Object,"function"==typeof(_=void 0!==r.c&&r.c)&&_||Object,"function"==typeof(x=void 0!==r.g&&r.g)&&x||Object])],p);var v,b,y,g,m,w,_,x},bE8N:function(e,t){e.exports='<nav class="green darken-2">\r\n    <div class="nav-wrapper container">\r\n        <label class="brand-logo" style="padding:0px"><span style="margin-left:25px">{{school?.Name}}</span></label>\r\n        <ul class="right">\r\n            <li><a class="btn lime" [routerLink]="[\'/school/addclass/\', school?.ID]">Adicionar turma</a></li>\r\n        </ul>\r\n    </div>\r\n</nav>\r\n<br>\r\n\r\n<div class="container white" style="margin-bottom:25px">\r\n    <div class="center" style="padding-top: 20px;">\r\n        <h4 class="green-text text-darken-2">Adicionar uma Turma</h4>\r\n    </div>\r\n    <div class="row">\r\n        <form class="col s12 left-align">\r\n            <div class="col s10 offset-s1">\r\n                <div class="input-field row">\r\n                    <input [(ngModel)]="class.ClassDesc" type="text" id="ClassDesc" name="ClassDesc" required/>\r\n                    <label for="ClassDesc">Turma:</label>\r\n                </div>\r\n                <div class="row">\r\n                    <div class="switch">\r\n                        <label>\r\n                     Jardim de Infância\r\n                      <input type="checkbox" [(ngModel)]="checkedPrimary" [ngModelOptions]="{standalone: true}">\r\n                      <span class="lever"></span>\r\n                      Escola Primária\r\n                    </label></div>\r\n                    <div *ngIf="checkedPrimary" class="input-field">\r\n                        <input [(ngModel)]="class.SchoolYear" type="text" id="SchoolYear" name="SchoolYear" required/>\r\n                        <label for="SchoolYear">Ano Escolar ( ex. 3º )":</label>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n    <div class="center" style="padding:20px">\r\n        <button type="submit" class="btn waves-effect waves-light green darken-2" (click)="createClass()"><i class="material-icons right">send</i>Submeter</button>\r\n    </div>\r\n</div>'},bUb0:function(e,t,n){"use strict";var r=n("3j3K"),i=n("Fzro"),o=n("rCTf"),a=(n.n(o),n("0lrd")),s=(n.n(a),n("+pb+")),c=(n.n(s),n("EnA3")),l=(n.n(c),n("6Yye")),u=(n.n(l),n("eErF")),d=(n.n(u),n("x35b"));n.d(t,"a",function(){return b});var f=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},h=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},v=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},b=function(){function e(e){this._http=e,this._apiURL=d.API.url,this._headers=new i.b,this._headers.append("Content-Type","application/json; charset=utf-8"),this._headers.append("Authorization",JSON.parse(localStorage.getItem("currentUser")).token),this._options=new i.c({headers:this._headers})}return e.prototype.count=function(){return p(this,void 0,void 0,function(){var e;return v(this,function(t){switch(t.label){case 0:return[4,this._http.get(this._apiURL+"/notification/unreadcount",this._options).toPromise()];case 1:return e=t.sent(),[2,e.json().result?e.json().data:0]}})})},e.prototype.getReceived=function(e){return p(this,void 0,void 0,function(){var t;return v(this,function(n){switch(n.label){case 0:return[4,this._http.get(this._apiURL+"/notification/received/"+e,this._options).toPromise()];case 1:return t=n.sent(),t.json().result?[2,t.json().data]:(console.log(t.json().info),[2,null])}})})},e.prototype.getSent=function(e){return p(this,void 0,void 0,function(){var t;return v(this,function(n){switch(n.label){case 0:return[4,this._http.get(this._apiURL+"/notification/sent/"+e,this._options).toPromise()];case 1:return t=n.sent(),t.json().result?[2,t.json().data]:(console.log(t.json().info),[2,null])}})})},e.prototype.getMessage=function(e){return p(this,void 0,void 0,function(){var t;return v(this,function(n){switch(n.label){case 0:return[4,this._http.get(this._apiURL+"/notification/message/"+e,this._options).toPromise()];case 1:return t=n.sent(),t.json().result?[2,t.json().data]:(console.log(t.json().info),[2,null])}})})},e.prototype.getValidations=function(e){return p(this,void 0,void 0,function(){var t;return v(this,function(n){switch(n.label){case 0:return[4,this._http.get(this._apiURL+"/validation/notification/"+e,this._options).toPromise()];case 1:return t=n.sent(),t.json().result?[2,t.json().data]:(console.log(t.json().info),[2,null])}})})},e.prototype.sendToClass=function(e,t,r,i,o){var s=JSON.stringify({Subject:e,Description:t,Urgency:r,Approval:i,SenderFK:JSON.parse(localStorage.getItem("currentUser")).userID,ClassFK:o});return this._http.post(this._apiURL+"/notification/class",s,this._options).map(function(e){e.json().result?n.i(a.toast)("Notificação enviada com sucesso",4e3,"lime"):n.i(a.toast)(e.json().info,4e3,"red")}).catch(this._handleError)},e.prototype.sendToUser=function(e){return p(this,void 0,void 0,function(){var t,r;return v(this,function(i){switch(i.label){case 0:return t=JSON.stringify({Subject:e.Subject,Description:e.Description,Urgency:e.Urgency,Approval:e.Approval,SenderFK:e.SenderFK,ReceiverFK:e.ReceiverFK,StudentFK:e.StudentFK}),[4,this._http.post(this._apiURL+"/notification/user",t,this._options).toPromise()];case 1:return r=i.sent(),r.json().result?(n.i(a.toast)("Notificação enviada com sucesso",4e3,"lime"),[2,r.json().data]):(n.i(a.toast)(r.json().info,4e3,"red"),[2,null])}})})},e.prototype.read=function(e){return this._http.put(this._apiURL+"/notification/read/"+e,null,this._options).map(function(e){e.json().result?console.log("Notificação lida com sucesso"):console.log(e.json().info)}).catch(this._handleError)},e.prototype.accept=function(e){return this._http.put(this._apiURL+"/notification/accept/"+e,null,this._options).map(function(e){e.json().result?n.i(a.toast)("Aceitada com sucesso",4e3,"lime"):n.i(a.toast)(e.json().info,4e3,"red")}).catch(this._handleError)},e.prototype._handleError=function(e){return console.error(e),o.Observable.throw(e.json().error||"Server error")},e}();b=f([n.i(r.c)(),h("design:paramtypes",["function"==typeof(y=void 0!==i.d&&i.d)&&y||Object])],b);var y},blBH:function(e,t,n){"use strict";var r=n("3j3K"),i=n("5oXY"),o=n("+0Yu"),a=n("AMki");n.d(t,"a",function(){return d});var s=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},u=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},d=function(){function e(e,t,n,r,i,o,a,s){this._router=e,this._teacherGuard=t,this._studentGuard=n,this._guardianGuard=r,this._adminGuard=i,this._assistantGuard=o,this._secretaryGuard=a,this._classService=s}return e.prototype.ngOnInit=function(){return l(this,void 0,void 0,function(){var e,t;return u(this,function(n){switch(n.label){case 0:return this._studentGuard.canActivate()?(e=JSON.parse(localStorage.getItem("currentUser")).userID,[4,this._classService.getClassesByUser(e)]):[3,2];case 1:return t=n.sent(),this._router.navigate(["primary-class/",t[t.length-1]]),[3,3];case 2:this._teacherGuard.canActivate()?this._router.navigate(["user/details/",JSON.parse(localStorage.getItem("currentUser")).userID]):this._guardianGuard.canActivate()?this._router.navigate(["children/",JSON.parse(localStorage.getItem("currentUser")).userID]):this._secretaryGuard.canActivate()?this._router.navigate(["schools"]):this._assistantGuard.canActivate()?this._router.navigate(["schools"]):this._adminGuard.canActivate()?this._router.navigate(["schools"]):this._router.navigate(["homepage"]),n.label=3;case 3:return[2]}})})},e}();d=s([n.i(r._11)({template:""}),c("design:paramtypes",["function"==typeof(f=void 0!==i.b&&i.b)&&f||Object,"function"==typeof(h=void 0!==a.d&&a.d)&&h||Object,"function"==typeof(p=void 0!==a.e&&a.e)&&p||Object,"function"==typeof(v=void 0!==a.f&&a.f)&&v||Object,"function"==typeof(b=void 0!==a.c&&a.c)&&b||Object,"function"==typeof(y=void 0!==a.b&&a.b)&&y||Object,"function"==typeof(g=void 0!==a.g&&a.g)&&g||Object,"function"==typeof(m=void 0!==o.a&&o.a)&&m||Object])],d);var f,h,p,v,b,y,g,m},bxnh:function(e,t,n){"use strict";var r=n("3j3K"),i=n("5oXY"),o=n("bUb0"),a=n("m7AI"),s=n("3jY+"),c=n("4AlW");n.d(t,"a",function(){return h});var l=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},f=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},h=function(){function e(e,t,n,r,i,o,a){this._userService=e,this._router=t,this._route=n,this._fileService=r,this._notificationService=i,this._parentingService=o,this._changeDetetor=a,this.notification={Subject:null,Description:null,Urgency:!1,Approval:!1,SenderFK:null,ReceiverFK:null,StudentFK:null}}return e.prototype.ngOnInit=function(){return d(this,void 0,void 0,function(){var e,t,n,r,i,o,a=this;return f(this,function(s){switch(s.label){case 0:return this._route.params.subscribe(function(t){return e=+t.id}),n=JSON.parse(localStorage.getItem("currentUser")).userID,r=this,[4,this._userService.getProfile(e)];case 1:return r.user=s.sent(),null==this.user.Photo?[3,3]:(i=this.user,[4,this._fileService.imageDownloadAsync(this.user.Photo)]);case 2:i.Photo=s.sent(),s.label=3;case 3:return[4,this._parentingService.getGuardiansByUser(e)];case 4:return o=s.sent(),null!=o&&(t=e,e=o[0],console.log(e)),this.notification.SenderFK=n,this.notification.ReceiverFK=e,this.notification.StudentFK=t,tinymce.init({selector:"#textareaDescription",statusbar:!1,menubar:!1,toolbar:"fontselect fontsizeselect forecolor | bold italic underline | alignleft aligncenter alignright alignjustify | bullist | hr | subscript superscript | link | print preview",plugins:["link","colorpicker","textcolor","print","lists","preview","hr"],skin_url:"assets/skins/lightgray",setup:function(e){a.editor=e,e.on("keyup",function(){a.notification.Description=e.getContent()})}}),[2]}})})},e.prototype.sendMessage=function(){return d(this,void 0,void 0,function(){var e;return f(this,function(t){switch(t.label){case 0:return[4,this._notificationService.sendToUser(this.notification)];case 1:return e=t.sent(),this.notification={Subject:null,Description:null,Urgency:!1,Approval:!1,SenderFK:null,ReceiverFK:null},tinymce.activeEditor.setContent(""),this._changeDetetor.detectChanges(),[2]}})})},e.prototype.ngOnDestroy=function(){tinymce.remove(this.editor)},e}();h=l([n.i(r._11)({selector:"notification-form",template:n("44vP")}),u("design:paramtypes",["function"==typeof(p=void 0!==s.a&&s.a)&&p||Object,"function"==typeof(v=void 0!==i.b&&i.b)&&v||Object,"function"==typeof(b=void 0!==i.c&&i.c)&&b||Object,"function"==typeof(y=void 0!==a.a&&a.a)&&y||Object,"function"==typeof(g=void 0!==o.a&&o.a)&&g||Object,"function"==typeof(m=void 0!==c.a&&c.a)&&m||Object,"function"==typeof(w=void 0!==r.Z&&r.Z)&&w||Object])],h);var p,v,b,y,g,m,w},"e/l/":function(e,t){e.exports='<div class="container white" style="margin-bottom:25px">\r\n    <div class="center" style="padding-top: 20px">\r\n        <h4 class="green-text text-darken-2">Listagem de Professores.</h4>\r\n    </div>\r\n    <div class="row">\r\n        <form class="col s12 left-align">\r\n            <div class="col s10 offset-s1">\r\n\r\n                    <div *ngFor="let teacher of teachers" class="card horizontal row">\r\n                        <div class="card-image valign-wrapper col s3">\r\n                            <img [attr.src]="teacher?.Photo" class="responsive-img" style="height: 100px">\r\n                        </div>\r\n                        <div class="card-stacked col s9">\r\n                            <div class="card-content left-align">\r\n                                <h5>{{teacher?.Name}}</h5>\r\n                            </div>\r\n                            <div class="card-action">\r\n                                <a class="left green-text text-darken-2" [routerLink]="[\'/user/details/\', teacher?.ID]">Perfil</a>\r\n                                <a class="right green-text text-darken-2" [routerLink]="[\'/notifications/sendToUser\',teacher?.ID]">Enviar Mensagem</a>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>'},eWVg:function(e,t,n){"use strict";var r=n("3j3K"),i=n("Fzro"),o=n("rCTf"),a=(n.n(o),n("0lrd")),s=(n.n(a),n("+pb+")),c=(n.n(s),n("EnA3")),l=(n.n(c),n("6Yye")),u=(n.n(l),n("eErF")),d=(n.n(u),n("x35b"));n.d(t,"a",function(){return b});var f=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},h=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},v=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},b=function(){function e(e){this._http=e,this._apiURL=d.API.url,this._headers=new i.b,this._headers.append("Content-Type","application/json; charset=utf-8"),this._headers.append("Authorization",JSON.parse(localStorage.getItem("currentUser")).token),this._options=new i.c({headers:this._headers})}return e.prototype.getRoomByFloor=function(e){return p(this,void 0,void 0,function(){var t;return v(this,function(n){switch(n.label){case 0:return[4,this._http.get(this._apiURL+"/room/floor/"+e,this._options).toPromise()];case 1:return t=n.sent(),t.json().result?[2,t.json().data]:(console.log(t.json().info),[2,null])}})})},e.prototype.getRoom=function(e){return p(this,void 0,void 0,function(){var t;return v(this,function(n){switch(n.label){case 0:return[4,this._http.get(this._apiURL+"/room/single/"+e,this._options).toPromise()];case 1:return t=n.sent(),t.json().result?[2,t.json().data]:(console.log(t.json().info),[2,null])}})})},e.prototype.createRoom=function(e){return p(this,void 0,void 0,function(){var t,r;return v(this,function(i){switch(i.label){case 0:return t=JSON.stringify({Name:e.Name,XCoord:e.XCoord.toFixed(0),YCoord:e.YCoord.toFixed(0),FloorFK:e.FloorFK,HasSensor:!1}),[4,this._http.post(this._apiURL+"/room",t,this._options).toPromise()];case 1:return r=i.sent(),console.log(r.json()),[2,n.i(a.toast)("Sala criada com sucesso",4e3,"lime")]}})})},e.prototype.editRoom=function(e){return p(this,void 0,void 0,function(){var t,r;return v(this,function(i){switch(i.label){case 0:return t=JSON.stringify({ID:e.ID,Name:e.Name,XCoord:e.XCoord.toFixed(0),YCoord:e.YCoord.toFixed(0),FloorFK:e.FloorFK,HasSensor:e.HasSensor}),[4,this._http.put(this._apiURL+"/room",t,this._options).toPromise()];case 1:return r=i.sent(),[2,n.i(a.toast)("Sala editada com sucesso",4e3,"lime")]}})})},e.prototype._handleError=function(e){return console.error(e),o.Observable.throw(e.json().error||"Server error")},e}();b=f([n.i(r.c)(),h("design:paramtypes",["function"==typeof(y=void 0!==i.d&&i.d)&&y||Object])],b);var y},fdKi:function(e,t){e.exports='<div class="container white" style="margin-top:25px">\r\n  <div class="center" style="padding-top: 20px;">\r\n    <h4 class="green-text text-darken-2">Adicionar um Sensor</h4>\r\n  </div>\r\n  <div class="row">\r\n    <form class="col s12 left-align">\r\n      <div class="col s10 offset-s1">\r\n        <div class="input-field row">\r\n          <input [(ngModel)]="sensor.Name" type="text" id="Name" name="Name" required/>\r\n          <label for="Name">Nome:</label>\r\n        </div>\r\n        <div class="row">\r\n          <select name="RoomFK" [(ngModel)]="sensor.RoomFK" class="browser-default" style="cursor:pointer">\r\n                      <option *ngFor="let room of rooms" value="{{room?.ID}}">{{room?.Name}}</option>\r\n              </select>\r\n          <label>Selecionar uma Sala:</label>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </div>\r\n  <div class="center" style="padding:20px">\r\n    <button type="submit" class="btn waves-effect waves-light green darken-2" (click)="createSensor()"><i class="material-icons right">send</i>Submeter</button>\r\n  </div>\r\n</div>'},gCHY:function(e,t,n){"use strict";var r=n("3j3K"),i=n("Fzro"),o=n("+pb+"),a=(n.n(o),n("EnA3")),s=(n.n(a),n("6Yye")),c=(n.n(s),n("eErF")),l=(n.n(c),n("x35b"));n.d(t,"a",function(){return p});var u=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},h=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},p=function(){function e(e){this._http=e,this._apiURL=l.API.url,this._headers=new i.b,this._headers.append("Content-Type","application/json; charset=utf-8"),this._headers.append("Authorization",JSON.parse(localStorage.getItem("currentUser")).token),this._options=new i.c({headers:this._headers})}return e.prototype.getDocumentsByClass=function(e){return f(this,void 0,void 0,function(){var t;return h(this,function(n){switch(n.label){case 0:return[4,this._http.get(this._apiURL+"/document/class/"+e,this._options).toPromise()];case 1:return t=n.sent(),t.json().result?[2,t.json().data]:(console.log(t.json().info),[2,null])}})})},e}();p=u([n.i(r.c)(),d("design:paramtypes",["function"==typeof(v=void 0!==i.d&&i.d)&&v||Object])],p);var v},gxMC:function(e,t,n){"use strict";var r=n("3j3K"),i=n("5oXY"),o=n("3jY+"),a=n("m7AI"),s=n("+0Yu"),c=n("4AlW");n.d(t,"a",function(){return h});var l=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},f=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},h=function(){function e(e,t,n,r,i,o){this._classService=e,this._userService=t,this._fileService=n,this._parentingService=r,this._router=i,this._route=o,this.students=[]}return e.prototype.ngOnInit=function(){return d(this,void 0,void 0,function(){var e,t,n,r,i,o=this;return f(this,function(a){switch(a.label){case 0:return this._route.params.subscribe(function(t){return e=+t.id}),[4,this._parentingService.getChildrenByUser(e)];case 1:if(t=a.sent(),this.hasChild=null!=t,!this.hasChild)return[3,6];n=function(){var e,n;return f(this,function(a){switch(a.label){case 0:return[4,r._userService.getProfile(t[i])];case 1:return e=a.sent(),[4,r._classService.getClassesByUser(t[i])];case 2:return n=a.sent(),r._fileService.imageDownload(e.Photo).subscribe(function(t){o.students.push({Name:e.Name,ClassID:n[n.length-1],UserID:e.ID,Photo:t})}),[2]}})},r=this,i=0,a.label=2;case 2:return i<t.length?[5,n()]:[3,5];case 3:a.sent(),a.label=4;case 4:return i++,[3,2];case 5:this.students.sort(function(e,t){return e.Name>t.Name?1:t.Name>e.Name?-1:0}),a.label=6;case 6:return[2]}})})},e}();h=l([n.i(r._11)({selector:"children-list",template:n("Ns3F")}),u("design:paramtypes",["function"==typeof(p=void 0!==s.a&&s.a)&&p||Object,"function"==typeof(v=void 0!==o.a&&o.a)&&v||Object,"function"==typeof(b=void 0!==a.a&&a.a)&&b||Object,"function"==typeof(y=void 0!==c.a&&c.a)&&y||Object,"function"==typeof(g=void 0!==i.b&&i.b)&&g||Object,"function"==typeof(m=void 0!==i.c&&i.c)&&m||Object])],h);var p,v,b,y,g,m},"hB+E":function(e,t,n){"use strict";var r=n("3j3K"),i=n("Fzro"),o=n("+pb+"),a=(n.n(o),n("EnA3")),s=(n.n(a),n("6Yye")),c=(n.n(s),n("eErF")),l=(n.n(c),n("x35b"));n.d(t,"a",function(){return p});var u=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},h=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},p=function(){function e(e){this._http=e,this._apiURL=l.API.url,this._headers=new i.b,this._headers.append("Content-Type","application/json; charset=utf-8"),this._options=new i.c({headers:this._headers})}return e.prototype.getNews=function(){return f(this,void 0,void 0,function(){var e;return h(this,function(t){switch(t.label){case 0:return[4,this._http.get(this._apiURL+"/notice/news",this._options).toPromise()];case 1:return e=t.sent(),e.json().result?[2,e.json().data]:(console.log(e.json().info),[2,null])}})})},e.prototype.getNewsBySchool=function(e,t){return f(this,void 0,void 0,function(){var n;return h(this,function(r){switch(r.label){case 0:return[4,this._http.get(this._apiURL+"/notice/school/"+e+"/"+t,this._options).toPromise()];case 1:return n=r.sent(),n.json().result?[2,n.json().data]:(console.log(n.json().info),[2,null])}})})},e}();p=u([n.i(r.c)(),d("design:paramtypes",["function"==typeof(v=void 0!==i.d&&i.d)&&v||Object])],p);var v},hWNJ:function(e,t,n){"use strict";var r=n("WkgY"),i=n("3j3K"),o=n("5oXY"),a=n("VNzG"),s=n("eWVg"),c=n("XKfx"),l=n("zfYR"),u=n("m7AI");n.d(t,"a",function(){return v});var d=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},f=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},p=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},v=function(){function e(e,t,n,i,o,a,s,c){this._floorService=e,this._schoolService=t,this._roomService=n,this._sensorService=i,this._fileService=o,this._route=a,this._changeDetetor=s,this._renderer=c,this.sensor=new r.a,this.rooms=[]}return e.prototype.ngOnInit=function(){return h(this,void 0,void 0,function(){var e,t;return p(this,function(n){switch(n.label){case 0:return this._route.params.subscribe(function(t){return e=t.id}),t=this,[4,this._roomService.getRoomByFloor(e)];case 1:return t.rooms=n.sent(),[2]}})})},e.prototype.createSensor=function(){return h(this,void 0,void 0,function(){var e;return p(this,function(t){switch(t.label){case 0:return[4,this._sensorService.createSensor(this.sensor)];case 1:return e=t.sent(),this.sensor=new r.a,this._changeDetetor.detectChanges(),[2]}})})},e}();v=d([n.i(i._11)({selector:"sensor-form",template:n("fdKi")}),f("design:paramtypes",["function"==typeof(b=void 0!==c.a&&c.a)&&b||Object,"function"==typeof(y=void 0!==l.a&&l.a)&&y||Object,"function"==typeof(g=void 0!==s.a&&s.a)&&g||Object,"function"==typeof(m=void 0!==a.a&&a.a)&&m||Object,"function"==typeof(w=void 0!==u.a&&u.a)&&w||Object,"function"==typeof(_=void 0!==o.c&&o.c)&&_||Object,"function"==typeof(x=void 0!==i.Z&&i.Z)&&x||Object,"function"==typeof(j=void 0!==i.N&&i.N)&&j||Object])],v);var b,y,g,m,w,_,x,j},hwHI:function(e,t,n){"use strict";var r=n("3j3K"),i=n("5oXY"),o=n("XKfx"),a=n("zfYR"),s=n("m7AI"),c=n("uAgU");n.d(t,"a",function(){return h});var l=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},f=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},h=function(){function e(e,t,n,r,i){this._floorService=e,this._schoolService=t,this._fileService=n,this._route=r,this._changeDetetor=i,this.floor=new c.a}return e.prototype.ngOnInit=function(){return d(this,void 0,void 0,function(){var e=this;return f(this,function(t){return this._route.parent.params.subscribe(function(t){return e.floor.SchoolFK=t.id}),[2]})})},e.prototype.getImage=function(e){this.image=e.target.files[0]},e.prototype.createFloor=function(){return d(this,void 0,void 0,function(){var e,t;return f(this,function(n){switch(n.label){case 0:return e=this.floor,[4,this._fileService.imageUpload(this.image)];case 1:return e.Image=n.sent(),[4,this._floorService.createFloor(this.floor)];case 2:return t=n.sent(),this.floor=new c.a,this._changeDetetor.detectChanges(),[2]}})})},e}();h=l([n.i(r._11)({selector:"floor-form",template:n("VGu0")}),u("design:paramtypes",["function"==typeof(p=void 0!==o.a&&o.a)&&p||Object,"function"==typeof(v=void 0!==a.a&&a.a)&&v||Object,"function"==typeof(b=void 0!==s.a&&s.a)&&b||Object,"function"==typeof(y=void 0!==i.c&&i.c)&&y||Object,"function"==typeof(g=void 0!==r.Z&&r.Z)&&g||Object])],h);var p,v,b,y,g},iAn8:function(e,t,n){"use strict";var r=n("3j3K"),i=n("5oXY"),o=n("AMki"),a=n("zfYR"),s=n("+0Yu");n.d(t,"a",function(){return f});var c=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},d=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},f=function(){function e(e,t,n,r,i,o,a,s,c){this._classService=e,this._schoolService=t,this._route=n,this._assistantGuard=r,this._secretaryGuard=i,this._adminGuard=o,this._teacherGuard=a,this._studentGuard=s,this._guardianGuard=c}return e.prototype.ngOnInit=function(){return u(this,void 0,void 0,function(){var e,t,n,r,i,o,a;return d(this,function(s){switch(s.label){case 0:return this._route.params.subscribe(function(t){return e=t.id}),isNaN(e)?[3,3]:(n=this,[4,this._classService.getClassProfile(e)]);case 1:return n.class=s.sent(),r=this,[4,this._schoolService.getSchool(this.class.SchoolFK)];case 2:return r.school=s.sent(),[3,7];case 3:return t=JSON.parse(localStorage.getItem("currentUser")).userID,[4,this._classService.getClassesByUser(t)];case 4:return i=s.sent(),e=i[i.length-1],o=this,[4,this._classService.getClassProfile(e)];case 5:return o.class=s.sent(),a=this,[4,this._schoolService.getSchool(this.class.SchoolFK)];case 6:a.school=s.sent(),s.label=7;case 7:return $(document).ready(function(){for(var e=window.location.href,t=document.getElementsByClassName("tablink"),n=0;n<t.length;n++)t[n].className=t[n].className.replace(" green darken-2",""),e.includes(t[n].id)&&(t[n].className+=" green darken-2");$(window).on("hashchange",function(){for(var e=window.location.href,n=0;n<t.length;n++)t[n].className=t[n].className.replace(" green darken-2",""),e.includes(t[n].id)&&(t[n].className+=" green darken-2")})}),[2]}})})},e.prototype.chooseOption=function(e){for(var t=document.getElementsByClassName("tablink"),n=0;n<t.length;n++)t[n].className=t[n].className.replace(" green darken-2","");document.getElementById(e).className+=" green darken-2"},e}();f=c([n.i(r._11)({template:n("BG1q")}),l("design:paramtypes",["function"==typeof(h=void 0!==s.a&&s.a)&&h||Object,"function"==typeof(p=void 0!==a.a&&a.a)&&p||Object,"function"==typeof(v=void 0!==i.c&&i.c)&&v||Object,"function"==typeof(b=void 0!==o.b&&o.b)&&b||Object,"function"==typeof(y=void 0!==o.g&&o.g)&&y||Object,"function"==typeof(g=void 0!==o.c&&o.c)&&g||Object,"function"==typeof(m=void 0!==o.d&&o.d)&&m||Object,"function"==typeof(w=void 0!==o.e&&o.e)&&w||Object,"function"==typeof(_=void 0!==o.f&&o.f)&&_||Object])],f);var h,p,v,b,y,g,m,w,_},iD3i:function(e,t){e.exports='<div class="content hide-on-med-and-down" style="max-width:1400px;">\r\n    <div id="board" class="col s10 container center-align"></div>\r\n</div>\r\n\r\n<div class="content hide-on-large-only white">\r\n    <h2 class="green">{{floor?.Name}}</h2>\r\n    <div *ngFor="let room of floor?.Rooms; let j=index" class="row">\r\n        <a (click)="navigateTo(i)" class="col btn lime">{{ room?.Name }}</a>\r\n    </div>\r\n</div>\r\n\r\n<div class="fixed-action-btn horizontal">\r\n    <a class="btn-floating btn-large lime">\r\n          <i class="large material-icons">menu</i>\r\n        </a>\r\n    <ul>\r\n        <li><a [routerLink]="[\'/building/school/\', floor?.SchoolFK , \'floor\', floor?.ID , \'addsensor\']" class=" hide-on-small-only btn green darken-2 right">Adicionar Sensor</a></li>\r\n        <li><a [routerLink]="[\'/building/school/\', floor?.SchoolFK , \'floor\', floor?.ID , \'addroom\']" class=" hide-on-small-only btn green darken-2 right">Adicionar Sala</a></li>\r\n    </ul>\r\n</div>\r\n<router-outlet></router-outlet>'},iEJt:function(e,t,n){"use strict";var r=n("3j3K"),i=n("5oXY"),o=n("3jY+"),a=n("m7AI"),s=n("+0Yu");n.d(t,"a",function(){return f});var c=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},d=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},f=function(){function e(e,t,n,r,i){this._classService=e,this._userService=t,this._fileService=n,this._router=r,this._route=i,this.teachersID=[],this.teachers=[]}return e.prototype.ngOnInit=function(){return u(this,void 0,void 0,function(){var e,t,n,r,i,o,n,a,s;return d(this,function(c){switch(c.label){case 0:return e=JSON.parse(localStorage.getItem("currentUser")).userID,[4,this._userService.getUsersCount(2)];case 1:t=c.sent(),n=0,c.label=2;case 2:return n<t?(r=this,o=(i=this.teachersID).concat,[4,this._userService.getUsersByPage(n,2)]):[3,5];case 3:r.teachersID=o.apply(i,[c.sent()]),c.label=4;case 4:return n++,[3,2];case 5:n=0,c.label=6;case 6:return n<this.teachersID.length?[4,this._userService.getProfile(this.teachersID[n])]:[3,10];case 7:return a=c.sent(),[4,this._fileService.imageDownloadAsync(a.Photo)];case 8:s=c.sent(),this.teachers.push({Email:a.Email,Function:a.Function,ID:a.ID,Name:a.Name,Photo:s}),c.label=9;case 9:return n++,[3,6];case 10:return[2]}})})},e}();f=c([n.i(r._11)({selector:"teacher-list",template:n("e/l/")}),l("design:paramtypes",["function"==typeof(h=void 0!==s.a&&s.a)&&h||Object,"function"==typeof(p=void 0!==o.a&&o.a)&&p||Object,"function"==typeof(v=void 0!==a.a&&a.a)&&v||Object,"function"==typeof(b=void 0!==i.b&&i.b)&&b||Object,"function"==typeof(y=void 0!==i.c&&i.c)&&y||Object])],f);var h,p,v,b,y},jidq:function(e,t,n){"use strict";var r=n("3j3K"),i=n("5oXY"),o=n("zfYR"),a=n("+0Yu");n.d(t,"a",function(){return d});var s=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},u=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},d=function(){function e(e,t,n,r){this._classService=e,this._schoolService=t,this._router=n,this._route=r,this.classes=[]}return e.prototype.ngOnInit=function(){return l(this,void 0,void 0,function(){var e,t,n,r,i,o,a;return u(this,function(s){switch(s.label){case 0:return $(document).ready(function(){$("ul.tabs").tabs({swipeable:!0})}),this._route.params.subscribe(function(t){return e=t.id}),[4,this._classService.getClassesByTeacher(e)];case 1:t=s.sent(),this.hasClass=t.length>0,n=0,r=t,s.label=2;case 2:return n<r.length?(i=r[n],[4,this._classService.getClassProfile(i)]):[3,6];case 3:return o=s.sent(),[4,this._schoolService.getSchool(o.SchoolFK)];case 4:a=s.sent(),this.classes.push({Class:o.Year+o.ClassDesc,ID:o.ID,School:a.Name}),s.label=5;case 5:return n++,[3,2];case 6:return this.classes=this.classes.sort(function(e,t){return e.School>t.School?1:e.School<t.School?-1:0}),[2]}})})},e}();d=s([n.i(r._11)({selector:"class-list-teacher",template:n("vXNz")}),c("design:paramtypes",["function"==typeof(f=void 0!==a.a&&a.a)&&f||Object,"function"==typeof(h=void 0!==o.a&&o.a)&&h||Object,"function"==typeof(p=void 0!==i.b&&i.b)&&p||Object,"function"==typeof(v=void 0!==i.c&&i.c)&&v||Object])],d);var f,h,p,v},k2CW:function(e,t,n){"use strict";var r=n("3j3K"),i=n("Fzro"),o=n("rCTf"),a=(n.n(o),n("0lrd")),s=(n.n(a),n("+pb+")),c=(n.n(s),n("EnA3")),l=(n.n(c),n("6Yye")),u=(n.n(l),n("eErF")),d=(n.n(u),n("x35b"));n.d(t,"a",function(){return b});var f=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},h=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},v=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},b=function(){function e(e){this._http=e,this._apiURL=d.API.url,this._headers=new i.b,this._headers.append("Content-Type","application/json; charset=utf-8"),this._headers.append("Authorization",JSON.parse(localStorage.getItem("currentUser")).token),this._options=new i.c({headers:this._headers})}return e.prototype.getLessonBySubject=function(e,t){return p(this,void 0,void 0,function(){var n;return v(this,function(r){switch(r.label){case 0:return[4,this._http.get(this._apiURL+"/lesson/list/"+e+"/"+t,this._options).toPromise()];case 1:return n=r.sent(),n.json().result?[2,n.json().data]:(console.log(n.json().info),[2,null])}})})},e.prototype.getPresenceByTeacher=function(e){return p(this,void 0,void 0,function(){var t;return v(this,function(n){switch(n.label){case 0:return[4,this._http.get(this._apiURL+"/lesson/teacher/"+e,this._options).toPromise()];case 1:return t=n.sent(),t.json().result?[2,t.json().data]:(console.log(t.json().info),[2,null])}})})},e.prototype.getPresenceByStudent=function(e){return p(this,void 0,void 0,function(){var t;return v(this,function(n){switch(n.label){case 0:return[4,this._http.get(this._apiURL+"/lesson/student/"+e,this._options).toPromise()];case 1:return t=n.sent(),t.json().result?[2,t.json().data]:(console.log(t.json().info),[2,null])}})})},e.prototype.getPresenceByGuardian=function(e){return p(this,void 0,void 0,function(){var t;return v(this,function(n){switch(n.label){case 0:return[4,this._http.get(this._apiURL+"/lesson/guardian/"+e,this._options).toPromise()];case 1:return t=n.sent(),t.json().result?[2,t.json().data]:(console.log(t.json().info),[2,null])}})})},e.prototype.createLesson=function(e){return p(this,void 0,void 0,function(){var t,r;return v(this,function(i){switch(i.label){case 0:return t=JSON.stringify({Summary:e.Summary,Homework:e.Homework,Observations:e.Observations,Day:Date.now(),ScheduleFK:e.ScheduleFK}),[4,this._http.post(this._apiURL+"/lesson/summary",t,this._options).toPromise()];case 1:return r=i.sent(),r.json().result?(n.i(a.toast)("Lição criada com sucesso",4e3,"lime"),[2,r.json().data]):(n.i(a.toast)(r.json().info,4e3,"red"),[2,null])}})})},e.prototype.createPostFaults=function(e){return p(this,void 0,void 0,function(){var t;return v(this,function(r){switch(r.label){case 0:return[4,this._http.post(this._apiURL+"/lesson/faults",JSON.stringify(e),this._options).toPromise()];case 1:return t=r.sent(),t.json().result?[2,t.json().data]:(n.i(a.toast)(t.json().info,4e3,"red"),[2])}})})},e.prototype._handleError=function(e){return console.error(e),o.Observable.throw(e.json().error||"Server error")},e}();b=f([n.i(r.c)(),h("design:paramtypes",["function"==typeof(y=void 0!==i.d&&i.d)&&y||Object])],b);var y},kZql:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={production:!0}},l5nz:function(e,t){e.exports='<div class="container white" style="margin-bottom:25px">\r\n    <div class="center">\r\n        <h2 class="green-text text-darken-2">Adicionar uma Turma</h2>\r\n    </div>\r\n    <div class="row">\r\n        <form class="col s12 left-align">\r\n            <div class="col s10 offset-s1">\r\n                <div class="row">\r\n                    <label>Adicionar estudantes à turma</label>\r\n                    <div class="chips chips-autocomplete"></div>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n    <div class="center" style="padding:20px">\r\n        <button type="submit" class="btn waves-effect waves-light green darken-2" (click)="addStudents()"><i class="material-icons right">send</i>Submeter</button>\r\n    </div>\r\n</div>'},m7AI:function(e,t,n){"use strict";var r=n("Qbdm"),i=n("3j3K"),o=n("Fzro"),a=n("rCTf"),s=(n.n(a),n("+pb+")),c=(n.n(s),n("EnA3")),l=(n.n(c),n("6Yye")),u=(n.n(l),n("eErF")),d=(n.n(u),n("x35b"));n.d(t,"a",function(){return b});var f=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},h=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},v=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},b=function(){function e(e,t){this._http=e,this._sanitizer=t,this._apiURL=d.API.url}return e.prototype.publicDownload=function(e){var t=this;return this._options=new o.c({headers:new o.b,responseType:o.e.Blob}),this._http.get(this._apiURL+"/download/public/"+e,this._options).map(function(e){return t._sanitizer.bypassSecurityTrustResourceUrl(window.URL.createObjectURL(new Blob([e.blob()],{type:e.headers.get("Content-Type")})))}).catch(this._handleError)},e.prototype.imageDownload=function(e){var t=this;return this._headers=new o.b,this._headers.append("Authorization",JSON.parse(localStorage.getItem("currentUser")).token),this._options=new o.c({headers:this._headers,responseType:o.e.Blob}),this._http.get(this._apiURL+"/download/image/"+e,this._options).map(function(e){return t._sanitizer.bypassSecurityTrustResourceUrl(window.URL.createObjectURL(new Blob([e.blob()],{type:e.headers.get("Content-Type")})))}).catch(this._handleError)},e.prototype.imageDownloadAsync=function(e){return p(this,void 0,void 0,function(){var t;return v(this,function(n){switch(n.label){case 0:return this._headers=new o.b,this._headers.append("Authorization",JSON.parse(localStorage.getItem("currentUser")).token),this._options=new o.c({headers:this._headers,responseType:o.e.Blob}),[4,this._http.get(this._apiURL+"/download/image/"+e,this._options).toPromise()];case 1:return t=n.sent(),[2,this._sanitizer.bypassSecurityTrustResourceUrl(window.URL.createObjectURL(new Blob([t.blob()],{type:t.headers.get("Content-Type")})))]}})})},e.prototype.fileDownload=function(e){var t=this;return this._headers=new o.b,this._headers.append("Authorization",JSON.parse(localStorage.getItem("currentUser")).token),this._options=new o.c({headers:this._headers,responseType:o.e.Blob}),this._http.get(this._apiURL+"/download/doc/"+e,this._options).map(function(e){return"application/pdf"==e.headers.get("Content-Type")?t._sanitizer.bypassSecurityTrustResourceUrl(window.URL.createObjectURL(new Blob([e.blob()],{type:"application/pdf"}))):t._sanitizer.bypassSecurityTrustResourceUrl(window.URL.createObjectURL(new Blob([e.blob()],{type:e.headers.get("Content-Type")})))}).catch(this._handleError)},e.prototype.fileUpload=function(e){return p(this,void 0,void 0,function(){var t,n;return v(this,function(r){switch(r.label){case 0:return t=new FormData,t.append("Key","file"),t.append("file",e),console.log(t),this._headers=new o.b,this._headers.append("Authorization",JSON.parse(localStorage.getItem("currentUser")).token),this._options=new o.c({headers:this._headers}),[4,this._http.post(this._apiURL+"/upload/doc",t,this._options).toPromise()];case 1:return n=r.sent(),n.json().result?[2,n.json().data]:(console.log(n.json().info),[2,null])}})})},e.prototype.imageUpload=function(e){return p(this,void 0,void 0,function(){var t,n;return v(this,function(r){switch(r.label){case 0:return t=new FormData,t.append("Key","image"),t.append("image",e),console.log(t),this._headers=new o.b,this._headers.append("Authorization",JSON.parse(localStorage.getItem("currentUser")).token),this._options=new o.c({headers:this._headers}),[4,this._http.post(this._apiURL+"/upload/image",t,this._options).toPromise()];case 1:return n=r.sent(),n.json().result?[2,n.json().data]:(console.log(n.json().info),[2,null])}})})},e.prototype.publicImageUpload=function(e){return p(this,void 0,void 0,function(){var t,n;return v(this,function(r){switch(r.label){case 0:return t=new FormData,t.append("Key","image"),t.append("image",e),this._headers=new o.b,this._headers.append("Authorization",JSON.parse(localStorage.getItem("currentUser")).token),this._options=new o.c({headers:this._headers}),[4,this._http.post(this._apiURL+"/publicUpload/image",t,this._options).toPromise()];case 1:return n=r.sent(),n.json().result?[2,n.json().data]:(console.log(n.json().info),[2,null])}})})},e.prototype._handleError=function(e){return a.Observable.throw(e.json().error||"Server error")},e}();b=f([n.i(i.c)(),h("design:paramtypes",["function"==typeof(y=void 0!==o.d&&o.d)&&y||Object,"function"==typeof(g=void 0!==r.c&&r.c)&&g||Object])],b);var y,g},mFJ1:function(e,t,n){"use strict";var r=n("3j3K"),i=n("5oXY"),o=n("tKuJ"),a=n("AMki"),s=n("3jY+"),c=n("m7AI");n.d(t,"a",function(){return h});var l=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},f=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},h=function(){function e(e,t,n,r,i,o,a,s,c,l,u){this._service=e,this._userService=t,this._fileService=n,this._router=r,this._route=i,this._adminGuard=o,this._assistantGuard=a,this._guardianGuard=s,this._secretaryGuard=c,this._studentGuard=l,this._teacherGuard=u}return e.prototype.ngOnInit=function(){return d(this,void 0,void 0,function(){var e,t,n=this;return f(this,function(r){switch(r.label){case 0:return this._route.params.subscribe(function(t){return e=+t.id}),t=this,[4,this._userService.getUserDetails(e)];case 1:return t.profileDetails=r.sent(),null==this.profileDetails.Photo?[3,3]:[4,this._fileService.imageDownload(this.profileDetails.Photo).subscribe(function(e){n.profilePhoto=e})];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e}();h=l([n.i(r._11)({selector:"user-details",template:n("pyja")}),u("design:paramtypes",["function"==typeof(p=void 0!==o.a&&o.a)&&p||Object,"function"==typeof(v=void 0!==s.a&&s.a)&&v||Object,"function"==typeof(b=void 0!==c.a&&c.a)&&b||Object,"function"==typeof(y=void 0!==i.b&&i.b)&&y||Object,"function"==typeof(g=void 0!==i.c&&i.c)&&g||Object,"function"==typeof(m=void 0!==a.c&&a.c)&&m||Object,"function"==typeof(w=void 0!==a.b&&a.b)&&w||Object,"function"==typeof(_=void 0!==a.f&&a.f)&&_||Object,"function"==typeof(x=void 0!==a.g&&a.g)&&x||Object,"function"==typeof(j=void 0!==a.e&&a.e)&&j||Object,"function"==typeof(S=void 0!==a.d&&a.d)&&S||Object])],h);var p,v,b,y,g,m,w,_,x,j,S},p1mf:function(e,t,n){"use strict";var r=n("3j3K"),i=n("5oXY"),o=n("E4GL"),a=n("3jY+"),s=n("eWVg"),c=n("+0Yu"),l=n("WReN"),u=n("AMki");n.d(t,"a",function(){return v});var d=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},f=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},p=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},v=function(){function e(e,t,n,r,i,o,a,s,c,l,u,d,f){this._scheduleService=e,this._userService=t,this._roomService=n,this._classService=r,this._timeService=i,this._router=o,this._route=a,this._changeDetetor=s,this._adminGuard=c,this._guardianGuard=l,this._studentGuard=u,this._teacherGuard=d,this._secretaryGuard=f,this.day=["Segunda feira","Terça feira","Quarta feira","Quinta feira","Sexta feira"],this.week=[];for(var h=0;h<this.day.length;h++)this.week[h]=[];this.usID=JSON.parse(localStorage.getItem("currentUser")).userID}return e.prototype.ngOnInit=function(){return h(this,void 0,void 0,function(){var e,t;return p(this,function(n){switch(n.label){case 0:return $(window).on("hashchange",function(){$(".modal-overlay").remove()}),$(document).ready(function(){$(".modal").modal({dismissible:!1})}),this._route.parent.params.subscribe(function(t){return e=+t.id}),t=this,[4,this._classService.getClassProfile(e)];case 1:return t.cla=n.sent(),this.setHours(),[4,this.setSchedule()];case 2:return n.sent(),[2]}})})},e.prototype.setSchedule=function(){return h(this,void 0,void 0,function(){var e,t,n,r,i,o,a,s;return p(this,function(c){switch(c.label){case 0:return[4,this._scheduleService.getScheduleByClass(this.cla.ID)];case 1:e=c.sent(),t=0,n=e,c.label=2;case 2:return t<n.length?(r=n[t],[4,this._userService.getProfile(r.TeacherFK)]):[3,8];case 3:return i=c.sent(),[4,this._roomService.getRoom(r.RoomFK)];case 4:return o=c.sent(),[4,this._scheduleService.getSubject(r.SubjectFK)];case 5:return a=c.sent(),[4,this._timeService.getSingleTime(r.TimeFK)];case 6:switch(s=c.sent(),this.week[r.DayOfWeek-1][s.Order-1]={ID:r.ID,StartTime:s.StartTime,Duration:r.Duration,DayOfWeek:r.DayOfWeek,SubjectFK:a.ID,Subject:a.Name,TeacherFK:i.ID,Teacher:i.Name,ClassFK:r.ClassFK,ClassName:this.cla.Year+this.cla.ClassDesc,RoomFK:o.ID,Room:o.Name},r.DayOfWeek-1){case 0:this.insertSchedule(r.DayOfWeek-1,s.Order-1,"bigMonday","smallMonday");break;case 1:this.insertSchedule(r.DayOfWeek-1,s.Order-1,"bigTuesday","smallTuesday");break;case 2:this.insertSchedule(r.DayOfWeek-1,s.Order-1,"bigWednesday","smallWednesday");break;case 3:this.insertSchedule(r.DayOfWeek-1,s.Order-1,"bigThursday","smallThursday");break;case 4:this.insertSchedule(r.DayOfWeek-1,s.Order-1,"bigFriday","smallFriday")}c.label=7;case 7:return t++,[3,2];case 8:return[2]}})})},e.prototype.insertSchedule=function(e,t,n,r){var i=this,o=document.createElement("a");o.setAttribute("class","col s12 btn grey darken-2 white-text"),o.onclick=function(){return i.select(e,t)},o.setAttribute("style","height:"+50*this.week[e][t].Duration+"px;font-size:0.9rem;margin-bottom:10px;line-height:100%;padding:15px"),o.innerHTML="<b>"+this.week[e][t].Subject+"</b>",document.getElementById(n).appendChild(o);var a=document.createElement("a");a.setAttribute("class","col s12 btn grey darken-2 white-text"),a.onclick=function(){return i.select(e,t)},a.innerHTML="<b>"+this.week[e][t].Subject+"</b>",document.getElementById(r).appendChild(a)},e.prototype.setHours=function(){return h(this,void 0,void 0,function(){var e,t,n,r,i,o;return p(this,function(a){switch(a.label){case 0:return[4,this._timeService.getTimeByPrimary(this.cla.SchoolFK)];case 1:for(e=a.sent(),t=document.getElementById("hoursColumn"),n='<div class="col s12 center-align" style="height: 50px;"></div>',r=0,i=e;r<i.length;r++)o=i[r],n+='<div class="col s12 center-align" style="height: 60px;border-top:1px solid #A0A0A0">'+o.StartTime+"<br>"+o.EndTime+"</div>";return t.innerHTML=n,[2]}})})},e.prototype.select=function(e,t){this.selected=this.week[e][t],this.able=this.usID==this.selected.TeacherFK,$("#scheduleModal").modal("open")},e.prototype.close=function(){$("#scheduleModal").modal("close")},e.prototype.accordion=function(e){var t=document.getElementById(e);-1==t.className.indexOf("show")?t.className+="show":t.className=t.className.replace(" show","")},e.prototype.showLessonsTeacher=function(){this._router.navigate(["/primary-class",this.cla.ID,"teacher-lessons",this.selected.ID]),$(".modal").modal("close")},e.prototype.showLessonsStudent=function(){this._router.navigate(["/primary-class",this.cla.ID,"student-lessons",this.selected.ID]),$(".modal").modal("close")},e}();v=d([n.i(r._11)({selector:"primary-schedule",template:n("t91h")}),f("design:paramtypes",["function"==typeof(b=void 0!==o.a&&o.a)&&b||Object,"function"==typeof(y=void 0!==a.a&&a.a)&&y||Object,"function"==typeof(g=void 0!==s.a&&s.a)&&g||Object,"function"==typeof(m=void 0!==c.a&&c.a)&&m||Object,"function"==typeof(w=void 0!==l.a&&l.a)&&w||Object,"function"==typeof(_=void 0!==i.b&&i.b)&&_||Object,"function"==typeof(x=void 0!==i.c&&i.c)&&x||Object,"function"==typeof(j=void 0!==r.Z&&r.Z)&&j||Object,"function"==typeof(S=void 0!==u.c&&u.c)&&S||Object,"function"==typeof(k=void 0!==u.f&&u.f)&&k||Object,"function"==typeof(O=void 0!==u.e&&u.e)&&O||Object,"function"==typeof(R=void 0!==u.d&&u.d)&&R||Object,"function"==typeof(I=void 0!==u.g&&u.g)&&I||Object])],v);var b,y,g,m,w,_,x,j,S,k,O,R,I},pyja:function(e,t){e.exports='<div class="row">\r\n    <div class="col s12 l10 offset-l1">\r\n        <div class="row">\r\n            <div class="col s12 m4">\r\n                <div class="white card z-depth-4 center" *ngIf="profileDetails?.Photo!=null">\r\n                    <img class="circle responsive-img" [attr.src]="profilePhoto">\r\n                </div>\r\n                <div class="white card z-depth-4 black-text">\r\n                    <table>\r\n                        <thead>\r\n                            <tr>\r\n                                <th colspan="2" class="center">\r\n                                    <h3>{{profileDetails?.Name}}</h3>\r\n                                </th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngIf="profileDetails?.PhoneNumber!=null">\r\n                                <td><i class="material-icons">phone</i></td>\r\n                                <th>{{profileDetails?.PhoneNumber}}</th>\r\n                            </tr>\r\n                            <tr *ngIf="profileDetails?.Email!=null">\r\n                                <td><i class="material-icons">email</i></td>\r\n                                <th>{{profileDetails?.Email}}</th>\r\n                            </tr>\r\n                            <tr *ngIf="profileDetails?.Address!=null">\r\n                                <td><i class="material-icons">home</i></td>\r\n                                <th>{{profileDetails?.Address}}</th>\r\n                            </tr>\r\n                            <tr *ngIf="profileDetails?.DateOfBirth!=null">\r\n                                <td><i class="fa fa-birthday-cake fa-fw"></i></td>\r\n                                <th>{{profileDetails?.DateOfBirth | date:\'dd/MM/y\'}}</th>\r\n                            </tr>\r\n                            <tr *ngIf="profileDetails?.Function!=null">\r\n                                <td><i class="material-icons">account_circle</i></td>\r\n                                <th>{{profileDetails?.Function}}</th>\r\n                            </tr>\r\n                            <tr *ngIf="profileDetails?.Curriculum!=null">\r\n                                <td><i class="fa fa-file-text-o fa-fw"></i></td>\r\n                                <th>{{profileDetails?.Curriculum}}</th>\r\n                            </tr>\r\n                            <tr *ngIf="profileDetails?.CitizenCard!=null">\r\n                                <td><i class="fa fa-id-card fa-fw"></i></td>\r\n                                <th>{{profileDetails?.CitizenCard}}</th>\r\n                            </tr>\r\n                            <tr *ngIf="profileDetails?.FiscalNumber!=null">\r\n                                <td> <i class="fa fa-credit-card fa-fw"></i></td>\r\n                                <th>{{profileDetails?.FiscalNumber}}</th>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n            <div class="col s12 m8">\r\n                <div *ngIf="_teacherGuard.canActivate() || _secretaryGuard.canActivate() || _adminGuard.canActivate()">\r\n                    <class-list-teacher></class-list-teacher>\r\n                </div>\r\n                <div *ngIf="_guardianGuard.canActivate() || _secretaryGuard.canActivate() || _adminGuard.canActivate()">\r\n                    <children-list></children-list>\r\n                </div>\r\n                <div *ngIf="_studentGuard.canActivate()">\r\n                    <class-list-student></class-list-student>\r\n                    <parent-list></parent-list>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n\r\n    </div>\r\n</div>'},qCld:function(e,t,n){"use strict";var r=n("3j3K"),i=n("5oXY"),o=n("ALHQ"),a=n("E4GL"),s=n("3jY+"),c=n("AMki");n.d(t,"a",function(){return h});var l=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},f=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},h=function(){function e(e,t,n,r,i,o,a,s,c,l){this._evaluationService=e,this._userService=t,this._scheduleService=n,this._guardianGuard=r,this._teacherGuard=i,this._studentGuard=o,this._adminGuard=a,this._secretaryGuard=s,this._router=c,this._route=l,this.values=["Mau","Não Satisfaz","Satisfaz","Satisfaz Bem","Bom"],this.evaluations=[]}return e.prototype.ngOnInit=function(){return d(this,void 0,void 0,function(){var e,t,n,r,i,o,a,s,c,l,u;return f(this,function(d){switch(d.label){case 0:return $(document).ready(function(){$("#evaluationModal").modal({dismissible:!1}),$(window).on("hashchange",function(){$("#evaluationModal").modal("close")}),$(".collapsible").collapsible()}),this._route.parent.params.subscribe(function(t){return e=t.id}),t=JSON.parse(localStorage.getItem("currentUser")).userID,[4,this._evaluationService.getEvaluationsByClass(e)];case 1:n=d.sent(),r=0,i=n,d.label=2;case 2:return r<i.length?(o=i[r],[4,this._scheduleService.getSubject(o.SubjectFK)]):[3,8];case 3:return a=d.sent(),[4,this._userService.getProfile(o.TeacherFK)];case 4:return s=d.sent(),this._studentGuard.canActivate()?[4,this._evaluationService.getGrades(o.ID)]:[3,6];case 5:return c=d.sent(),this.evaluations.push({ID:o.ID,Purport:o.Purport,EvaluationDate:o.EvaluationDate,Subject:a.Name,TeacherFK:s.ID,Teacher:s.Name,Grade:this.values[c.Value-1]}),[3,7];case 6:this.evaluations.push({ID:o.ID,Purport:o.Purport,EvaluationDate:o.EvaluationDate,Subject:a.Name,TeacherFK:o.TeacherFK,Teacher:s.Name,Able:!this._teacherGuard.canActivate()||t==o.TeacherFK}),d.label=7;case 7:return r++,[3,2];case 8:if(this.evaluations=this.evaluations.sort(function(e,t){return e.EvaluationDate>t.EvaluationDate?1:e.EvaluationDate<t.EvaluationDate?-1:0}),this._studentGuard.canActivate())for(l=document.getElementsByClassName("purportDescr"),u=0;u<this.evaluations.length;u++)l[u].innerHTML=this.evaluations[u].Purport;return console.log(this.evaluations),[2]}})})},e.prototype.select=function(e){return d(this,void 0,void 0,function(){var t,n,r,i,o,a;return f(this,function(s){switch(s.label){case 0:return $("#evaluationModal").modal("open"),[4,this._evaluationService.getGrades(this.evaluations[e].ID)];case 1:t=s.sent(),n=[],r=0,i=t,s.label=2;case 2:return r<i.length?(o=i[r],[4,this._userService.getProfile(o.StudentFK)]):[3,5];case 3:a=s.sent(),n.push({Name:a.Name,Value:this.values[o.Value-1]}),s.label=4;case 4:return r++,[3,2];case 5:return n.sort(function(e,t){return e.Name>t.Name?1:t.Name>e.Name?-1:0}),this.selected={ID:this.evaluations[e].ID,EvaluationDate:this.evaluations[e].EvaluationDate,Subject:this.evaluations[e].Subject,TeacherFK:this.evaluations[e].TeacherFK,Teacher:this.evaluations[e].Teacher,Students:n},document.getElementById("purportDescr").innerHTML=this.evaluations[e].Purport,[2]}})})},e.prototype.close=function(){$("#evaluationModal").modal("close")},e}();h=l([n.i(r._11)({selector:"class-evaluations",template:n("+hnk")}),u("design:paramtypes",["function"==typeof(p=void 0!==o.a&&o.a)&&p||Object,"function"==typeof(v=void 0!==s.a&&s.a)&&v||Object,"function"==typeof(b=void 0!==a.a&&a.a)&&b||Object,"function"==typeof(y=void 0!==c.f&&c.f)&&y||Object,"function"==typeof(g=void 0!==c.d&&c.d)&&g||Object,"function"==typeof(m=void 0!==c.e&&c.e)&&m||Object,"function"==typeof(w=void 0!==c.c&&c.c)&&w||Object,"function"==typeof(_=void 0!==c.g&&c.g)&&_||Object,"function"==typeof(x=void 0!==i.b&&i.b)&&x||Object,"function"==typeof(j=void 0!==i.c&&i.c)&&j||Object])],h);var p,v,b,y,g,m,w,_,x,j},rQce:function(e,t,n){"use strict";var r=n("3j3K"),i=n("5oXY"),o=n("+0Yu");n.d(t,"a",function(){return u});var a=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},u=function(){function e(e,t){this._classService=e,this._route=t}return e.prototype.ngOnInit=function(){return c(this,void 0,void 0,function(){var e,t;return l(this,function(n){switch(n.label){case 0:return e={},this.students=[],t=this,[4,this._classService.getStudentsWithoutClass()];case 1:return t.students=n.sent(),$.each(this.students,function(t,n){e[n.Name]=null}),$(document).ready(function(){$(".chips-autocomplete").material_chip({autocompleteOptions:{data:e,limit:1/0,minLength:1}})}),[2]}})})},e.prototype.addStudents=function(){return c(this,void 0,void 0,function(){var e,t,n,r,i,o,a;return l(this,function(s){switch(s.label){case 0:e=$(".chips-autocomplete").material_chip("data"),this._route.parent.params.subscribe(function(e){return t=e.id}),n=function(e){var n,i;return l(this,function(o){switch(o.label){case 0:return n=r.students.filter(function(t){return t.Name==e.tag})[0].ID,[4,r._classService.addUserToClass(t,n)];case 1:return i=o.sent(),console.log(i),[2]}})},r=this,i=0,o=e,s.label=1;case 1:return i<o.length?(a=o[i],[5,n(a)]):[3,4];case 2:s.sent(),s.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},e}();u=a([n.i(r._11)({selector:"userclass-form",template:n("l5nz")}),s("design:paramtypes",["function"==typeof(d=void 0!==o.a&&o.a)&&d||Object,"function"==typeof(f=void 0!==i.c&&i.c)&&f||Object])],u);var d,f},s1wy:function(e,t,n){"use strict";var r=n("3j3K"),i=n("5oXY"),o=n("AMki"),a=n("k2CW"),s=n("E4GL"),c=n("3jY+");n.d(t,"a",function(){return h});var l=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},f=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},h=function(){function e(e,t,n,r,i,o){this._lessonService=e,this._scheduleService=t,this._userService=n,this._route=r,this._guardianGuard=i,this._studentGuard=o,this.lessons=[]}return e.prototype.ngOnInit=function(){return d(this,void 0,void 0,function(){var e,t,n;return f(this,function(r){switch(r.label){case 0:return $(document).ready(function(){$("ul.tabs").tabs({swipeable:!0}),$(".collapsible").collapsible()}),this._route.params.subscribe(function(t){return e=t.id}),[4,this._scheduleService.getSchedule(e)];case 1:return t=r.sent(),[4,this._lessonService.getLessonBySubject(t.SubjectFK,t.ClassFK)];case 2:return n=r.sent(),this._studentGuard.canActivate()?[4,this.isStudent(n)]:[3,4];case 3:return r.sent(),[3,6];case 4:return[4,this.isGuardian(n)];case 5:r.sent(),r.label=6;case 6:return this.initLessonList(),this.showLesson(0),[2]}})})},e.prototype.isStudent=function(e){return d(this,void 0,void 0,function(){var t,n,r,i;return f(this,function(o){switch(o.label){case 0:t=0,n=e,o.label=1;case 1:return t<n.length?(r=n[t],[4,this._lessonService.getPresenceByStudent(r.ID)]):[3,4];case 2:i=o.sent(),this.lessons.push({Summary:r.Summary,Homework:r.Homework,Observations:r.Observations,Day:r.Day,Student:[{Presence:i.Presence,Material:i.Material,Behavior:i.Behavior}]}),o.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},e.prototype.isGuardian=function(e){return d(this,void 0,void 0,function(){var t,n,r,i,o,a,s,c,l;return f(this,function(u){switch(u.label){case 0:t=0,n=e,u.label=1;case 1:return t<n.length?(r=n[t],i=[],[4,this._lessonService.getPresenceByGuardian(r.ID)]):[3,8];case 2:o=u.sent(),a=0,s=o,u.label=3;case 3:return a<s.length?(c=s[a],[4,this._userService.getProfile(c.StudentFK)]):[3,6];case 4:l=u.sent(),i.push({Student:l.Name,Presence:c.Presence,Material:c.Material,Behavior:c.Behavior}),u.label=5;case 5:return a++,[3,3];case 6:this.lessons.push({Summary:r.Summary,Homework:r.Homework,Observations:r.Observations,Day:r.Day,Student:i}),u.label=7;case 7:return t++,[3,1];case 8:return[2]}})})},e.prototype.initLessonList=function(){var e=this;this.index=0;var t=document.getElementById("list");this.lessons.forEach(function(n,r){var i=document.createElement("li");i.setAttribute("class",r<4?"col s12 m3 tab option":"col s12 m3 tab option hide");var o=document.createElement("a");o.innerHTML="Lição nº"+(e.lessons.length-r),o.setAttribute("class",0==r?"active green-text text-darken-2":"green-text text-darken-2"),o.onclick=function(){e.showLesson(r)},i.appendChild(o),t.appendChild(i)})},e.prototype.moreLesson=function(){var e=document.getElementsByClassName("option");this.index+3<e.length-1&&(e[this.index].className+=" hide",e[this.index+4].className=e[this.index].className.replace(" hide",""),this.index++)},e.prototype.lessLesson=function(){if(this.index>0){var e=document.getElementsByClassName("option");e[this.index+3].className+=" hide",e[this.index-1].className=e[this.index-1].className.replace(" hide",""),this.index--}},e.prototype.showLesson=function(e){this.selected={Day:this.lessons[e].Day,Homework:this.lessons[e].Homework,Description:this.lessons.length-e,Observations:this.lessons[e].Observations,Summary:this.lessons[e].Summary,Student:this.lessons[e].Student}},e}();h=l([n.i(r._11)({selector:"lessons-student",template:n("BhB8")}),u("design:paramtypes",["function"==typeof(p=void 0!==a.a&&a.a)&&p||Object,"function"==typeof(v=void 0!==s.a&&s.a)&&v||Object,"function"==typeof(b=void 0!==c.a&&c.a)&&b||Object,"function"==typeof(y=void 0!==i.c&&i.c)&&y||Object,"function"==typeof(g=void 0!==o.f&&o.f)&&g||Object,"function"==typeof(m=void 0!==o.e&&o.e)&&m||Object])],h);var p,v,b,y,g,m},t1L7:function(e,t){e.exports='<div id="receivedMessages" class="informationNotif" style="margin-top:5px">\r\n    <div class="col l10 container offset-l1">\r\n        <div *ngFor="let notification of receivedNotifications , let i=index" class="row" [ngClass]="notification.Read ? \'grey lighten-1\' : \'white\'"\r\n            style="margin:2px;cursor:pointer" (click)="readNotification(notification.ID, i)">\r\n            <div class="col m3 s12" style="margin-top:5px">\r\n                <span style="padding-left: 10px;" class="left-align"><a [ngClass]="notification.Read ? \'black-text\' : \'black-text\'">{{notification?.Sender}}</a></span>\r\n            </div>\r\n            <div class="col  m6 s12" style="margin-top:5px">\r\n                <span [ngClass]="notification.Read ? \'black-text\' : \'black-text\'">{{notification?.Subject}}</span>\r\n            </div>\r\n            <div class="col m3 s12">\r\n                <div class="col s12">\r\n                    <i [ngClass]="notification.Read ? \'grey lighten-1 black-text\' : \'white black-text\'" class="fa fa-calendar"></i>\r\n                    <span [ngClass]="notification.Read ? \'grey lighten-1 black-text\' : \'white black-text\'"> {{notification?.Hour | date:\'dd/MM/y\'}}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div id="notifReceived" class="modal">\r\n    <div class="modal-content" style="padding:0px">\r\n            <header style="position: relative">\r\n                    <a class="btn-floating deep-orange darken-2" (click)="closeNotifDetails()" style="position:absolute; right: 10px;">\r\n                        <i class="material-icons white-text" style="cursor:pointer">close</i>\r\n                    </a>\r\n                </header>\r\n        <div class="container" style="margin:20px; padding-top: 10px;">\r\n            <div>\r\n                <div class="row">\r\n                    <div class="col s4"><b>Asunto:</b></div>\r\n                    <div class="col s8"><b>{{selected?.Subject}}</b></div>\r\n                </div>\r\n                <div class="row">\r\n                    <div class="col s4"><b>Data:</b></div>\r\n                    <div class="col s8"> {{selected?.Hour | date}}</div>\r\n                </div>\r\n                <div class="row">\r\n                    <div class="col s4"><b>Remetente:</b></div>\r\n                    <div class="col s8">{{selected?.Sender}}</div>\r\n                </div>\r\n                <div class="row">\r\n                    <div class="col s12"><b>Descrição:</b></div>\r\n                    <div class="col s12"><br></div>\r\n                    <div class="col s12" id="notRecDescription"></div>\r\n                </div>\r\n                <div *ngIf="selected?.Student!=null" class="row">\r\n                    <div class="col s4"><b>Aluno Associado:</b></div>\r\n                    <div class="col s8">{{selected?.Student}}</div>\r\n                </div>\r\n                <div class="row" *ngIf="selected?.Approval" style="position:relative">\r\n                    <div class="col s10 offset-s1 center-align">\r\n                        <div *ngIf="!selected?.Accepted">\r\n                            <input type="checkbox" [(ngModel)]="checked" id="checked" />\r\n                            <label for="checked"></label> Aceito o uso da plataforma para validação da minha aprovação:\r\n                            <div class="row center-align">\r\n                                <button class="btn lime white-text" [disabled]="!checked" (click)="accept(selected?.ID)"> <i class="fa fa-check"></i> </button>\r\n                            </div>\r\n                        </div>\r\n                        <div *ngIf="selected.Accepted">\r\n                            <br>\r\n                            <span class="orange-text">Validação Aprovada</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},t91h:function(e,t){e.exports='<div class="hide-on-small-only row">\r\n    <div class="col s12 l10 offset-l1">\r\n\r\n            <div *ngIf="_adminGuard.canActivate() || _secretaryGuard.canActivate()" style="position: relative; height: 70px;">\r\n                    <div class="fixed-action-btn horizontal" style="position: absolute; display: inline-block; top: 24px; right: 0%">\r\n                        <a class="btn-floating btn-large lime z-depth-4"><i class="large material-icons">menu</i></a>\r\n                        <ul>\r\n                            <li><a class=" hide-on-small-only btn green darken-2 right">Adicionar Aula</a></li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n\r\n        <div class="row card" style="margin-top:30px; padding-top: 20px;">\r\n            <div class="col hide-on-med-only" style="width:10%">\r\n                <div id="hoursColumn" class="row"></div>\r\n            </div>\r\n            <div class="col" style="width:90%">\r\n                <div class="row">\r\n                    <div class="col" style="width:20%">\r\n                        <div class="center-align" style="height: 50px;">\r\n                            <span class="flow-text">Segunda</span>\r\n                        </div>\r\n                        <div id="bigMonday" class="row"></div>\r\n                    </div>\r\n                    <div class="col" style="width:20%">\r\n                        <div class="col s12 center-align" style="height: 50px;">\r\n                            <span class="flow-text">Terça</span>\r\n                        </div>\r\n                        <div id="bigTuesday" class="row"></div>\r\n                    </div>\r\n                    <div class="col" style="width:20%">\r\n                        <div class="col s12 center-align" style="height: 50px;">\r\n                            <span class="flow-text">Quarta</span>\r\n                        </div>\r\n                        <div id="bigWednesday" class="row"></div>\r\n                    </div>\r\n                    <div class="col" style="width:20%">\r\n                        <div class="col s12 center-align" style="height: 50px;">\r\n                            <span class="flow-text">Quinta</span>\r\n                        </div>\r\n                        <div id="bigThursday" class="row"></div>\r\n                    </div>\r\n                    <div class="col" style="width:20%">\r\n                        <div class="col s12 center-align" style="height: 50px;">\r\n                            <span class="flow-text">Sexta</span>\r\n                        </div>\r\n                        <div id="bigFriday" class="row"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class="hide-on-med-and-up">\r\n    <div>\r\n        <a (click)="accordion(\'smallMonday\')" class="btn col schedule green">Segunda</a>\r\n        <div id="smallMonday" class="hide container row"></div>\r\n        <a (click)="accordion(\'smallTuesday\')" class="btn col schedule green">Terça</a>\r\n        <div id="smallTuesday" class="hide container row"></div>\r\n        <a (click)="accordion(\'smallWednesday\')" class="btn col schedule green">Quarta</a>\r\n        <div id="smallWednesday" class="hide container row"></div>\r\n        <a (click)="accordion(\'smallThursday\')" class="btn col schedule green">Quinta</a>\r\n        <div id="smallThursday" class="hide container row"></div>\r\n        <a (click)="accordion(\'smallFriday\')" class="btn col schedule green">Sexta</a>\r\n        <div id="smallFriday" class="hide container row"></div>\r\n    </div>\r\n</div>\r\n\r\n<div id="scheduleModal" class="modal bottom-sheet" style="min-height:370px;">\r\n    <div class="modal-content light-green accent-1" style="min-height: 100%;position: relative">\r\n        <div style="position: absolute;top:5px;right: 10px;">\r\n            <a class="btn-floating deep-orange darken-2" (click)="close()"><i class="material-icons">close</i></a>\r\n        </div>\r\n        <div class="container">\r\n            <table class="striped white">\r\n                <thead>\r\n                    <tr>\r\n                        <td>Disciplina:</td>\r\n                        <th>{{selected?.Subject}}</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr>\r\n                        <td>Professor:</td>\r\n                        <th>{{selected?.Teacher}}</th>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>Dia da semana:</td>\r\n                        <th>{{day[selected?.DayOfWeek-1]}}</th>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>Hora:</td>\r\n                        <th>{{selected?.StartTime}}</th>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>Sala:</td>\r\n                        <th>{{selected?.Room}}</th>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n        <br>\r\n        <div class="row" style="margin:0px">\r\n            <a *ngIf="_teacherGuard.canActivate() && able" (click)="showLessonsTeacher()" class="col s12 btn green darken-2">Lições</a>\r\n            <a *ngIf="_adminGuard.canActivate() || _secretaryGuard.canActivate()" (click)="showLessonsTeacher()" class="col s12 btn green darken-2">Lições</a>\r\n            <a *ngIf="_studentGuard.canActivate() || _guardianGuard.canActivate()" (click)="showLessonsStudent()" class="col s12 btn green darken-2">Lições</a>\r\n        </div>\r\n    </div>\r\n</div>'},tKuJ:function(e,t,n){"use strict";var r=n("3j3K"),i=n("Fzro"),o=n("rCTf"),a=(n.n(o),n("0lrd")),s=(n.n(a),n("+pb+")),c=(n.n(s),n("EnA3")),l=(n.n(c),n("6Yye")),u=(n.n(l),n("eErF")),d=(n.n(u),n("x35b"));n.d(t,"a",function(){return b});var f=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},h=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},v=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},b=function(){function e(e){this._http=e,this._apiURL=d.API.url,this._headers=new i.b,this._headers.append("Content-Type","application/json; charset=utf-8")}return e.prototype.login=function(e,t){var r=JSON.stringify({email:e,password:t});return this._options=new i.c({headers:this._headers}),this._http.post(this._apiURL+"/account/login",r,this._options).map(function(r){if(r.json().result){var i=r.json().data;return{email:e,password:t,token:i.token,userID:i.userID,roles:i.roles,classID:i.classID,name:i.name,photo:i.photo}}return n.i(a.toast)(r.json().info,4e3,"red"),null}).catch(this._handleError)},e.prototype.verifyToken=function(){return p(this,void 0,void 0,function(){var e;return v(this,function(t){switch(t.label){case 0:return this._headers.append("Authorization",JSON.parse(localStorage.getItem("currentUser")).token),this._options=new i.c({headers:this._headers}),[4,this._http.get(this._apiURL+"/account/verifytoken",this._options).toPromise()];case 1:return e=t.sent(),[2,e.json().result?e.json().data:e.json().result]}})})},e.prototype._handleError=function(e){return console.error(e),o.Observable.throw(e.json().error||"Server Error")},e}();b=f([n.i(r.c)(),h("design:paramtypes",["function"==typeof(y=void 0!==i.d&&i.d)&&y||Object])],b);var y},tkhS:function(e,t){e.exports='<div class="hide-on-small-only row">\r\n    <div class="col s12 l10 offset-l1">\r\n        \r\n        <div *ngIf="_adminGuard.canActivate() || _secretaryGuard.canActivate()" style="position: relative; height: 70px;">\r\n            <div class="fixed-action-btn horizontal" style="position: absolute; display: inline-block; top: 24px; right: 0%">\r\n                <a class="btn-floating btn-large lime z-depth-4"><i class="large material-icons">menu</i></a>\r\n                <ul>\r\n                    <li><a [routerLink]="[\'/primary-class/\', classID,\'form-addstudent\']" class=" hide-on-small-only btn green darken-2 right">Adicionar Aluno</a></li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="center row" style="margin-top:20px">\r\n\r\n            <div *ngFor="let student of students" style="padding-top: 10px;" class="col s6">\r\n                <div class="card horizontal row">\r\n                    <div class="card-image valign-wrapper col s4">\r\n                        <img [attr.src]="student?.Photo" class="responsive-img" style="height: 100px">\r\n                    </div>\r\n                    <div class="card-stacked col s8">\r\n                        <div class="card-content left-align">\r\n                            <h5>{{student?.Name}}</h5>\r\n                            <p>{{student?.Email}}</p>\r\n                        </div>\r\n                        <div class="card-action">\r\n                            <a *ngIf="_adminGuard.canActivate() || _secretaryGuard.canActivate()" class="left" [routerLink]="[\'/user/details\',student?.ID]">Perfil</a>\r\n                            <a class="right" [routerLink]="[\'/notifications/sendToUser\',student?.ID]">Enviar mensagem</a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},uAgU:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){function e(){}return e}()},usCd:function(e,t,n){"use strict";var r=n("3j3K");n.d(t,"a",function(){return o});var i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=function(){function e(){this.title="404",this.error="Página Não encontrada!"}return e}();o=i([n.i(r._11)({template:'\n    <h2 style="color:#800">{{title}}</h2>\n    <hr>\n    <p  style="color:#800">{{error}}</p> \n  '})],o)},uwVz:function(e,t,n){"use strict";var r=n("3j3K"),i=n("5oXY"),o=n("bUb0"),a=n("3jY+");n.d(t,"a",function(){return d});var s=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},u=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},d=function(){function e(e,t,n){this._service=e,this._router=t,this._userService=n,this.page=0}return e.prototype.ngOnInit=function(){return l(this,void 0,void 0,function(){var e;return u(this,function(t){switch(t.label){case 0:return e=this,[4,this._service.getSent(this.page)];case 1:return e.sentNotifications=t.sent(),$(document).ready(function(){$("#notifSent").modal({dismissible:!1}),$("#writeMessage").modal({dismissible:!1}),$(window).on("hashchange",function(){$("#notifSent").modal("close")})}),[2]}})})},e.prototype.showNotifDetails=function(e,t){$("#notifSent").modal("open"),this.selected=this.sentNotifications[e],this.getValidations(t),document.getElementById("notSentDescription").innerHTML=this.selected.Description},e.prototype.closeNotifDetails=function(){$("#notifSent").modal("close")},e.prototype.getValidations=function(e){return l(this,void 0,void 0,function(){var t,n,r,i,o,a;return u(this,function(s){switch(s.label){case 0:return this.sentValidations=[],[4,this._service.getValidations(e)];case 1:t=s.sent(),n=0,r=t,s.label=2;case 2:return n<r.length?(i=r[n],[4,this._userService.getProfile(i.ReceiverFK)]):[3,7];case 3:return o=s.sent(),null==i.StudentFK?[3,5]:[4,this._userService.getProfile(i.StudentFK)];case 4:return a=s.sent(),this.sentValidations.push({ReceiverFK:o.ID,Receiver:o.Name,NotificationFK:e,Accepted:i.Accepted,Read:i.Read,Student:a.Name,StudentFK:a.ID}),[3,6];case 5:this.sentValidations.push({ReceiverFK:o.ID,Receiver:o.Name,NotificationFK:e,Accepted:i.Accepted,Read:i.Read,Student:null,StudentFK:null}),s.label=6;case 6:return n++,[3,2];case 7:return[2]}})})},e}();d=s([n.i(r._11)({selector:"notification-sent",template:n("UyBt")}),c("design:paramtypes",["function"==typeof(f=void 0!==o.a&&o.a)&&f||Object,"function"==typeof(h=void 0!==i.b&&i.b)&&h||Object,"function"==typeof(p=void 0!==a.a&&a.a)&&p||Object])],d);var f,h,p},v0dC:function(e,t,n){"use strict";var r=n("3j3K"),i=n("5oXY"),o=n("eWVg"),a=n("XKfx"),s=n("zfYR"),c=n("m7AI"),l=n("NMDB");n.d(t,"a",function(){return p});var u=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},h=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},p=function(){function e(e,t,n,r,i,o,a){this._floorService=e,this._schoolService=t,this._roomService=n,this._fileService=r,this._route=i,this._changeDetetor=o,this._renderer=a,this.room=new l.a}return e.prototype.ngOnInit=function(){return f(this,void 0,void 0,function(){var e,t,n=this;return h(this,function(r){switch(r.label){case 0:return this._route.params.subscribe(function(e){return n.room.FloorFK=e.id}),[4,this._floorService.getFloor(this.room.FloorFK)];case 1:return e=r.sent(),t=this,[4,this._fileService.imageDownloadAsync(e.Image)];case 2:return t.image=r.sent(),this.createFloor(),[2]}})})},e.prototype.createFloor=function(){var e=this;document.getElementById("board").innerHTML='<canvas id="canvas" class="card white" width="945" height="700"></canvas><br/>';var t=document.getElementById("canvas"),n=t.getContext("2d"),r=new Image;r.src=this.image.changingThisBreaksApplicationSecurity,r.onload=function(){return n.drawImage(r,1,1,945,700)},this._renderer.listenGlobal(t,"click",function(i){n.drawImage(r,1,1,945,700),e.getMousePos(t,i),n.beginPath(),n.arc(e.room.XCoord+10,e.room.YCoord+10,15,0,2*Math.PI),n.stroke(),n.fillRect(e.room.XCoord,e.room.YCoord,20,20),n.stroke(),console.log(e.room)})},e.prototype.getMousePos=function(e,t){var n=e.getBoundingClientRect();this.room.XCoord=t.clientX-n.left,this.room.YCoord=t.clientY-n.top},e.prototype.getImage=function(e){this.image=e.target.files[0]},e.prototype.createRoom=function(){return f(this,void 0,void 0,function(){var e;return h(this,function(t){switch(t.label){case 0:return[4,this._roomService.createRoom(this.room)];case 1:return e=t.sent(),this.room=new l.a,this._changeDetetor.detectChanges(),[2]}})})},e}();p=u([n.i(r._11)({selector:"room-form",template:n("9kOi")}),d("design:paramtypes",["function"==typeof(v=void 0!==a.a&&a.a)&&v||Object,"function"==typeof(b=void 0!==s.a&&s.a)&&b||Object,"function"==typeof(y=void 0!==o.a&&o.a)&&y||Object,"function"==typeof(g=void 0!==c.a&&c.a)&&g||Object,"function"==typeof(m=void 0!==i.c&&i.c)&&m||Object,"function"==typeof(w=void 0!==r.Z&&r.Z)&&w||Object,"function"==typeof(_=void 0!==r.N&&r.N)&&_||Object])],p);var v,b,y,g,m,w,_},vFXl:function(e,t){e.exports='<div class="row">\r\n  <div class="col offset-s1 s10">\r\n    <div *ngIf="_adminGuard.canActivate()" class="right-align">\r\n\r\n      <div class="hide-on-med-and-up fixed-action-btn horizontal">\r\n        <a class="btn-floating red" [routerLink]="[\'/form-school\']">\r\n     <i class="material-icons">add</i>\r\n  </a>\r\n        <ul>\r\n          <li class="white">Adicionar Escola</li>\r\n        </ul>\r\n      </div>\r\n      <div class="right-align hide-on-small-only">\r\n        <a class="btn green darken-1" [routerLink]="[\'/form-school\']">\r\n        <label class="white-text">Criar uma nova escola</label>\r\n    </a>\r\n      </div>\r\n      <hr>\r\n    </div>\r\n\r\n    <div *ngFor="let school of schools">\r\n      <div class="col s12 m6 l6 center-align">\r\n        <div class="card">\r\n          <div class="card-image">\r\n            <img [attr.src]="school?.ProfilePicture" style="height: 250px;">\r\n            <span class="flow-text">{{school?.Name}}</span>\r\n            <a class="btn-floating halfway-fab green darken-1" [routerLink]="[\'/school\', school?.ID]" style="bottom:20px">\r\n                <i class="material-icons">info_outline</i>\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>'},vXNz:function(e,t){e.exports='<div class="container row" style="margin-top:10px">\r\n    <div *ngIf="hasClass" class="col s12 center green white-text flow-text">Turmas</div>\r\n    <div *ngFor="let class of classes" class="col s4">\r\n        <a [routerLink]="[\'/primary-class/\', class?.ID]">\r\n            <div class="card-panel grey-text text-darken-2 center-align">\r\n                <h6>{{class?.School}}</h6>\r\n                <h5>{{class?.Class}}</h5>\r\n            </div>\r\n        </a>\r\n    </div>\r\n</div>'},wVb6:function(e,t,n){"use strict";var r=n("3j3K"),i=n("5oXY"),o=n("bUb0"),a=n("3jY+");n.d(t,"a",function(){return d});var s=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},u=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},d=function(){function e(e,t,n){this._service=e,this._router=t,this._userService=n,this.page=0,this.checked=!1}return e.prototype.ngOnInit=function(){return l(this,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return this.receivedNotifications=[],[4,this.getReceivedNotifications()];case 1:return e.sent(),$(document).ready(function(){$("#notifReceived").modal({dismissible:!1}),$(window).on("hashchange",function(){$("#notifReceived").modal("close")})}),[2]}})})},e.prototype.getReceivedNotifications=function(){return l(this,void 0,void 0,function(){var e,t,n,r;return u(this,function(i){switch(i.label){case 0:return[4,this._service.getReceived(this.page)];case 1:if(null==(e=i.sent()))return[3,5];t=0,n=e,i.label=2;case 2:return t<n.length?(r=n[t],[4,this._getReceivedNotification(r)]):[3,5];case 3:i.sent(),i.label=4;case 4:return t++,[3,2];case 5:return[2]}})})},e.prototype._getReceivedNotification=function(e){return l(this,void 0,void 0,function(){var t,n,r;return u(this,function(i){switch(i.label){case 0:return console.log(e),[4,this._service.getMessage(e.NotificationFK)];case 1:return t=i.sent(),[4,this._userService.getProfile(t.UserFK)];case 2:return n=i.sent(),null==e.StudentFK?[3,4]:[4,this._userService.getProfile(e.StudentFK)];case 3:return r=i.sent(),this.receivedNotifications.push({ID:t.ID,Hour:t.Hour,Subject:t.Subject,Description:t.Description,Urgency:t.Urgency,Approval:t.Approval,Sender:n.Name,SenderFK:n.ID,Accepted:e.Accepted,Read:e.Read,StudentFK:r.ID,Student:r.Name}),[3,5];case 4:this.receivedNotifications.push({ID:t.ID,Hour:t.Hour,Subject:t.Subject,Description:t.Description,Urgency:t.Urgency,Approval:t.Approval,Sender:n.Name,SenderFK:n.ID,Accepted:e.Accepted,Read:e.Read,StudentFK:null,Student:null}),i.label=5;case 5:return[2]}})})},e.prototype.readNotification=function(e,t){return l(this,void 0,void 0,function(){return u(this,function(n){return this.selected=this.receivedNotifications[t],$("#notifReceived").modal("open"),this.receivedNotifications[t].Read=!0,this._service.read(e).subscribe(),document.getElementById("notRecDescription").innerHTML=this.selected.Description,[2]})})},e.prototype.accept=function(e){this._service.accept(e).subscribe(),this.selected.Accepted=!0},e.prototype.closeNotifDetails=function(){$("#notifReceived").modal("close")},e}();d=s([n.i(r._11)({selector:"notification-received",template:n("t1L7")}),c("design:paramtypes",["function"==typeof(f=void 0!==o.a&&o.a)&&f||Object,"function"==typeof(h=void 0!==i.b&&i.b)&&h||Object,"function"==typeof(p=void 0!==a.a&&a.a)&&p||Object])],d);var f,h,p},wlW2:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){function e(){}return e}()},"x+3+":function(e,t){e.exports='<div class="row">\r\n    <div class="col l10 offset-l1">\r\n        <div class="white" style="margin-top:10px">\r\n            <div class="center">\r\n                    <br>\r\n                <h3 class="green-text text-darken-2">Adicionar uma Lição</h3>\r\n                <h5>{{subject?.Name}}</h5>\r\n            </div>\r\n            <div class="row" style="margin-top:20px">\r\n                <form class="col s12 left-align">\r\n                    <div class="col s6 m8 left-align">\r\n                        <h3>Lição nº {{lessons}}</h3>\r\n                    </div>\r\n                    <div class="input-field col s12">\r\n                        <input [(ngModel)]="lesson.Summary" id="summary" name="summary" type="text">\r\n                        <label for="summary">Sumários</label>\r\n                    </div>\r\n                    <div class="input-field col s12">\r\n                        <input [(ngModel)]="lesson.Homework" id="homework" name="homework" type="text">\r\n                        <label for="homework">Trabalhos de Casa</label>\r\n                    </div>\r\n                    <div class="input-field col s12">\r\n                        <input [(ngModel)]="lesson.Observations" id="observations" name="observations" type="text">\r\n                        <label for="observations">Observações</label>\r\n                    </div>\r\n                    <div class="col s12">\r\n                        <div class="row">\r\n                            <div class="col s3 m3 center">\r\n                                <label>Nome do Estudante</label>\r\n                            </div>\r\n                            <div class="col s2" style="margin-left:30px">\r\n                                <label>Presença</label>\r\n                            </div>\r\n                            <div class="col s2" style="margin-left:30px">\r\n                                <label>Material</label>\r\n                            </div>\r\n                            <div class="col s4">\r\n                                <label class="col s12 center">Comportamento</label>\r\n                                <div class="center">\r\n                                    <i class="fa fa-circle" style="color: #8B0000"></i>\r\n                                    <i class="fa fa-circle" style="color: #FF4000"></i>\r\n                                    <i class="fa fa-circle" style="color: #FFD700"></i>\r\n                                    <i class="fa fa-circle" style="color: #9ACD32"></i>\r\n                                    <i class="fa fa-circle" style="color: #008000"></i>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div id="classStudents" *ngFor="let student of students, let i=index">\r\n                            <div class="row">\r\n                                <div class="col s3 m3 center">\r\n                                    <span>{{student?.Student}}</span>\r\n                                </div>\r\n                                <div class="col s2" style="margin-left:35px">\r\n                                    <input type="checkbox" [(ngModel)]="student.Presence" name="student.Presence" id="presenceCheck{{student.StudentFK}}" />\r\n                                    <label for="presenceCheck{{student.StudentFK}}">Esteve Presente?</label>\r\n                                </div>\r\n                                <div class="col s2" style="margin-left:35px">\r\n                                    <input type="checkbox" [(ngModel)]="student.Material" name="student.Material" id="materialCheck{{student.StudentFK}}" />\r\n                                    <label for="materialCheck{{student.StudentFK}}">Trouxe todo o material?</label>\r\n                                </div>\r\n                                <div class="col s4">\r\n                                    <div class="col s12 right-align">\r\n                                        <p style="display:inline">\r\n                                            <input name="{{student.StudentFK}}" (change)="chooseBehavior(i,1)" type="radio" id="VeryBad{{student.StudentFK}}" />\r\n                                            <label for="VeryBad{{student.StudentFK}}"></label>\r\n                                        </p>\r\n                                        <p style="display:inline">\r\n                                            <input name="{{student.StudentFK}}" (change)="chooseBehavior(i,2)" type="radio" id="Bad{{student.StudentFK}}" />\r\n                                            <label for="Bad{{student.StudentFK}}"></label>\r\n                                        </p>\r\n                                        <p style="display:inline">\r\n                                            <input name="{{student.StudentFK}}" (change)="chooseBehavior(i,3)" type="radio" id="Satisfatory{{student.StudentFK}}" />\r\n                                            <label for="Satisfatory{{student.StudentFK}}"></label>\r\n                                        </p>\r\n                                        <p style="display:inline">\r\n                                            <input checked name="{{student.StudentFK}}" (change)="chooseBehavior(i,4)" type="radio" id="Good{{student.StudentFK}}" />\r\n                                            <label for="Good{{student.StudentFK}}"></label>\r\n                                        </p>\r\n                                        <p style="display:inline">\r\n                                            <input name="{{student.StudentFK}}" (change)="chooseBehavior(i,5)" type="radio" id="VeryGood{{student.StudentFK}}" />\r\n                                            <label for="VeryGood{{student.StudentFK}}"></label>\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n                <div class="center" style="padding:20px">\r\n                    <button type="submit" class="btn waves-effect waves-light green darken-2" (click)="createLesson()"><i class="material-icons right">send</i>Submeter</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},x35b:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("3j3K"),i=n("O61y"),o=n("Iksp"),a=n("kZql");n.d(t,"API",function(){return s}),a.a.production&&n.i(r.a)(),n.i(i.a)().bootstrapModule(o.a);var s={url:"http://ec2-52-14-236-74.us-east-2.compute.amazonaws.com/api"}},xKGn:function(e,t,n){"use strict";var r=n("3j3K"),i=n("5oXY"),o=n("zfYR"),a=n("+0Yu");n.d(t,"a",function(){return d});var s=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},u=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},d=function(){function e(e,t,n,r){this._classService=e,this._schoolService=t,this._router=n,this._route=r}return e.prototype.ngOnInit=function(){return l(this,void 0,void 0,function(){var e,t,n=this;return u(this,function(r){switch(r.label){case 0:return $(document).ready(function(){$("ul.tabs").tabs({swipeable:!0})}),this._route.params.subscribe(function(t){return e=t.id}),t=this,[4,this._schoolService.getSchool(e)];case 1:return t.school=r.sent(),this._classService.getClassesByPrimarySchool(e).subscribe(function(e){return n.primary_classes=e}),this._classService.getClassesByKindergarten(e).subscribe(function(e){return n.kindergarten_classes=e}),[2]}})})},e}();d=s([n.i(r._11)({selector:"class-list",template:n("WYsJ")}),c("design:paramtypes",["function"==typeof(f=void 0!==a.a&&a.a)&&f||Object,"function"==typeof(h=void 0!==o.a&&o.a)&&h||Object,"function"==typeof(p=void 0!==i.b&&i.b)&&p||Object,"function"==typeof(v=void 0!==i.c&&i.c)&&v||Object])],d);var f,h,p,v},xdqU:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){function e(){}return e}()},y0iN:function(e,t,n){"use strict";var r=n("3j3K"),i=n("5oXY"),o=n("zfYR"),a=n("m7AI"),s=n("hB+E"),c=n("AMki");n.d(t,"a",function(){return h});var l=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},f=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},h=function(){function e(e,t,n,r,i,o,a){this._schoolService=e,this._route=t,this._fileService=n,this._assistantGuard=r,this._secretaryGuard=i,this._noticeService=o,this._adminGuard=a,this.notices=[]}return e.prototype.ngOnInit=function(){return d(this,void 0,void 0,function(){var e,t,n,r,i,o,a,s,c;return f(this,function(l){switch(l.label){case 0:return this._route.params.subscribe(function(t){return e=t.id}),t=this,r=(n=this.notices).concat,[4,this._noticeService.getNewsBySchool(e,0)];case 1:for(t.notices=r.apply(n,[l.sent()]),i=function(e){o._fileService.publicDownload(e.Image).subscribe(function(t){e.Image=t,console.log(e.Image)})},o=this,a=0,s=this.notices;a<s.length;a++)c=s[a],i(c);return[2]}})})},e}();h=l([n.i(r._11)({template:n("J6Ql")}),u("design:paramtypes",["function"==typeof(p=void 0!==o.a&&o.a)&&p||Object,"function"==typeof(v=void 0!==i.c&&i.c)&&v||Object,"function"==typeof(b=void 0!==a.a&&a.a)&&b||Object,"function"==typeof(y=void 0!==c.b&&c.b)&&y||Object,"function"==typeof(g=void 0!==c.g&&c.g)&&g||Object,"function"==typeof(m=void 0!==s.a&&s.a)&&m||Object,"function"==typeof(w=void 0!==c.c&&c.c)&&w||Object])],h);var p,v,b,y,g,m,w},yTnh:function(e,t,n){"use strict";var r=n("3j3K"),i=n("5oXY"),o=n("zfYR"),a=n("+0Yu");n.d(t,"a",function(){return d});var s=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},u=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},d=function(){function e(e,t,n,r){this._classService=e,this._schoolService=t,this._router=n,this._route=r,this.classes=[]}return e.prototype.ngOnInit=function(){return l(this,void 0,void 0,function(){var e,t,n,r,i,o,a;return u(this,function(s){switch(s.label){case 0:return $(document).ready(function(){$("ul.tabs").tabs({swipeable:!0})}),this._route.params.subscribe(function(t){return e=t.id}),[4,this._classService.getClassesByUser(e)];case 1:t=s.sent(),this.hasClass=t.length>0,n=0,r=t,s.label=2;case 2:return n<r.length?(i=r[n],[4,this._classService.getClassProfile(i)]):[3,6];case 3:return o=s.sent(),[4,this._schoolService.getSchool(o.SchoolFK)];case 4:a=s.sent(),this.classes.push({Class:o.Year+o.ClassDesc,ID:o.ID,School:a.Name}),s.label=5;case 5:return n++,[3,2];case 6:return this.classes=this.classes.sort(function(e,t){return e.School>t.School?1:e.School<t.School?-1:0}),[2]}})})},e}();d=s([n.i(r._11)({selector:"class-list-student",template:n("F01R")}),c("design:paramtypes",["function"==typeof(f=void 0!==a.a&&a.a)&&f||Object,"function"==typeof(h=void 0!==o.a&&o.a)&&h||Object,"function"==typeof(p=void 0!==i.b&&i.b)&&p||Object,"function"==typeof(v=void 0!==i.c&&i.c)&&v||Object])],d);var f,h,p,v},zfYR:function(e,t,n){"use strict";var r=n("3j3K"),i=n("Fzro"),o=n("rCTf"),a=(n.n(o),n("0lrd")),s=(n.n(a),n("+pb+")),c=(n.n(s),n("EnA3")),l=(n.n(c),n("6Yye")),u=(n.n(l),n("eErF")),d=(n.n(u),n("x35b"));n.d(t,"a",function(){return b});var f=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},h=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},v=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},b=function(){function e(e){this._http=e,this._apiURL=d.API.url,this._headers=new i.b,this._headers.append("Content-Type","application/json; charset=utf-8"),this._options=new i.c({headers:this._headers})}return e.prototype.getSchools=function(){return p(this,void 0,void 0,function(){var e;return v(this,function(t){switch(t.label){case 0:return[4,this._http.get(this._apiURL+"/school",this._options).toPromise()];case 1:return e=t.sent(),e.json().result?[2,e.json().data]:(console.log(e.json().info),[2,null])}})})},e.prototype.getSchool=function(e){return p(this,void 0,void 0,function(){var t;return v(this,function(n){switch(n.label){case 0:return[4,this._http.get(this._apiURL+"/school/"+e,this._options).toPromise()];case 1:return t=n.sent(),t.json().result?[2,t.json().data]:(console.log(t.json().info),[2,null])}})})},e.prototype.createSchool=function(e){return p(this,void 0,void 0,function(){var t,r;return v(this,function(o){switch(o.label){case 0:return t=JSON.stringify({Name:e.Name,Logo:e.Logo,ProfilePicture:e.ProfilePicture,Acronym:e.Acronym,About:e.About}),this._headers.append("Authorization",JSON.parse(localStorage.getItem("currentUser")).token),this._options=new i.c({headers:this._headers}),[4,this._http.post(this._apiURL+"/school",t,this._options).toPromise()];case 1:return r=o.sent(),r.json().result?(n.i(a.toast)("Escola criada com sucesso",4e3,"lime"),[2,r.json().data]):(n.i(a.toast)(r.json().info,4e3,"lime"),[2,null])}})})},e.prototype._handleError=function(e){return console.error(e),o.Observable.throw(e.json().error||"Server error")},e}();b=f([n.i(r.c)(),h("design:paramtypes",["function"==typeof(y=void 0!==i.d&&i.d)&&y||Object])],b);var y}},[0]);